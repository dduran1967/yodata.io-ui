<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/lib/solid-client-lite.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">All files</a> / <a href="index.html">src/lib</a> solid-client-lite.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/3182</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/2893</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/1093</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/7</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var SolidClient=function(e){function t(n){if(r[n])return <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >r[</span>n].exports;var i=r[n]<span class="fstat-no" title="function not covered" >={</span>expo<span class="cstat-no" title="statement not covered" >rts:{},id:<span class="cstat-no" title="statement not covered" >n,loaded:!1};return e</span></span>[n].cal<span class="cstat-no" title="statement not covered" >l(i.exports,i,i.exports,t),i.loaded=!0,i.e<span class="cstat-no" title="statement not covered" ></span>xports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.expor</span>ts=r(1)}<span class="cstat-no" title="statement not covered" >,fu<span class="cstat-no" title="statement not covered" ></span>nction(e,t,r){"use strict";var n=r(2),i=r</span>(4<span class="fstat-no" title="function not covered" >),</span>o=new i,s=r(60)(n,<span class="cstat-no" title="statement not covered" >{auth:o}),a=r(74),</span>u=<span class="fstat-no" title="function not covered" >ne</span>w a(s),c=r(76),l=r(82)(n),f=r(88),p={ac<span class="cstat-no" title="statement not covered" >l:f,A</span>ppRe<span class="cstat-no" title="statement not covered" >gistr</span>atio<span class="cstat-no" title="statement not covered" >n:r(79),</span>appR<span class="cstat-no" title="statement not covered" >egistry:r(78),auth:o,t</span>ls:u<span class="cstat-no" title="statement not covered" >,confi</span>g:r(<span class="cstat-no" title="statement not covered" >92),curre</span>ntUs<span class="cstat-no" title="statement not covered" >er:o.c</span>urre<span class="cstat-no" title="statement not covered" >ntUser.bi</span>nd(o<span class="cstat-no" title="statement not covered" >),iden</span>tity<span class="cstat-no" title="statement not covered" >:r(76),login:o.login.bind(o),logout:o.logout.bind(o),meta:r(93),rdflib:n,signup:u.signup.bind(u),status:r(95),typeRegistry:r(86),vocab:l,web:s};p.clearPermissions=function(e){return f.clearPermissions(e,s)},p.discoverWebID=function(e){return c.discoverWebID(e,s,l)},p.getPermissions=function(e)<span class="cstat-no" title="statement not covered" ></span>{return f.getPermissi<span class="fstat-no" title="function not covered" >on</span>s(e,s,n)},p.<span class="cstat-no" title="statement not covered" >getProfile=function(e,t){return c</span>.getProfile(e,t,s,n)<span class="fstat-no" title="function not covered" >},</span>e.exports=p}<span class="cstat-no" title="statement not covered" >,function(e,t,r){"use strict";var</span> n;n="undefined"!=typ<span class="fstat-no" title="function not covered" >eo</span>f $rdf?$rdf:<span class="cstat-no" title="statement not covered" >"undefined"!=typeof tabulator?tabu</span>lator.rdf:r(3),e.<span class="fstat-no" title="function not covered" >ex</span>ports=n},functi<span class="cstat-no" title="statement not covered" >on(e,t){e.exports=$rdf},function(</span>e,t,r){(function(</span>t)<span class="fstat-no" title="function not covered" >{"</span>use strict";function n(e,t){if(!(e in<span class="cstat-no" title="statement not covered" >stanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r</span>=0<span class="fstat-no" title="function not covered" >;r</span>&lt;t.length;r++){<span class="cstat-no" title="statement not covered" >var n=t[r];n.enume</span>ra<span class="fstat-no" title="function not covered" >bl</span>e=n.enumerable||!1<span class="cstat-no" title="statement not covered" >,<span class="fstat-no" title="function not covered" >n.</span>configurable=!0,"value"in n&amp;&amp;(n.wr<span class="fstat-no" title="function not covered" >it</span>able=!0<span class="cstat-no" title="statement not covered" >),Object.defineProperty<span class="cstat-no" title="statement not covered" >(e,n.key,n)}}return function(t,r,n){return r&amp;&amp;e(t.prototyp</span></span>e,r),n&amp;&amp;<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >e(</span>t,n),t}}(),o=r(5),s=<span class="fstat-no" title="function not covered" >"h</span>ash",a=<span class="cstat-no" title="statement not covered" >"query",u="redirect",c=function(){function e<span class="cstat-no" title="statement not covered" >(){va<span class="cstat-no" title="statement not covered" ></span>r r=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:{};n(this,e),this.window=r.window||t.window,this.localStorage=r.loca</span>l<span class="cstat-no" title="statement not covered" ></span>Storage<span class="fstat-no" title="function not covered" >||</span>t.localStorage,thi<span class="cstat-no" title="statement not covered" >s.currentClient=null,this.providerUri=null,this.</span>we</span>bId</span>=nul<span class="cstat-no" title="statement not covered" >l,thi</span>s.id<span class="cstat-no" title="statement not covered" >Token=n</span>ull,<span class="cstat-no" title="statement not covered" >this.acc</span>essT<span class="cstat-no" title="statement not covered" >oken=null,t</span>his.<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >me</span>thod=u}return i(e,[{<span class="fstat-no" title="function not covered" >ke</span>y:"initEven<span class="cstat-no" title="statement not covered" >tListeners",value:function(e){e.addEventListener("message",this.onMe<span class="cstat-no" title="statement not covered" ></span>ssage.bind(this))}},{key:"currentLocation",value:function(){var e=this.window;return e.location.href}},{key:"currentUser",value:function(){if(this.webId)return Promise.resolve(this.webId);var e=this.providerFromCurrentUri();return e?thi<span class="cstat-no" title="statement not covered" ></span>s.login(e):Promise.resolve(null)}},{key:"extractState",value:function(e){var t=argum<span class="fstat-no" title="function not covered" >ents.l</span>engt<span class="cstat-no" title="statement not covered" >h&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:s;if(!e)return nul</span>l;var r=new URL(e),n=void 0;if(t===s){var i=r.hash||"#",o=new URLSearchP<span class="fstat-no" title="function not covered" >arams(</span>i.substr(1)<span class="cstat-no" title="statement not covered" >);n=o.get("s<span class="cstat-no" title="statement not covered" ></span>tate")}return t===a&amp;&amp;(n=</span>r.searchParams.get("state")),n}},{key:"keyByProvider",value:function<span class="fstat-no" title="function not covered" >(){var</span> e=<span class="cstat-no" title="statement not covered" >arguments.length<span class="cstat-no" title="statement not covered" >&gt;0&amp;&amp;void 0!==arguments[0]?arguments[</span></span>0]:this<span class="cstat-no" title="statement not covered" >.providerUri;return"oidc.rp.by<span class="cstat-no" title="statement not covered" ></span>-provider."+e}},{key:"keyByState",value:function(e</span>){if(!e)throw new TypeError("No state provided to keyByState()");retu<span class="fstat-no" title="function not covered" >rn"oid</span>c.rp.by-stat<span class="cstat-no" title="statement not covered" >e."+e}},{key:"loadOrRegisterClient",value:function(e){var t=this;re<span class="cstat-no" title="statement not covered" ></span>turn thi<span class="cstat-no" title="statement not covered" >s.currentClie</span></span>nt=null<span class="cstat-no" title="statement not covered" >,this.loadC</span>lien<span class="cstat-no" title="statement not covered" >t(e).th<span class="cstat-no" title="statement not covered" ></span>en(function(r){return <span class="cstat-no" title="statement not covered" >r?(t.currentCl</span>ient<span class="cstat-no" title="statement not covered" >=r,r):(t.currentClient=null,t.reg<span class="cstat-no" title="statement not covered" ></span>isterClient(e))})}},<span class="cstat-no" title="statement not covered" ></span>{</span>key:"loadClient",value:function(e){if(!e){var t=new Err</span>or("Cannot load or register client, providerURI missing");return Promi<span class="fstat-no" title="function not covered" >se.rej</span>ect(t)}if(t<span class="cstat-no" title="statement not covered" >his.currentClient&amp;&amp;this.currentClient.provider.url===e)return Promise.resolve(this<span class="cstat-no" title="statement not covered" ></span>.currentClient);var r=this.keyByPro</span>vider(e),n=localStorage.getItem(r);return n?(n=JSON.parse(n),o.from<span class="fstat-no" title="function not covered" >(n)):P</span>romi<span class="cstat-no" title="statement not covered" >se.resol<span class="cstat-no" title="statement not covered" >ve(null)}},{key:"loadProvider",value:function(e){var t=th<span class="cstat-no" title="statement not covered" >i</span></span>s.keyByState(e),r=localStorage.</span>getItem(t);return r}},{key:"login",value:function(e){this.clearCurrentUser();<span class="fstat-no" title="function not covered" >var t=</span>this.selectP<span class="cstat-no" title="statement not covered" >rovid<span class="cstat-no" title="statement not covered" ></span>er.bind(this),r=this.loadOrRegisterClient.bind(this),n=thi<span class="fstat-no" title="function not covered" >s.</span>validateOrSe<span class="cstat-no" title="statement not covered" >ndAuthRequest.bind(this);return Promise.resolve(e).then(t).then(r).then(n)}},{key:"cl</span>ear</span>CurrentUser",value:function(){this.webId=null,this.accessToken=null<span class="fstat-no" title="function not covered" >,this.</span>idTo<span class="cstat-no" title="statement not covered" >ken=null}},{key:"<span class="cstat-no" title="statement not covered" >logout",value:function(){return this.clearCurrentUser(),this.curr<span class="cstat-no" title="statement not covered" ></span>entClient?this.currentClie<span class="cstat-no" title="statement not covered" ></span>n</span>t.logout():Promise.resolve(null)}},{key:"selectProvider",value:f<span class="cstat-no" title="statement not covered" >unction(e){return e?Promise.resolve(e):(e=th</span></span>is.prov<span class="cstat-no" title="statement not covered" >iderFromCurrentUri(),e</span>?Pro<span class="cstat-no" title="statement not covered" >mise.resolve(e):this.pro<span class="cstat-no" title="statement not covered" ></span>viderFromUI())}},{key:"providerFromCurrentUri",value:function(){var</span> e=this.currentLocation(),t=this.extractState(e,s);return t?this.load<span class="fstat-no" title="function not covered" >Provid</span>er(t):null}}<span class="cstat-no" title="statement not covered" >,{key:"providerFrom</span>UI",<span class="cstat-no" title="statement not covered" >value:function(){console<span class="cstat-no" title="statement not covered" ></span>.log("No s</span>tate param, getting provider from UI"),this.initEventListeners<span class="fstat-no" title="function not covered" >(windo</span>w)}}<span class="cstat-no" title="statement not covered" >,{key:"currentUriHasAuthR</span>esponse<span class="cstat-no" title="statement not covered" >",value:function(){var e=this.c</span>urre<span class="cstat-no" title="statement not covered" >ntLocation(),t=this.extractState(e,s)</span>;ret<span class="cstat-no" title="statement not covered" >urn!!t}},{key:"redirectTo",value:function(<span class="cstat-no" title="statement not covered" ></span>e){this.window.location=e}},{key:"sendAuthRequest",</span>value:function(e){var t=this,r={},n=e.provider.url;return e.createRequest<span class="fstat-no" title="function not covered" >(r,thi</span>s.l<span class="cstat-no" title="statement not covered" >ocalStorage).then(function(e){var r=t.extractState(e,a);if(!r)thr</span>ow new Error("Invalid authentication request uri");t.saveProvid<span class="fstat-no" title="function not covered" >erBySt</span>ate<span class="cstat-no" title="statement not covered" >(r,n),t.method===u&amp;&amp;t.redirectTo(e)})}},{key:"validateOrSendAuthRequest",value:function(e){if(!e){var t=ne</span>w Error("Could not load or register a RelyingParty client");return Prom<span class="fstat-no" title="function not covered" >ise.re</span>ject<span class="cstat-no" title="statement not covered" >(t)}return this.currentUriHasAuthResponse()?this.initUserFromResponse(e):this.sendAuthRequest(e)}},{key:"initUserFrom</span>Response",value:function(e){var t=this;return e.validateResponse(this.currentLo<span class="fstat-no" title="function not covered" >cation</span>(),this.loc<span class="cstat-no" title="statement not covered" >alStorage).then(functio</span>n(e)<span class="cstat-no" title="statement not covered" >{return t.idToken=e.para<span class="cstat-no" title="statement not covered" ></span>ms.id_token,t.accessToken=e.params.acces</span>s_token,t.extractAndValidateWebId(e.decoded)}).catch(function(e){if("Ca<span class="fstat-no" title="function not covered" >nnot r</span>eso<span class="cstat-no" title="statement not covered" >lve signing key for ID Token."===e.message)return console.log("ID Token found, but could n</span>ot validate. Provider likely has changed their public keys. Please retry login."),<span class="fstat-no" title="function not covered" >null;t</span>hrow e})}},<span class="cstat-no" title="statement not covered" >{key:"extractAndValidat</span>eWeb<span class="cstat-no" title="statement not covered" >Id",value:function(e){va<span class="cstat-no" title="statement not covered" ></span>r t=e.payloa</span>d.sub;return this.webId=t,t}},{key:"registerClient",value:function(<span class="fstat-no" title="function not covered" >e){var</span> t=t<span class="cstat-no" title="statement not covered" >his,r=arguments.length&gt;1&amp;&amp;</span>void 0!==arguments[1]?arguments[1]:{};return this.registerPublicClient(e<span class="fstat-no" title="function not covered" >,r).th</span>en(function(<span class="cstat-no" title="statement not covered" >r){re</span>turn<span class="cstat-no" title="statement not covered" > t.</span>stor<span class="cstat-no" title="statement not covered" >eClient(r,e),r}<span class="cstat-no" title="statement not covered" ></span>)}},{key:"registerPublicClient",value:function(e){<span class="fstat-no" title="function not covered" >va</span>r t=arguments.length<span class="cstat-no" title="statement not covered" >&gt;1&amp;&amp;void 0!==argument<span class="cstat-no" title="statement not covered" ></span>s[1]?arg<span class="cstat-no" title="statement not covered" >uments[1]:{};if(console.log("Registering public client<span class="cstat-no" title="statement not covered" >.</span></span>.."),!e)throw new TypeError("Cannot registerClient auth client,</span> mi</span>ssing providerUri");var r=t.redirectUri||this.currentLocation();this.redirectUri=r<span class="fstat-no" title="function not covered" >;var n</span>={is<span class="cstat-no" title="statement not covered" >suer:e,grant_type<span class="cstat-no" title="statement not covered" >s:["implicit"],redirect_uris:[r],response_types:["id_token tok<span class="cstat-no" title="statement not covered" ></span>en"],scope:t.scope||"openi<span class="cstat-no" title="statement not covered" ></span>d</span> profile"},i={defaults:{authenticate:{redirect_uri:r,response_type:"id_token token"}},store:t.sto</span>re||localStorage};return o.register(e,n,i)}},{key:"onMessage",value:function(<span class="fstat-no" title="function not covered" >e){if(</span>console.log(<span class="cstat-no" title="statement not covered" >"Auth<span class="cstat-no" title="statement not covered" ></span> client received event: ",e),e&amp;&amp;e.data)switch(e.data.event_type){case"prov<span class="fstat-no" title="function not covered" >id</span>erSelected":<span class="cstat-no" title="statement not covered" >console.log("Provider selected: ",e.data.value);break;default:console.error("onMessage - unknown event type: ",e)}}</span>},{key:"<span class="fstat-no" title="function not covered" >sa</span>veProviderBy<span class="cstat-no" title="statement not covered" >State",value:function(e,t){if(!e)throw new Error("Cannot save <span class="cstat-no" title="statement not covered" >providerUri - state not provided");var r=this.keyByState(e);localStorage.setItem(r,t)}},{key:"storeClient",value:function(e,t){this.cur<span class="cstat-no" title="statement not covered" >r</span></span>entClien</span>t=e</span>,localStorage.setItem(this.keyByProvider(t),e.serialize())}}]),e}();e.exports=c}<span class="fstat-no" title="function not covered" >).call</span>(t,function(<span class="cstat-no" title="statement not covered" >){return this}<span class="cstat-no" title="statement not covered" ></span>())},function(e,t,r){"use </span>strict";e.exports=r(6)},function(e,t,r){(function(t){"use strict";funct<span class="fstat-no" title="function not covered" >ion n(</span>e,t){if(!(e <span class="cstat-no" title="statement not covered" >insta</span>nceo<span class="cstat-no" title="statement not covered" >f t))throw new TypeError("Cannot call a class as a function")}functi<span class="cstat-no" title="statement not covered" ></span>on i(e,t){if(!e)throw new ReferenceError("th<span class="fstat-no" title="function not covered" >is</span> hasn't been<span class="cstat-no" title="statement not covered" > initialised - super() hasn't b</span>een</span> called");return!t||"object"!=typeof t&amp;&amp;"function"!=typeof t?e:t}function o(e<span class="fstat-no" title="function not covered" >,t){if</span>("function"!<span class="cstat-no" title="statement not covered" >=typeof t&amp;&amp;null!==t)throw new TypeError("Super expression must eithe<span class="cstat-no" title="statement not covered" ></span>r be null or a function, not "+typeof t);e.prototype=<span class="cstat-no" title="statement not covered" >Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,co</span></span>nfigura<span class="cstat-no" title="statement not covered" >ble:!0}}),t&amp;&amp;(Object.setPrototypeOf?Obje<span class="cstat-no" title="statement not covered" ></span>ct.setPrototypeOf(e,t)</span>:e.__pr<span class="cstat-no" title="statement not covered" >oto__=t)}var s=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"val</span>ue"i<span class="cstat-no" title="statement not covered" >n n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}<span class="cstat-no" title="statement not covered" ></span>}(),a=r(7),u=r(12),c=u.Heade</span>rs?u.Headers:t.Headers,l=r(13),f=(l.JSONSchema,l.JSONDocument),p=r<span class="fstat-no" title="function not covered" >(22),h</span>=p.J<span class="cstat-no" title="statement not covered" >WKSet,d=r(50),y=r(56),g=r(59),v=function(e){function t(){return n<span class="cstat-no" title="statement not covered" >(this,t),i(this,(t.__proto__||Object.getPrototypeOf(<span class="cstat-no" title="statement not covered" >t)).apply(this,arguments))}return o(t,e),s(t,[{ke<span class="cstat-no" title="statement not covered" >y</span>:"disc</span>over",v<span class="cstat-no" title="statement not covered" >alue:function(){var e=this;try{var t=this.provider.url</span>,</span></span>r=".well-known/openid-configuration";return a(t,'RelyingParty provider must <span class="fstat-no" title="function not covered" >define</span> "url"'<span class="cstat-no" title="statement not covered" >),u(t+"/<span class="cstat-no" title="statement not covered" >"+r).then(function(t){return t.json().then(function(t){return e.p</span></span>rovider<span class="cstat-no" title="statement not covered" >.configuration=t})}<span class="cstat-no" title="statement not covered" ></span>)}catch(e){return Promise.re</span>ject(e)}}},{key:"register",value:function(e){var t=this;try{var r=th<span class="fstat-no" title="function not covered" >is.pro</span>vider.c<span class="cstat-no" title="statement not covered" >onfiguration;a(r,"OpenID Configuration is not initialized."),a(r.registration_endpoi</span>nt,"OpenI</span>D C<span class="cstat-no" title="statement not covered" ></span>onfiguration is</span> missing r<span class="fstat-no" title="function not covered" >eg</span>istration_e<span class="cstat-no" title="statement not covered" >ndpoint.");va</span>r n=r</span>.r<span class="fstat-no" title="function not covered" >eg</span>istration_endpoint,i="post",o=n<span class="cstat-no" title="statement not covered" >ew c({"Content-Typ</span>e"<span class="fstat-no" title="function not covered" >:"</span>application/json"}<span class="cstat-no" title="statement not covered" >)<span class="fstat-no" title="function not covered" >,s</span>=this.defaults.register,l=JSON.str<span class="fstat-no" title="function not covered" >in</span>gify(Ob<span class="cstat-no" title="statement not covered" >ject.assign({},s,e));re<span class="cstat-no" title="statement not covered" >turn u(n,{method:i,headers:o,body:l}).then(function(e){ret</span></span>urn e.jso<span class="fstat-no" title="function not covered" >n(</span>).then(<span class="cstat-no" title="statement not covered" >function<span class="cstat-no" title="statement not covered" >(e){return t.registration=e})})}catch(e){return Promise.reject(e)}}},{key:"serialize",<span class="cstat-no" title="statement not covered" >v</span></span>alue:function(){return JSON.stringify(this)}},{key:"jwks",value:func</span>tion(){va<span class="fstat-no" title="function not covered" >r </span>e=this;<span class="cstat-no" title="statement not covered" >try{var t=this.provider.configuration;a(t,<span class="cstat-no" title="statement not covered" >"OpenID Configuration is not initialized."),a(t.jwks_uri,"OpenID Configuration is missing j<span class="cstat-no" title="statement not covered" >w</span></span>ks_uri.");var r=t.jwks_uri;return u(r).then(function(t){return t.json().then(function(e){return h.importKeys(e)}).then(function(t){return e.provider.jwks=t})})}catch(e){return Promise.reject(e)}}},{key:"</span>createRe<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >qu</span>est",value:function(<span class="fstat-no" title="function not covered" >e,</span>t){retu<span class="cstat-no" title="statement not covered" >rn d.create(this,e,t||this.store)}},{key:"va<span class="cstat-no" title="statement not covered" >lidat<span class="cstat-no" title="statement not covered" ></span>eResponse",value:function(e,t){return t=t||this.store,e=e.match(/^http(s?):\/\//)?{rp:this,redirect:e,session:t}:{rp:this,body:</span>e<span class="cstat-no" title="statement not covered" ></span>,sessio<span class="fstat-no" title="function not covered" >n:</span>t},y.validateRespo<span class="cstat-no" title="statement not covered" >nse(e)}},{key:"userinfo",value:function(){try{va</span>r </span>e=t</span>his.<span class="cstat-no" title="statement not covered" >provi</span>der.<span class="cstat-no" title="statement not covered" >config</span>urat<span class="cstat-no" title="statement not covered" >ion;a(e,"OpenID Configuration is n</span>ot i<span class="cstat-no" title="statement not covered" >nitial</span>ized.<span class="cstat-no" title="statement not covered" >"),a(e.registration_endpoint,</span>"Open<span class="cstat-no" title="statement not covered" >ID Con</span>figu<span class="cstat-no" title="statement not covered" >ration is</span> mis<span class="cstat-no" title="statement not covered" >sing r</span>egis<span class="cstat-no" title="statement not covered" >tratio</span>n_en<span class="cstat-no" title="statement not covered" >dpoint</span>.");<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >va</span>r t=e.userinfo_endpoi<span class="fstat-no" title="function not covered" >nt</span>,r=<span class="cstat-no" title="statement not covered" >this.session.access_token;a(r,"Missing access token.");var n=new c({"Content-Type":"applicatio<span class="cstat-no" title="statement not covered" ></span>n/json",Authorization:"Bearer "+r});return u(t,{headers:n}).then(status(200)).then(<span class="fstat-no" title="function not covered" >functi</span>on(e){retur<span class="cstat-no" title="statement not covered" >n e.j<span class="cstat-no" title="statement not covered" ></span>son()})}catch<span class="cstat-no" title="statement not covered" >(e){return Promise</span>.rej<span class="cstat-no" title="statement not covered" >ect(e)}}},{key:"logout",value:funct<span class="cstat-no" title="statement not covered" ></span>ion(){var e=void 0;try{e=this.provider.configuration,a(e,"OpenID Configurati<span class="fstat-no" title="function not covered" >on</span> is not init<span class="cstat-no" title="statement not covered" >ialized."),a(e.end_se<span class="fstat-no" title="function not covered" >ss</span>ion_endpoint<span class="cstat-no" title="statement not covered" >,"OpenID Configuration is missing end</span>_se</span>ssi</span>on_endpoint.<span class="cstat-no" title="statement not covered" >")}catch(e){return Promise</span>.</span>reject(e)}var t=e.end_session_endpoint,r="get";return u(t,{method<span class="fstat-no" title="function not covered" >:r})}}</span>],[{key:"fro<span class="cstat-no" title="statement not covered" >m",va<span class="cstat-no" title="statement not covered" ></span>lue:function(<span class="cstat-no" title="statement not covered" >e){var r=new t(e),n=r.valida<span class="cstat-no" title="statement not covered" ></span>te();if(!n.valid)return Promise.reject(n);var i=r.provider.jwks;return i?h.importKeys(i).then(function(e){return r.provider.jwks=e,r}):r</span>.jwks()<span class="cstat-no" title="statement not covered" >.then(function(){return </span>r})}<span class="cstat-no" title="statement not covered" >},{key:</span>"reg<span class="cstat-no" title="statement not covered" >ister",value:function(e,r,n){var i=new t({prov</span>ider<span class="cstat-no" title="statement not covered" >:{url:e},defaults:Objec</span>t.as<span class="cstat-no" title="statement not covered" >sign({},n.defaults),store:n.store});retu<span class="cstat-no" title="statement not covered" ></span>rn Promise.resolve().then(function(){return i.discove<span class="fstat-no" title="function not covered" >r(</span>)}).catch(fu<span class="cstat-no" title="statement not covered" >nction(e){throw conso<span class="fstat-no" title="function not covered" >le</span>.error("Erro<span class="cstat-no" title="statement not covered" >r in RP register() &gt; discov</span>er(</span>) s</span>tep:",e),e})<span class="cstat-no" title="statement not covered" >.then(function(){return i.</span>j</span>wks()}).catch(function(e){throw console.error("Error in RP registe<span class="fstat-no" title="function not covered" >r() &gt; </span>jwk<span class="cstat-no" title="statement not covered" >s() step:",e),e}).then(functi</span>on(){return i.register(r)}).catch(function(e){throw console.e<span class="fstat-no" title="function not covered" >rror("</span>Error in RP<span class="cstat-no" title="statement not covered" > regi<span class="cstat-no" title="statement not covered" ></span>ster() &gt; regi<span class="cstat-no" title="statement not covered" >ster() step:",e),e}).then(fu<span class="cstat-no" title="statement not covered" ></span>nction(){return i})}},{key:"schema",get:function(){return g}}]),t}(f);e.exports=v}).call(t,function(){return t</span>his}())<span class="cstat-no" title="statement not covered" >},function(<span class="cstat-no" title="statement not covered" ></span>e,t,r){(function(<span class="fstat-no" title="function not covered" >t)</span>{"use strict<span class="cstat-no" title="statement not covered" >";/*!<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh &lt;feross@feross.org&gt; &lt;http://feross.org&gt;
	 * @license  MIT
	 */
function n(<span class="fstat-no" title="function not covered" >e,</span>t){if(e<span class="cstat-no" title="statement not covered" >===t)return 0<span class="cstat-no" title="statement not covered" >;for(var <span class="cstat-no" title="statement not covered" >r</span></span>=e.length,n=t.length,i=0,o=Math.min(r,n);i&lt;o;++i)if(e[i]!==t[i]){r=e[i],n=t<span class="cstat-no" title="statement not covered" >[i];break}return r&lt;n<span class="cstat-no" title="statement not covered" >?-1:n&lt;r?1:0}functio<span class="cstat-no" title="statement not covered" >n</span> i(e){<span class="cstat-no" title="statement not covered" ></span>r</span></span>eturn t.Buffer&amp;&amp;"function"==typeof</span> t.Buffer<span class="fstat-no" title="function not covered" >.i</span>sBuf<span class="cstat-no" title="statement not covered" >fer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function</span> s(e){ret<span class="fstat-no" title="function not covered" >ur</span>n!i(<span class="cstat-no" title="statement not covered" >e)&amp;&amp;("function"==typeof t.ArrayBuffer&amp;&amp;("f</span>unction"=<span class="fstat-no" title="function not covered" >=t</span>ypeo<span class="cstat-no" title="statement not covered" >f ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&amp;&amp;(e instanceof DataView||!!(e.buffer&amp;&amp;e.buffer instanceof ArrayBuffer))))}function a(e){if(b.isFunction(e)){if(S)return e.name;var t=e.toString(),r=t.match(x)</span>;return r<span class="fstat-no" title="function not covered" >&amp;&amp;</span>r[1]<span class="cstat-no" title="statement not covered" >}}function u(e,t){retu<span class="cstat-no" title="statement not covered" >rn"stri<span class="cstat-no" title="statement not covered" >ng"==typeof e?e</span></span>.length<span class="cstat-no" title="statement not covered" >&lt;t?e:e.slice(</span>0,t)<span class="cstat-no" title="statement not covered" >:e}function<span class="cstat-no" title="statement not covered" ></span> c(e){if(S||!b.isF</span>u</span>nction(e)<span class="fstat-no" title="function not covered" >)r</span>eturn b<span class="cstat-no" title="statement not covered" >.inspect(e);var t=a(e),r=t?": "+t:"";return"[Function"+r+"]"}functio</span>n l(e){re<span class="fstat-no" title="function not covered" >tu</span>rn u<span class="cstat-no" title="statement not covered" >(c(e.actual),128)+" "+e.ope<span class="cstat-no" title="statement not covered" >rator+" "+u(c(e.expec</span></span>ted),12<span class="cstat-no" title="statement not covered" >8)}fu</span>ncti<span class="cstat-no" title="statement not covered" >on f(e,t,r,n,i){th<span class="cstat-no" title="statement not covered" ></span>row new A.AssertionError({mess</span>age:r,act<span class="fstat-no" title="function not covered" >ua</span>l:e,<span class="cstat-no" title="statement not covered" >expected:t,operator:n,stackStartFunction:i})}function p(e,t){e||f(e,!0,t,"=="</span>,A.ok)}fu<span class="fstat-no" title="function not covered" >nc</span>tion h(e,t,r,a){<span class="cstat-no" title="statement not covered" >if(e===t)return!0;if(i(e)&amp;&amp;i(t))return 0===n(e,t);if(b.isDate(e)&amp;&amp;b.isDate(t))return e.getTime()===t.get</span>Time();if<span class="fstat-no" title="function not covered" >(b</span>.isRegE<span class="cstat-no" title="statement not covered" >xp(e)&amp;&amp;b.isRegExp(t))return e.</span>source===<span class="fstat-no" title="function not covered" >t.</span>source&amp;&amp;e.glo<span class="cstat-no" title="statement not covered" >bal===t.globa<span class="cstat-no" title="statement not covered" >l&amp;&amp;e.multi<span class="cstat-no" title="statement not covered" >l</span></span>ine===t.multiline<span class="cstat-no" title="statement not covered" >&amp;&amp;e.lastIndex===t.las<span class="cstat-no" title="statement not covered" >t</span></span>Index&amp;&amp;e.ignoreCase===t.ignoreC<span class="cstat-no" title="statement not covered" >ase;if(null!==e&amp;&amp;"object"==typeof e<span class="cstat-no" title="statement not covered" >|</span></span>|null!==t&amp;&amp;"object"==typeof t){if(s<span class="cstat-no" title="statement not covered" >(e)&amp;&amp;s(t)&amp;&amp;o(e)===o(t)&amp;&amp;!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(<span class="cstat-no" title="statement not covered" >e</span></span>)!==i(t))return!1;a=a||{actual:[],expected:[]};var u=a.actual.indexOf(e);retur<span class="cstat-no" title="statement not covered" >n u!==-1&amp;&amp;u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),y(e,t,r,a))}return r?e<span class="cstat-no" title="statement not covered" >===t:e==t}function d(e){return"[object Arguments]"==Object.prototyp<span class="cstat-no" title="statement not covered" >e</span></span>.toString.call(e)}<span class="cstat-no" title="statement not covered" >function y<span class="cstat-no" title="statement not covered" >(</span></span>e,t,r,n){if(null===e||void 0===e||null</span>===t||v<span class="cstat-no" title="statement not covered" >oid 0===t)return!1;i<span class="cstat-no" title="statement not covered" ></span>f(b.isPrimitive(e)||b.isPrimitive(t))return e===t;if(r&amp;&amp;Object.getPrototypeOf(e)!==Object.getPrototypeOf(<span class="cstat-no" title="statement not covered" ></span>t</span>))return!1;var i=d(e),o=d(t)</span>;if(i&amp;&amp;!o<span class="fstat-no" title="function not covered" >||</span>!i&amp;&amp;<span class="cstat-no" title="statement not covered" >o)return!1;if(i)return e=E.call(e),t=E.call(t),h(e,t,r);var s,a,u=</span>O(e),c=O(<span class="fstat-no" title="function not covered" >t)</span>;if(u.length!<span class="cstat-no" title="statement not covered" >==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a&gt;=0;a-<span class="cstat-no" title="statement not covered" >-)if(u[a]!<span class="cstat-no" title="statement not covered" >=</span></span>=c[a])return!1;for(a=u.length-1;a&gt;=0;a--)<span class="cstat-no" title="statement not covered" >if(s=u[a],!h(e[<span class="cstat-no" title="statement not covered" >s</span></span>],t[s],r,n))return!1;return!0}function g(e,t,r){h(e,t,!0)&amp;&amp;f(e,<span class="cstat-no" title="statement not covered" >t,r,"notDee</span></span>pStrict<span class="cstat-no" title="statement not covered" >Equal</span>",g)<span class="cstat-no" title="statement not covered" >}func<span class="cstat-no" title="statement not covered" ></span>tion v(e,t){if(!e||!t)re<span class="cstat-no" title="statement not covered" >turn!1;if(<span class="cstat-no" title="statement not covered" >"</span></span>[objec<span class="cstat-no" title="statement not covered" >t RegExp]"==Object.prototype.toString.call(t))ret</span></span>urn t.test(<span class="cstat-no" title="statement not covered" >e);tr</span>y{if<span class="cstat-no" title="statement not covered" >(e in<span class="cstat-no" title="statement not covered" ></span>stanceof t)return!0}catch(e<span class="cstat-no" title="statement not covered" >){}return!<span class="cstat-no" title="statement not covered" >E</span></span>rror.isPrototypeOf(t)&amp;&amp;t.call({},e)===!0}function m(e){<span class="cstat-no" title="statement not covered" >var t;try{e()}catch<span class="cstat-no" title="statement not covered" >(e){t=e}re<span class="cstat-no" title="statement not covered" >t</span></span></span>urn t}function w(e,t,r,n){var i;if(<span class="cstat-no" title="statement not covered" >"function"!=typeof t)throw new TypeE<span class="cstat-no" title="statement not covered" >rror('"blo<span class="cstat-no" title="statement not covered" >c</span></span></span>k" argumen</span>t must be<span class="fstat-no" title="function not covered" > a</span> function'<span class="cstat-no" title="statement not covered" >);"string"==typeof r&amp;&amp;(n=r,r=null),i=m(t),n=(r&amp;&amp;r.na</span>me?" ("+r<span class="fstat-no" title="function not covered" >.n</span>ame+").<span class="cstat-no" title="statement not covered" >":".")+(n?" "+<span class="cstat-no" title="statement not covered" >n:"."),e&amp;&amp;<span class="cstat-no" title="statement not covered" >!</span></span>i&amp;&amp;f(i,r,"Missing expected exception"+n);var o="string"==ty<span class="cstat-no" title="statement not covered" >peof n,s=!e&amp;&amp;b.is<span class="cstat-no" title="statement not covered" >E</span></span>rror<span class="cstat-no" title="statement not covered" >(i),a=!e&amp;&amp;i&amp;&amp;!r;if((<span class="cstat-no" title="statement not covered" >s&amp;&amp;o&amp;&amp;v(i,r</span></span>)||a)&amp;&amp;f(i,r,<span class="cstat-no" title="statement not covered" >"</span>Got unwanted exception"+n),e&amp;&amp;i&amp;&amp;r&amp;&amp;!v(i,r)||!e&amp;&amp;i)thro</span>w i}var b<span class="fstat-no" title="function not covered" >=r</span>(8),k=Obje<span class="cstat-no" title="statement not covered" >ct.pr<span class="cstat-no" title="statement not covered" >ototy</span>pe.hasOwnPro<span class="cstat-no" title="statement not covered" >perty,E<span class="cstat-no" title="statement not covered" ></span>=</span>Array.pro</span>totype.sl<span class="fstat-no" title="function not covered" >ic</span>e,S=function(){retu<span class="cstat-no" title="statement not covered" >rn"foo"===function(){}.name}<span class="cstat-no" title="statement not covered" >(),A=e.exports=p,x=/\s*function\s+([^\(\s]*)\s*/;A.Assertio<span class="cstat-no" title="statement not covered" >n</span></span>Error=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):</span>(this.m<span class="cstat-no" title="statement not covered" >essage=l(this),this.g</span>ener<span class="cstat-no" title="statement not covered" >atedMessage=!0);var</span> t=e<span class="cstat-no" title="statement not covered" >.stackStartFun<span class="cstat-no" title="statement not covered" ></span>ction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=<span class="cstat-no" title="statement not covered" >r.stack,i</span></span>=a(t),o=<span class="cstat-no" title="statement not covered" >n.ind</span>exOf<span class="cstat-no" title="statement not covered" >("\n"+i);if(o&gt;=0){var s=n.indexO</span>f("\<span class="cstat-no" title="statement not covered" >n",o+1);n=n.substring(</span>s+1)<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >}t</span>his.stack=n<span class="cstat-no" title="statement not covered" >}}},b.inherits(A.<span class="fstat-no" title="function not covered" >As</span>sertionError,Error)</span>,A.</span>fail<span class="cstat-no" title="statement not covered" >=f,A.ok=p,A.eq</span>ual=<span class="cstat-no" title="statement not covered" >function(e,t,r){e!=t&amp;&amp;f(e,t,r,<span class="cstat-no" title="statement not covered" ></span>"==",A.equal)},A.no<span class="fstat-no" title="function not covered" >tE</span>qual=functio<span class="cstat-no" title="statement not covered" >n(e,t,r){e==t&amp;&amp;f(e,t,r,"!=",A.notEqual)},A.deepEqual=function(e,t,r){h(e,t,!1)||f(e,t,r,"deepEqual",A.deepEqual)},A.deepStrictEqual=function(e,t,r){h(e,t,!0)||f(e,t,r,"deepStrictEqual",A.deepStrictEqual)},A.notDeepEqual=function(e,t,</span>r){h(e,<span class="cstat-no" title="statement not covered" >t,!1)&amp;&amp;f(e,t,r,"notDeepEqu<span class="cstat-no" title="statement not covered" ></span>al",A.notDeepEqual)},A.notDee<span class="cstat-no" title="statement not covered" >pStrictEqual=g,A.strictEqual=funct</span>ion(e,t,r){e!<span class="cstat-no" title="statement not covered" >==t&amp;&amp;f(e,t,r<span class="cstat-no" title="statement not covered" ></span>,"===",A.strictEqual)}<span class="cstat-no" title="statement not covered" >,A.notSt</span>rict<span class="cstat-no" title="statement not covered" >Equal</span>=fun<span class="cstat-no" title="statement not covered" >ction(e,t,r){e===t&amp;&amp;<span class="cstat-no" title="statement not covered" ></span>f(e,t,r,"!==",A.notSt<span class="cstat-no" title="statement not covered" >rictEqual)},A.throws=fu<span class="cstat-no" title="statement not covered" ></span>nction(e,t,r){w(!0,e,t,r<span class="cstat-no" title="statement not covered" ></span>)</span>},A.doesNotThro</span>w</span>=</span>function(e,t,r){w(!1,e,t,r)},A.ifError=function(e){if(e)throw e};var O=<span class="fstat-no" title="function not covered" >Ob</span>ject.keys||functio<span class="cstat-no" title="statement not covered" >n(e){var t=[];for(var r in e)k.call(e</span>,r)&amp;&amp;t.push(r);<span class="fstat-no" title="function not covered" >re</span>turn t}}).call(t,f<span class="cstat-no" title="statement not covered" >unction(){return this}())},function(e,t,</span>r){(function(e,n<span class="fstat-no" title="function not covered" >){</span>function i(e,r){va<span class="cstat-no" title="statement not covered" >r n={seen:[],stylize:s};return arguments.length&gt;=3&amp;&amp;(</span>n.depth=arguments[2]),<span class="fstat-no" title="function not covered" >ar</span>guments.length&gt;=4&amp;<span class="cstat-no" title="statement not covered" >&amp;(n.colors=arguments[3]),y(r)?n.showHidden=r:r&amp;&amp;t._extend(n,r),k(</span>n.showHidden)&amp;&amp;(n.s<span class="fstat-no" title="function not covered" >ho</span>wHidden=!1),k(n.de<span class="cstat-no" title="statement not covered" >pth)&amp;&amp;(n.depth=2),k(n.colors)&amp;&amp;(n.colors=!1),k(n.customInsp</span>ect)&amp;&amp;(n.customInspect=!0),n.colors&amp;&amp;(n.styl<span class="fstat-no" title="function not covered" >iz</span>e=o),u(n,e,n.depth<span class="cstat-no" title="statement not covered" >)}function o(e,t){var r=i.styles[t];return r?</span>"["+i.colors[r][0]+"<span class="fstat-no" title="function not covered" >m"</span>+e+"["+i.colors[r<span class="cstat-no" title="statement not covered" >][1]+"m":e}function s(e,t){return e}function a(e</span>){var t={};re<span class="fstat-no" title="function not covered" >tu</span>rn e.forEach(funct<span class="cstat-no" title="statement not covered" >ion(e,r){t[e]=!0</span>}),t}function u(e,r<span class="fstat-no" title="function not covered" >,n</span>){if(e.customInspe<span class="cstat-no" title="statement not covered" >ct&amp;&amp;r&amp;&amp;O(r.inspe</span>ct)&amp;&amp;r.inspect<span class="fstat-no" title="function not covered" >!=</span>=t.inspect&amp;&amp;<span class="cstat-no" title="statement not covered" >(!r.con<span class="cstat-no" title="statement not covered" >structor|</span></span>|r</span>.constr<span class="cstat-no" title="statement not covered" >uctor.prototype<span class="fstat-no" title="function not covered" >!=</span>=r)){var i=r.inspect<span class="cstat-no" title="statement not covered" >(n,<span class="cstat-no" title="statement not covered" ></span>e);return w(i)||(<span class="cstat-no" title="statement not covered" >i=u(e,i,n)),i}var o=c(e,r)<span class="cstat-no" title="statement not covered" >;</span></span>if(o)retu</span>r</span>n o;var s=O<span class="fstat-no" title="function not covered" >bj</span>ect.keys(r)<span class="cstat-no" title="statement not covered" >,y=a(s);if(e.</span>showHid<span class="fstat-no" title="function not covered" >de</span>n&amp;&amp;(s=Object.getOw<span class="cstat-no" title="statement not covered" >n<span class="fstat-no" title="function not covered" >Pr</span>opertyNames(r)),x(r)&amp;&amp;(s<span class="fstat-no" title="function not covered" >.i</span>ndexOf("message<span class="cstat-no" title="statement not covered" >")&gt;=0||s.indexOf("descrip<span class="cstat-no" title="statement not covered" ></span>tion")&gt;=0))return l(r);if(0===s.length){if(O(r)){var g=r.name?": "+r.name:"";return e.stylize("[Function"+g+"]","special")}if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(A(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return l(r)}var v="",m=!1,b=["{","}"];if(d(r)&amp;&amp;(m=!0,b=["[","]"]),O(r)){var k=r.name?":</span> "+r.name<span class="fstat-no" title="function not covered" >:"</span>";v=" [Function<span class="cstat-no" title="statement not covered" >"+k+"]"}if(E<span class="cstat-no" title="statement not covered" ></span>(r)&amp;&amp;(v=" "+RegExp.prototype.toString.call(r)),A(r)&amp;&amp;(v=" "+Date.prototype.toU</span>TCString.<span class="fstat-no" title="function not covered" >ca</span>ll(r)),<span class="cstat-no" title="statement not covered" >x(r)&amp;&amp;(v="</span> "+l(r)),<span class="fstat-no" title="function not covered" >0=</span>==s.length&amp;&amp;<span class="cstat-no" title="statement not covered" >(!m<span class="cstat-no" title="statement not covered" ></span>||0==r.length))re<span class="fstat-no" title="function not covered" >tu</span>rn b[0]+v+b[1];<span class="cstat-no" title="statement not covered" >if(n&lt;0)retu</span>rn E(r</span>)?e.styli<span class="fstat-no" title="function not covered" >ze</span>(RegExp.pr<span class="cstat-no" title="statement not covered" >ototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var S;return S=m?f(e,r,n,y,s):s.map(function(t){r<span class="cstat-no" title="statement not covered" >eturn p(e,r,n,y,<span class="cstat-no" title="statement not covered" ></span>t,m)}),e.seen.pop(),h(S,v,b)}functio</span>n</span> c(e,t)<span class="cstat-no" title="statement not covered" >{if(k(t)<span class="cstat-no" title="statement not covered" ></span>)return<span class="cstat-no" title="statement not covered" > e.stylize</span></span>("undef<span class="cstat-no" title="statement not covered" >ined","undefine</span>d");<span class="cstat-no" title="statement not covered" >if(w(<span class="cstat-no" title="statement not covered" ></span>t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}r<span class="cstat-no" title="statement not covered" >eturn m(t)?e<span class="cstat-no" title="statement not covered" >.</span></span>stylize(""+t,"number<span class="cstat-no" title="statement not covered" >"):y(t)?e.stylize("<span class="cstat-no" title="statement not covered" >"+t,"boolean"):g(t)?e.styliz<span class="cstat-no" title="statement not covered" ></span>e("null","null"):void 0}function l(e){return"["+Erro<span class="cstat-no" title="statement not covered" ></span>r</span>.prototyp<span class="cstat-no" title="statement not covered" >e.toString.call(e)+"]"}function f(e,t,r,n,i){for(var o=[],s=0,<span class="cstat-no" title="statement not covered" >a</span></span>=t.length<span class="cstat-no" title="statement not covered" >;s&lt;a;++s)U(t,String(s))?o.push(p(e,t,r,n,String(s),!0)):o.<span class="cstat-no" title="statement not covered" >p</span></span>ush("");r<span class="cstat-no" title="statement not covered" >eturn i.forEa</span></span>c</span>h(funct<span class="cstat-no" title="statement not covered" >ion</span>(i){<span class="cstat-no" title="statement not covered" >i.m</span>atch<span class="cstat-no" title="statement not covered" >(/^\d+$/)||<span class="cstat-no" title="statement not covered" ></span>o.push(p(e,t,r,n,i,!0))}),o}function p(e,t,r,n,i,o){v<span class="cstat-no" title="statement not covered" >ar s,a,c;if(c=Object.getOwnP<span class="cstat-no" title="statement not covered" ></span>ropertyDescriptor(t,i)||{val<span class="cstat-no" title="statement not covered" ></span>u</span>e:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&amp;&amp;(a=e.stylize("[Setter]","special")),U(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.va<span class="cstat-no" title="statement not covered" >lue)&lt;0?(a=g(r)?u(e,c.va<span class="cstat-no" title="statement not covered" >l</span></span>ue,null):u<span class="cstat-no" title="statement not covered" >(e,c.value,r-1),a.indexOf("\n")&gt;-1&amp;&amp;(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(<span class="cstat-no" title="statement not covered" >2</span></span>):"\n"+a.split(</span>"\n")<span class="cstat-no" title="statement not covered" >.map(function(e){return"   "+e}).join("\<span class="fstat-no" title="function not covered" >n"</span>))):a=e.styl<span class="cstat-no" title="statement not covered" >ize("[Circular]","special"))</span>,k(s)){if(o&amp;&amp;i.match(/^\d+$/)</span>)return a<span class="fstat-no" title="function not covered" >;s</span>=JSON.s<span class="cstat-no" title="statement not covered" >tringify("<span class="cstat-no" title="statement not covered" >"+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/<span class="cstat-no" title="statement not covered" >)</span></span>?(s=s.substr(1,s.l<span class="cstat-no" title="statement not covered" >ength-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/<span class="cstat-no" title="statement not covered" ></span>g,"'"),s=e.stylize(s,"string"))<span class="cstat-no" title="statement not covered" ></span>}</span>return s+": "+a}function h(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")&gt;=0&amp;&amp;n++,e+t.replace(/\u001b\[\</span>d\d?m/g,"<span class="fstat-no" title="function not covered" >")</span>.len<span class="cstat-no" title="statement not covered" >gth+1},0);return i&gt;60?r[0]+(""===t?"":t+"\n ")+" "+e.</span>join(",\n<span class="fstat-no" title="function not covered" >  </span>")+" "+r[1]:r[0]<span class="cstat-no" title="statement not covered" >+t+" "+e.join(", ")+" "+r[1]}function d(e){return <span class="cstat-no" title="statement not covered" >Array.isArray(e)}function y(e){return"boolean"==typeof e}function g(<span class="cstat-no" title="statement not covered" >e</span></span>){return null===<span class="fstat-no" title="function not covered" >e}</span>function v(e<span class="cstat-no" title="statement not covered" >){return null==e}function m(e){return"number"==typ</span>eof e}</span>function <span class="fstat-no" title="function not covered" >w(</span>e){return"string"==typeof e}fun<span class="cstat-no" title="statement not covered" >ction b(e){return"symbol"==typeof e}function k(e){return void 0===e}function E(e){return S(e)&amp;&amp;"[object RegExp]"===R(e)}function S(e){return"object"==typeof e&amp;&amp;null!==e}function A(e){return S(e)&amp;&amp;"[object Date]"===R(e)}function x(e){return S(e)&amp;&amp;("[object Error]"===R(e)||e instanceof Error)}function O(e){return"function"==typeof e}function P(e){return null===e||"boolean"==typeof e||"n<span class="fstat-no" title="function not covered" >um</span>ber"==typeof<span class="cstat-no" title="statement not covered" > e||"string"==typ</span>eof e||"symbol"==typeof e||"undefined"==typeof e}f<span class="fstat-no" title="function not covered" >un</span>ction R(e){r<span class="cstat-no" title="statement not covered" >eturn Object.proto</span>type.toString.call(e)}function T(e){return e&lt;10?"0"+e.toString(10<span class="cstat-no" title="statement not covered" >):e.toString(10)}function j<span class="cstat-no" title="statement not covered" >(){var e=<span class="cstat-no" title="statement not covered" >n</span></span>ew Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _=/%[sdj%]/g;t.format=function(e){if(!w(e)<span class="cstat-no" title="statement not covered" ></span>)</span>{for(var t=[],r=0;r&lt;</span>arguments<span class="fstat-no" title="function not covered" >.l</span>ength;r++)t.push(i<span class="cstat-no" title="statement not covered" >(a</span>rgum<span class="cstat-no" title="statement not covered" >ents[r]))<span class="fstat-no" title="function not covered" >;r</span>eturn t.join(" <span class="cstat-no" title="statement not covered" >")}for(var r=1,n=arguments,o=n.length,s=String(e).replace(_,function(e){if("%%"===e)return</span>"%";i<span class="cstat-no" title="statement not covered" ></span>f(r&gt;=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}cat</span>ch(e){ret<span class="fstat-no" title="function not covered" >ur</span>n"[C<span class="cstat-no" title="statement not covered" >ircular]"}default:return </span>e}}),a=n[<span class="fstat-no" title="function not covered" >r]</span>;r&lt;o<span class="cstat-no" title="statement not covered" >;a=n[++r])s+=g(a)||!S(a)?" "+a</span>:" "+i(a)<span class="fstat-no" title="function not covered" >;r</span>etur<span class="cstat-no" title="statement not covered" >n s},t.deprecate=fu</span>nction(r,<span class="fstat-no" title="function not covered" >i)</span>{fun<span class="cstat-no" title="statement not covered" >ction o(){if(!s){i</span>f(n.throw<span class="fstat-no" title="function not covered" >De</span>prec<span class="cstat-no" title="statement not covered" >ation)throw new Error(i);n.tr</span>aceDeprec<span class="fstat-no" title="function not covered" >at</span>ion?<span class="cstat-no" title="statement not covered" >console.trace(i):console.erro</span>r(i),s=!0<span class="fstat-no" title="function not covered" >}r</span>etur<span class="cstat-no" title="statement not covered" >n r.apply(this,arguments)}if(</span>k(e.proce<span class="fstat-no" title="function not covered" >ss</span>))re<span class="cstat-no" title="statement not covered" >turn function(){retur</span>n t.depre<span class="fstat-no" title="function not covered" >ca</span>te(r<span class="cstat-no" title="statement not covered" >,i).apply(this,arguments)};if(n.noDeprecati</span>on===!0)r<span class="fstat-no" title="function not covered" >et</span>urn <span class="cstat-no" title="statement not covered" >r;var s=!1;return o};var C,I={};t.debuglog=</span>function(<span class="fstat-no" title="function not covered" >e)</span>{if(<span class="cstat-no" title="statement not covered" >k(C)&amp;&amp;(C=n.env.NODE_DEBUG||""),e=e.toUppe</span>rCase(),!<span class="fstat-no" title="function not covered" >I[</span>e])i<span class="cstat-no" title="statement not covered" >f(new RegExp("\\b"+e+"\\b","i").test(C)){var r=n.pid;I[e]=function</span>(){var n=<span class="fstat-no" title="function not covered" >t.</span>form<span class="cstat-no" title="statement not covered" >at.apply(t,arguments);console.e</span>rror("%s <span class="fstat-no" title="function not covered" >%d</span>: %s<span class="cstat-no" title="statement not covered" >",e,r,n)}}else I[e]=function(){};return I[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],gre</span>y:[90,39]<span class="fstat-no" title="function not covered" >,b</span>lack<span class="cstat-no" title="statement not covered" >:[30,39],blue:[34,39],cyan:[36,39],green:[</span>32,39],ma<span class="fstat-no" title="function not covered" >ge</span>nta:<span class="cstat-no" title="statement not covered" >[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"</span>cyan",num<span class="fstat-no" title="function not covered" >be</span>r:"yellow",<span class="cstat-no" title="statement not covered" >boolean:"ye</span>llow<span class="cstat-no" title="statement not covered" >",undefined:"grey",null:"bold",string:"green",date:"magenta",regex<span class="cstat-no" title="statement not covered" ></span>p:"red"},t.isArray=d,t.isBoolean=y,t.isNull=g,t.isNu</span>llOrUndef<span class="fstat-no" title="function not covered" >in</span>ed=v,t.<span class="cstat-no" title="statement not covered" >isNumber=m,t.isString=w,t.isSymbol=b,t.isUndefined=</span>k,t.isRe<span class="cstat-no" title="statement not covered" >gExp=E,t.is<span class="cstat-no" title="statement not covered" ></span>Object=S,t.<span class="fstat-no" title="function not covered" >is</span>Date=A,t.isE<span class="cstat-no" title="statement not covered" >rror=x,t.isF<span class="cstat-no" title="statement not covered" >unction=O,t.isPrimitive=P,t.isBuffer=r(10);var N=["<span class="cstat-no" title="statement not covered" >Jan","Feb","Mar","Apr","<span class="cstat-no" title="statement not covered" >M</span></span>ay","Jun","Jul","Au<span class="cstat-no" title="statement not covered" ></span>g</span>","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=r(11),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,function(){return this}(),r(9))},function(e,t){function r(){throw new Error("setTimeout has not be<span class="cstat-no" title="statement not covered" >en defined")}function n(){throw new Error(<span class="cstat-no" title="statement not covered" >"</span></span>clearTime</span>out has not been<span class="fstat-no" title="function not covered" > d</span>efined")}function i(e){i<span class="fstat-no" title="function not covered" >f(</span>l==<span class="cstat-no" title="statement not covered" >=setTimeo<span class="cstat-no" title="statement not covered" >ut)return setTimeout(e,0<span class="cstat-no" title="statement not covered" >);if((l===r||!l)&amp;&amp;s<span class="cstat-no" title="statement not covered" >e</span></span>tTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}ca<span class="cstat-no" title="statement not covered" ></span>t</span>ch(t){try{return l.call(null,e,0<span class="cstat-no" title="statement not covered" ></span>)}catch(t){return <span class="cstat-no" title="statement not covered" >l.call(<span class="fstat-no" title="function not covered" >th</span>is,e,0)}}}f<span class="cstat-no" title="statement not covered" >unction o(e){if(f===clearTimeout)return clearTime</span>o<span class="cstat-no" title="statement not covered" >u</span></span>t(e);if((f===n||!f)&amp;&amp;clearT<span class="cstat-no" title="statement not covered" >imeout)ret</span></span>urn f=c<span class="cstat-no" title="statement not covered" >lea<span class="cstat-no" title="statement not covered" ></span>rTimeout,c</span>le</span>arTimeout<span class="cstat-no" title="statement not covered" >(e)<span class="cstat-no" title="statement not covered" ></span>;try{return f<span class="fstat-no" title="function not covered" >(e</span>)}catch(t){t<span class="cstat-no" title="statement not covered" >ry{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s()<span class="cstat-no" title="statement not covered" >{y&amp;&amp;h&amp;&amp;(y=!1,h.length?d=h.concat(d):g=-1,d.length&amp;&amp;a())}f<span class="cstat-no" title="statement not covered" >unctio<span class="cstat-no" title="statement not covered" ></span>n a(){i<span class="fstat-no" title="function not covered" >f(</span>!y){var e=i(s);y=!0<span class="cstat-no" title="statement not covered" >;for(var t=d.length;t;){for(h<span class="cstat-no" title="statement not covered" ></span>=d,d=[];++g&lt;t;)h&amp;&amp;h[g].run();g=-1,t=d</span>.l</span>ength}<span class="cstat-no" title="statement not covered" >h=null,<span class="fstat-no" title="function not covered" >y=</span>!1,o(e)}}func<span class="cstat-no" title="statement not covered" >t</span></span></span>ion u(e,t){t</span>his.fun=e,this.array=t}function c(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var h,d=[],y=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length&gt;1)for(var r=1;r&lt;arguments.length;r++)t[r-1]=arguments[r];d.push(new u(e,t)),1!==d.length||y||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(e){throw n</span>ew Erro<span class="cstat-no" title="statement not covered" >r("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e<span class="cstat-no" title="statement not covered" ></span>){throw <span class="fstat-no" title="function not covered" >ne</span>w Error("pr<span class="cstat-no" title="statement not covered" >ocess.chdir is not supported")},p.umask=function(){return 0</span>}},function(e,t){e.exports=functio<span class="fstat-no" title="function not covered" >n(</span>e){return e&amp;&amp;"o<span class="cstat-no" title="statement not covered" >bject"==typeof e&amp;<span class="cstat-no" title="statement not covered" >&amp;"functio<span class="cstat-no" title="statement not covered" >n</span></span>"==typeof e.copy&amp;&amp;"function"==typeof e.fill&amp;&amp;"fu<span class="cstat-no" title="statement not covered" >nction"==typeof e.<span class="cstat-no" title="statement not covered" >r</span></span>eadUInt8}</span>},</span>function(e<span class="fstat-no" title="function not covered" >,t</span>){"function<span class="cstat-no" title="statement not covered" >"==typeof Obj</span>ect.create?</span>e.<span class="fstat-no" title="function not covered" >ex</span>ports=function(e,t){e.su<span class="fstat-no" title="function not covered" >pe</span>r_=<span class="cstat-no" title="statement not covered" >t,e.prototype=Object.create(t.prototype,{constructor</span>:{value:e<span class="fstat-no" title="function not covered" >,e</span>num<span class="cstat-no" title="statement not covered" >erable:!1,writable:!0,configurable:!0}})}:e.exports=fu</span>nction(e,<span class="fstat-no" title="function not covered" >t)</span>{e.s<span class="cstat-no" title="statement not covered" >uper_=t;var r=function<span class="cstat-no" title="statement not covered" >(){};r.prototype=t.proto<span class="cstat-no" title="statement not covered" >t</span></span>ype,e.prototype=new r,e.prototype.<span class="cstat-no" title="statement not covered" >constructor=e}},function(e,t){e.exports=<span class="cstat-no" title="statement not covered" >f</span></span>etch<span class="cstat-no" title="statement not covered" >},function(e,t,r</span>){"use stric<span class="cstat-no" title="statement not covered" >t";e.<span class="cstat-no" title="statement not covered" >exports={Formats:r(14),Init</span>ializer:r(15<span class="cstat-no" title="statement not covered" >),JSONDocument:r(16),JSONMa</span>p</span>p</span>ing:r(19)<span class="fstat-no" title="function not covered" >,J</span>SONP<span class="cstat-no" title="statement not covered" >atch:r(17),JSONPointer:r<span class="cstat-no" title="statement not covered" >(18),JSONSchema:r(20),V<span class="cstat-no" title="statement not covered" >a</span></span>lidator:r(21)}},function(e,t){"use s<span class="cstat-no" title="statement not covered" >trict";function r(e,t){if(!(e instanceof <span class="cstat-no" title="statement not covered" >t</span></span>))th<span class="cstat-no" title="statement not covered" >row new TypeE</span>rror("Cannot<span class="cstat-no" title="statement not covered" > call<span class="cstat-no" title="statement not covered" > a class as a function")</span>}var n=funct<span class="cstat-no" title="statement not covered" >ion(){function e(e,t){fo</span>r</span>(</span>var r=0;r<span class="fstat-no" title="function not covered" >&lt;t</span>.le<span class="cstat-no" title="statement not covered" >ngth;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"valu</span>e"in n&amp;&amp;(<span class="fstat-no" title="function not covered" >n.</span>wri<span class="cstat-no" title="statement not covered" >table=!0),Object.<span class="cstat-no" title="statement not covered" >defin<span class="cstat-no" title="statement not covered" ></span>eProper<span class="cstat-no" title="statement not covered" >t</span>y(e,n.key,n)}}return functi<span class="cstat-no" title="statement not covered" >on(t,r,n){return r&amp;&amp;e(t.protot<span class="cstat-no" title="statement not covered" >ype,r),n&amp;&amp;e(t,n)<span class="cstat-no" title="statement not covered" >,</span></span>t}}(),i=/^\d\d\d\d-[0<span class="cstat-no" title="statement not covered" ></span>-</span>1]\d-[0-3]\d[t\s][0-2]\</span>d</span>:[0-5]\d:<span class="fstat-no" title="function not covered" >[0</span>-5]\d(?<span class="cstat-no" title="statement not covered" >:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i</span>,o=/^(?:[<span class="fstat-no" title="function not covered" >a-</span>z][a-z0-9+-.]*)?<span class="cstat-no" title="statement not covered" >(?:\:|\/)\/?[^\<span class="cstat-no" title="statement not covered" ></span>s<span class="fstat-no" title="function not covered" >]*</span>$/i,s=/^[a-<span class="cstat-no" title="statement not covered" >z0-9.<span class="cstat-no" title="statement not covered" >!#$%&amp;'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0</span>-9])?(?:\.[a<span class="cstat-no" title="statement not covered" >-z0-9](<span class="cstat-no" title="statement not covered" ></span>?</span>:[a-<span class="cstat-no" title="statement not covered" >z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^(?:(?:25[0-5]|2[0-4]\d|[01</span>]?\d\d?)\.){<span class="cstat-no" title="statement not covered" >3}(?:25</span>[</span>0-5]</span>|2[0-4]\d<span class="cstat-no" title="statement not covered" >|[0</span>1]?\<span class="cstat-no" title="statement not covered" >d\d</span>?)$/<span class="cstat-no" title="statement not covered" >,u=<span class="cstat-no" title="statement not covered" ></span>/^\s*(?:(?:(?<span class="fstat-no" title="function not covered" >:[</span>0-9a-f]{1,4}:){7}(?:<span class="cstat-no" title="statement not covered" >[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]<span class="cstat-no" title="statement not covered" ></span>{1,4}:){6}(?::[0-9a-f]{1,4<span class="cstat-no" title="statement not covered" >}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:<span class="cstat-no" title="statement not covered" >\.(?:25[0-5]|2[0-4]\d|1\<span class="cstat-no" title="statement not covered" >d</span></span></span>\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:</span>(?:(?::[0-9a-f]{1,4}<span class="fstat-no" title="function not covered" >){</span>1,2})|:(?:(<span class="cstat-no" title="statement not covered" >?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)</span>(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(<span class="fstat-no" title="function not covered" >?:</span>[0-9a-f]{1,4<span class="cstat-no" title="statement not covered" >}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{</span>1,4}){0,2}<span class="fstat-no" title="function not covered" >:(</span>?:(?:25[0-5<span class="cstat-no" title="statement not covered" >]|2[0-4]\d|1</span>\d\d|[1-9]?\<span class="fstat-no" title="function not covered" >d)</span>(?:\.(?:25[0<span class="cstat-no" title="statement not covered" >-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-</span>f]{1,4}:){2}<span class="fstat-no" title="function not covered" >(?</span>:(?:(?::[0-<span class="cstat-no" title="statement not covered" >9a-f]{1,4}</span>){</span>1,<span class="fstat-no" title="function not covered" >5}</span>)|(?:(?::[0-9a-<span class="cstat-no" title="statement not covered" >f]{1,4}){0,3<span class="fstat-no" title="function not covered" >}:</span>(?:(?:25[0-5<span class="cstat-no" title="statement not covered" >]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|</span>(?</span>:(<span class="fstat-no" title="function not covered" >?:</span>:[0-9a-f]{1,4})<span class="cstat-no" title="statement not covered" >{0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.<span class="fstat-no" title="function not covered" >(?</span>:25[0-5]|2[0-4]<span class="cstat-no" title="statement not covered" >\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(</span>?:25[0-5]|2[0-4<span class="fstat-no" title="function not covered" >]\</span>d|1\d\d|[1-9]?\<span class="cstat-no" title="statement not covered" >d)){3}))|:)))(</span>?:%.+)?<span class="cstat-no" title="statement not covered" >\s*$/i,c=<span class="fstat-no" title="function not covered" >/^</span>[a-z]<span class="cstat-no" title="statement not covered" ></span>(?:(?:[-0-9a-z]{0,61})?[0-9a-z])?(\.[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?)*$/i</span>,l</span>=f<span class="fstat-no" title="function not covered" >un</span>ction(){functio<span class="cstat-no" title="statement not covered" >n e(){r(this,e)}ret</span>ur<span class="fstat-no" title="function not covered" >n </span>n(e,[{key:"register",value:func<span class="cstat-no" title="statement not covered" >tion(e,t){if("string"!=typeof e)throw new Error("Format name must be a string");return"string"==typeof t&amp;&amp;(t=new RegExp(t)),this[e]=t}},{key:"resolve",value:function(e)</span>{v<span class="fstat-no" title="function not covered" >ar</span> t=this[e];if(!t)throw new Error("Unk<span class="fstat-no" title="function not covered" >no</span>wn JSON<span class="cstat-no" title="statement not covered" > Schema format.");retur<span class="cstat-no" title="statement not covered" >n t}},{key:"test",value:function(e,t){var r=this.resolve(e</span></span>);return<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" > r</span>.test(t)}}],[{key:"i<span class="fstat-no" title="function not covered" >ni</span>tialize<span class="cstat-no" title="statement not covered" >",value:function(){var t=new e;return t.regi<span class="cstat-no" title="statement not covered" >ster(<span class="cstat-no" title="statement not covered" ></span>"date-time",i),t.register("uri",o),t.register("email",s),t.register("ipv4",a),t.register("ipv6",u),t.register("hostname",c),t}}</span>]<span class="cstat-no" title="statement not covered" ></span>),e}();<span class="fstat-no" title="function not covered" >e.</span>exports=l.initiali<span class="cstat-no" title="statement not covered" >ze()},function(e,t){"use strict";function r(e,t)</span>{i</span>f(!</span>(e i<span class="cstat-no" title="statement not covered" >nstanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){</span>func<span class="cstat-no" title="statement not covered" >tion e(e,t){for(var r=0;r&lt;t.length;r++){var n=</span>t[r]<span class="cstat-no" title="statement not covered" >;n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}retu</span>rn f<span class="cstat-no" title="statement not covered" >unction(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),i=function(){funct</span>ion <span class="cstat-no" title="statement not covered" >e(t){r(this,e),this.schema=t}return n(e,null,[{key:"compile",value:function(t){var r=new e(t);return r.parse(),r.compile()}}]),n(e,[{key:"parse",value:function(){function e(t,n){var i=t.properties||{};Object.keys(i).forEach(function(t){var o=n.concat([t]),s=i[t],a={key:t,fn:"property",ref:o.join("."),chain:o};s.private&amp;&amp;(a.private=!0),s.default&amp;&amp;(a.default=s.default),s.immutable&amp;&amp;(a.immutable=!0),s.set&amp;&amp;(a.setter=s.set),s.after&amp;&amp;(a.after=s.after),s.properties?(r.get(o)||(a.fn="ensureContainer",r.set(o,a)),e(s,o)):r.set(o,a)})}var t=this.schema,r=this.operations=new Map;e(t,[])}},{key:"compile",value:function(){var e=this,t="options = options || {}\n";return this.operations.forEach(function(r){t+=e[r.fn](r)}),new Function("target","source","options",t)}},{key:"property",value:function(e){return e.private?this.private(e):this.assign(e)}},{key:"private",value:function(e){return"\n    if (options.private) {\n      "+this.assign(e)+"\n    }\n    "}},{key:"assign",value:function(e){var t=void 0;return t=e.setter?this.setterAssign(e):e.immutable?this.immutableAssign(e):this.simpleAssign(e),t="\n    if ("+this.condition(e)+") {\n      "+t+"\n    } "+(e.default?th</span>is.d<span class="cstat-no" title="statement not covered" >efaults(e):"")+"\n    ",e.after&amp;&amp;(t+=this.afterAssign(e)),t}},{key:"immutableAssign",va</span>lue:<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){var t="tar<span class="fstat-no" title="function not covered" >ge</span>t",<span class="cstat-no" title="statement not covered" >r=e.chain.sl<span class="cstat-no" title="statement not covered" ></span>ice(0,e.chain.length-1).join(".");return r&amp;&amp;(t=t+"."+r),"Object.defineProp<span class="fstat-no" title="function not covered" >erty("</span>+t+", '<span class="cstat-no" title="statement not covered" >"+e.key+"', {\n        val<span class="cstat-no" title="statement not covered" >ue: source."+e.ref+",\n        writable: "+!e.im<span class="cstat-no" title="statement not covered" >m</span></span>utable+",\n        enumerable: true\n      })"}},{key:"simpleAss</span>ign",value:function(e){return"target."+e.ref+" = source."+e.ref}<span class="fstat-no" title="function not covered" >},{key</span>:"setterAssi<span class="cstat-no" title="statement not covered" >gn",valu<span class="cstat-no" title="statement not covered" ></span>e:functi<span class="cstat-no" title="statement not covered" >on(e){return"target."+e.ref+" = ("+e.setter.toS<span class="cstat-no" title="statement not covered" >t</span></span>ring()+")</span>(source)"}},{key:"afterAssign",value:function(e){return"\n   <span class="fstat-no" title="function not covered" > ("+e.</span>after.toString(<span class="cstat-no" title="statement not covered" >)+").call(target<span class="cstat-no" title="statement not covered" ></span>, source)\n    "}}</span>,{key:"defaults",value:function(e){return"function"==typeof e.default<span class="fstat-no" title="function not covered" >?e.def</span>aultString=<span class="cstat-no" title="statement not covered" >"("+e.de<span class="cstat-no" title="statement not covered" ></span>fault.toString()+")()":e.defaultString=JSON.stringify(e.default),"else if (options.defaults !== false) {\n      "+(e.immutable?this.immutableDefault(e):this.</span>simpleDef</span>aul<span class="cstat-no" title="statement not covered" ></span>t(e))+"\n    }"}},{key:"simp</span>le<span class="fstat-no" title="function not covered" >De</span>fault",value:function(e){return"targe<span class="fstat-no" title="function not covered" >t.</span>"+e.ref<span class="cstat-no" title="statement not covered" >+" = "+e.defaultString}<span class="cstat-no" title="statement not covered" >},{key:"immutableDefault",value:function(e){var t="target"</span></span>,r=e.cha<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >in</span>.slice(0,e.chain.len<span class="fstat-no" title="function not covered" >gt</span>h-1).jo<span class="cstat-no" title="statement not covered" >in(".");return r&amp;&amp;(t=t+"."+r),"Object.define<span class="cstat-no" title="statement not covered" >Prope<span class="cstat-no" title="statement not covered" ></span>rty("+t+", '"+e.key+"', {\n        value: "+e.defaultString+",\n        writable: "+!e.immutable+",\n        enumerable: true\n</span> <span class="cstat-no" title="statement not covered" ></span>     })<span class="fstat-no" title="function not covered" >"}</span>},{key:"condition"<span class="cstat-no" title="statement not covered" >,value:function e(t){var r=t.chain,n=t.ref,i=r.r</span>ed</span>uce</span>(fun<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >ct</span>ion(e,t,n){return n&gt;<span class="fstat-no" title="function not covered" >0&amp;</span>&amp;e.p<span class="cstat-no" title="statement not covered" >ush("source."+r.slice(0,n).jo<span class="cstat-no" title="statement not covered" ></span>in(".")),e},[]).join(" &amp;&amp; "),e=i?i+" &amp;&amp; source."+n+" !== undefined":"source."+n<span class="fstat-no" title="function not covered" >+" !==</span> undefined";<span class="cstat-no" title="statement not covered" >return e}<span class="cstat-no" title="statement not covered" ></span>},{key:"ensureContainer",value:</span>function(e){return"\n    if (!target."+e.ref+") {\n      target."+e.re<span class="fstat-no" title="function not covered" >f+" = </span>{}\n    }\n <span class="fstat-no" title="function not covered" >  </span> "}}]),e}();e.e<span class="cstat-no" title="statement not covered" >xports=i},function(<span class="cstat-no" title="statement not covered" ></span>e,t,r){"use strict";fun<span class="fstat-no" title="function not covered" >ct</span>ion n(e,t){if(!(e in<span class="cstat-no" title="statement not covered" >stanceof t))th</span>row <span class="cstat-no" title="statement not covered" >new T</span>ypeE<span class="cstat-no" title="statement not covered" >rror("Cannot call a class as a function")}var i=functio<span class="cstat-no" title="statement not covered" ></span>n(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),o=r(17),s=function(){f</span>unc</span>tion e()<span class="cstat-no" title="statement not covered" >{var t=argum</span>ents<span class="cstat-no" title="statement not covered" >.length&gt;0&amp;&amp;void 0!==argument<span class="cstat-no" title="statement not covered" ></span>s[0]?argum</span>ents[0]:{},r=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments<span class="fstat-no" title="function not covered" >[1]:{}</span>;n(this,e),<span class="cstat-no" title="statement not covered" >this.</span>init<span class="cstat-no" title="statement not covered" >ialize(t,r)}return i(e,null,<span class="cstat-no" title="statement not covered" ></span>[{key:"schema",get:function(){t<span class="fstat-no" title="function not covered" >hr</span>ow new Error<span class="cstat-no" title="statement not covered" >("Schema must be </span>defined by classes extending JSONDocument")}}]),i(e</span>,[{key:"initialize",value:function(){var e=arguments.length&gt;0&amp;&amp;vo<span class="fstat-no" title="function not covered" >id 0!=</span>=arg<span class="cstat-no" title="statement not covered" >uments[0]?arguments[0]:{},t=arguments.length&gt;1&amp;&amp;void </span>0!==arguments[1]?arguments[1]:{},r=this.constructor.schema;r.ini<span class="fstat-no" title="function not covered" >tializ</span>e(th<span class="cstat-no" title="statement not covered" >is,e,t)}},{key:"validate",value:function(e){var t=this.constructor.schema;return(e</span>||t).validate(this)}},{key:"patch",value:function e(t){var e=ne<span class="fstat-no" title="function not covered" >w o(t)</span>;e.apply(thi<span class="cstat-no" title="statement not covered" >s)}},{k<span class="cstat-no" title="statement not covered" ></span>ey:"select",value:function(){}},{key:"project",value:function(e){return e.project(this)}}],[{key:"serialize",value:function(e){return JSON.stringify(e)}},{key:"deserialize",value:function(e){try{return JSON.parse(e)}catch(e){throw new Error("Failed to parse JSON")}}}])</span>,e}();e.exports=s},function(e,t,r){"use strict";function n(e,t){if(!(e i<span class="fstat-no" title="function not covered" >nstanc</span>eof t))throw<span class="cstat-no" title="statement not covered" > new Type</span>Erro<span class="cstat-no" title="statement not covered" >r("Cannot call a class as a function")}var i="f<span class="cstat-no" title="statement not covered" ></span>unction"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},o</span>=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.<span class="fstat-no" title="function not covered" >enumer</span>able<span class="cstat-no" title="statement not covered" >=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;</span>(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r<span class="fstat-no" title="function not covered" >,n){re</span>turn<span class="cstat-no" title="statement not covered" > r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),s=r(18),a=2,u=["add","remove","rep</span>lace","move","copy","test"],c=function(){function e(t){n(this,e),thi<span class="fstat-no" title="function not covered" >s.ops=</span>t||[<span class="cstat-no" title="statement not covered" >]}return o(e,[{key:"apply",value:function(e){var t=this;this.ops.forEach</span>(function(r){var n=r.op;if(!n)throw new Error('Missing "op" in JS<span class="fstat-no" title="function not covered" >ON Pat</span>ch o<span class="cstat-no" title="statement not covered" >peration');if(u.indexOf(n)===-1)throw new Error('Invalid "op" in JSON Patch operation');if(!r.path)throw new Error('Missing "path" in JSON Patch operation');t[n](r,e)})}},{key:"add",value:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in JSON Patch </span>add operation');var r=new s(e.path,a);r.add(t,e.value)}},{key:"remove"<span class="fstat-no" title="function not covered" >,value</span>:fun<span class="cstat-no" title="statement not covered" >ction(e,t){var r=new s(e.path);r.remove(t)}},{key:"r</span>eplace",value:function(e,t){if(void 0===e.value)throw new Error('Missing <span class="fstat-no" title="function not covered" >"value</span>" in JSON Pa<span class="cstat-no" title="statement not covered" >tch repla</span>ce o<span class="cstat-no" title="statement not covered" >peration');var r=new s(e.path);r.replace(t,e.va<span class="cstat-no" title="statement not covered" ></span>lue)}},{key:"move",value:function(e,t){if(void 0===e.from)throw new Error('Missing "from" in JSON Patch move operation');if(e.path.match(new RegExp("^"+e.from)))throw new Error('Invalid "from" in JSON Pat</span>ch move operation');var r=new s(e.path),<span class="fstat-no" title="function not covered" >n=</span>new s(e.from<span class="cstat-no" title="statement not covered" >),i=n.ge</span>t(t)<span class="cstat-no" title="statement not covered" >;n.rem</span>ove(<span class="cstat-no" title="statement not covered" >t),r.add(<span class="fstat-no" title="function not covered" >t,</span>i)}},{key:"copy",v<span class="cstat-no" title="statement not covered" >alue:function(e,t){if(void 0===e.from)throw new Error('Missing "</span>from" in JSON Patch</span> cop<span class="cstat-no" title="statement not covered" >y operation');var r=new s(e.path),n=new s(e.from),i=n.get(t);r.add(t,i)}},{key:"<span class="cstat-no" title="statement not covered" ></span>test",valu</span>e:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in <span class="fstat-no" title="function not covered" >JSON P</span>atch<span class="cstat-no" title="statement not covered" > test operation');var r=new s(e.path),n=r.get(t);switch(i(e.value)){default:if(n!==e.value)</span>throw new</span> Er<span class="cstat-no" title="statement not covered" ></span>ror("Mismatchin</span>g <span class="fstat-no" title="function not covered" >JS</span>ON Patch test value")}}}]),e}();e.export<span class="fstat-no" title="function not covered" >s=</span>c},func<span class="cstat-no" title="statement not covered" >tion(e,t){"use strict";<span class="cstat-no" title="statement not covered" >function r(e,t){if(!(e instanceof t))throw new TypeError("</span></span>Cannot c<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >al</span>l a class as a funct<span class="fstat-no" title="function not covered" >io</span>n")}var<span class="cstat-no" title="statement not covered" > n=function(){function e(e,t){for(var r=0;r&lt;<span class="cstat-no" title="statement not covered" >t.len<span class="cstat-no" title="statement not covered" ></span>gth;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,</span>n<span class="cstat-no" title="statement not covered" ></span>)}}retu<span class="fstat-no" title="function not covered" >rn</span> function(t,r,n){r<span class="cstat-no" title="statement not covered" >eturn r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),i=0,o=</span>1,</span>s=2</span>,a=f<span class="cstat-no" title="statement not covered" >unctio</span>n(){<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction e(t,n){r(this<span class="fstat-no" title="function not covered" >,e</span>),this.expr<span class="cstat-no" title="statement not covered" >=t,this.mode=n||i,this.tokens=t&amp;&amp;"#"===t.charAt(0)?this.parseURIFrag</span>ment<span class="cstat-no" title="statement not covered" >Identifier(t):this.parseJSONString(t)}return n(e,[{key:"escape",valu<span class="cstat-no" title="statement not covered" ></span>e:function(e){return e.replace(/~/g<span class="cstat-no" title="statement not covered" ></span>,"~0").replace(/\//g,"~1")}},{key:"unescape",value:function(e){return e.repl<span class="fstat-no" title="function not covered" >ace(</span>/~1<span class="cstat-no" title="statement not covered" >/g,"/").replace(/~0/g,"~")}},{key:"parseJSONString",value:function(e){if("str</span>ing"!=typeof e)throw new Error("JSON Pointer must be a string");if(""===e)r<span class="fstat-no" title="function not covered" >eturn[</span>];if("/"!==<span class="cstat-no" title="statement not covered" >e.charAt(0))throw new Error("Invalid JSON Pointer");return"/"===e?["</span>"]:e<span class="cstat-no" title="statement not covered" >.substr(1).split("/").map(this.unescape)}},{key:"toJSONString",value</span>:fun<span class="cstat-no" title="statement not covered" >ction(){return"/"+this.t<span class="cstat-no" title="statement not covered" ></span>okens.map(this.escape).joi</span>n("/")}},{key:"parseURIFragmentIdentifier",value:function(e){if("<span class="fstat-no" title="function not covered" >string</span>"!=typeof e)<span class="cstat-no" title="statement not covered" >throw new Error("JSON Po<span class="cstat-no" title="statement not covered" ></span>inter must be a string");if("#"!</span>==e.charAt(0))throw new Error("Inval<span class="fstat-no" title="function not covered" >id</span> JSON Pointe<span class="cstat-no" title="statement not covered" >r URI Fra<span class="cstat-no" title="statement not covered" ></span>gment Identifie</span>r");return this.parseJSONString(decodeURIComponent(e.substr(1))<span class="fstat-no" title="function not covered" >)}},{k</span>ey:"toURIFragmentIdentifier",value:function(){var e=this,t=this.toke<span class="fstat-no" title="function not covered" >ns.map</span>(fun<span class="cstat-no" title="statement not covered" >ction(t){return encodeUR</span>IComponent(e.escape(t))}).join("/");return"#/"+t}},{key:"get",value:<span class="fstat-no" title="function not covered" >functi</span>on(e<span class="cstat-no" title="statement not covered" >){for(var t=e,r=this.token</span>s,n=0;n&lt;r.length;n++){if(!t||void 0===t[r[n]]){if(this.mode!==i)retu<span class="fstat-no" title="function not covered" >rn;thr</span>ow n<span class="cstat-no" title="statement not covered" >ew Er<span class="cstat-no" title="statement not covered" >ror("Invalid JSON Poin</span>ter referenc<span class="cstat-no" title="statement not covered" >e")}t=t[r[n]]}return t}},{key:"add",value</span>:</span>function(</span>e,t<span class="cstat-no" title="statement not covered" ></span>){for(var r=thi</span>s.<span class="fstat-no" title="function not covered" >to</span>kens,n=e,a=0;a&lt;r.length;a++){var u=r[a];<span class="fstat-no" title="function not covered" >if</span>(a===r.<span class="cstat-no" title="statement not covered" >length-1)"-"===u?n.push<span class="cstat-no" title="statement not covered" >(t):Array.isArray(n)?n.splice(u,0,t):n[u]=t;else if(n[u])n</span></span>=n[u];el<span class="cstat-no" title="statement not covered" >se switch(this.mode){case i:throw new Error("Invalid JSON Pointer re<span class="fstat-no" title="function not covered" >fe</span>rence");case<span class="cstat-no" title="statement not covered" > o:n=n[u]=parseIn</span>t(u<span class="fstat-no" title="function not covered" >)?</span>[]:{};break;<span class="cstat-no" title="statement not covered" >case s:return;default:throw new Error("Invalid pointer mode")}}}},{key:"replace",value:function(e,t){for(var r=this.t</span>o</span>kens<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >,n</span>=e,i=0;i&lt;r.length;i+<span class="fstat-no" title="function not covered" >+)</span>{var o=<span class="cstat-no" title="statement not covered" >r[i];i===r.length-1?n[o]=t:n=n[o]?n[o]:n[o]=<span class="cstat-no" title="statement not covered" >parse<span class="cstat-no" title="statement not covered" ></span>Int(o)?[]:{}}}},{key:"remove",value:function(e){for(var t=this.tokens,r=e,n=0;n&lt;t.length;n++){var i=t[n];if(void 0===r||void 0=</span>=<span class="cstat-no" title="statement not covered" ></span>=r[i])r<span class="fstat-no" title="function not covered" >et</span>urn;if(Array.isArr<span class="cstat-no" title="statement not covered" >ay(r))return void r.splice(i,1);n===t.length-1&amp;&amp;</span>de</span>let</span>e r[<span class="cstat-no" title="statement not covered" >i],r=r</span>[i]}<span class="cstat-no" title="statement not covered" >}}</span>],[{<span class="cstat-no" title="statement not covered" >key:"parse",value:function(t){return new e(t)}}]),e}(</span>);e.<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >ex</span>ports=a},function(e,<span class="fstat-no" title="function not covered" >t,</span>r){"<span class="cstat-no" title="statement not covered" >use strict";function n(e,t){if(!<span class="cstat-no" title="statement not covered" ></span>(e instanceof t))throw new TypeError("Cannot call a class as a function<span class="fstat-no" title="function not covered" >")}fun</span>ction i(e,t)<span class="cstat-no" title="statement not covered" >{if(!<span class="cstat-no" title="statement not covered" ></span>e)throw new Refer<span class="fstat-no" title="function not covered" >en</span>ceError("this hasn't<span class="cstat-no" title="statement not covered" > been<span class="cstat-no" title="statement not covered" ></span> initial<span class="cstat-no" title="statement not covered" >ised - super() hasn't been called");return!t||"object"!=<span class="cstat-no" title="statement not covered" >t</span></span>ypeof t&amp;&amp;"function"!=typ<span class="cstat-no" title="statement not covered" >eof t?e:t}function o(e,t){if("function"!=typeof t&amp;&amp;null!<span class="cstat-no" title="statement not covered" >=</span></span>=t)throw new<span class="cstat-no" title="statement not covered" > TypeError("Super expression must either be null or a func<span class="cstat-no" title="statement not covered" >t</span></span>ion, not "+</span>typ</span>eof t);e.prototype=Object.create(t&amp;&amp;t.prototype,{constructor<span class="fstat-no" title="function not covered" >:{valu</span>e:e,enu<span class="cstat-no" title="statement not covered" >merable:!1,writable:!0,c<span class="cstat-no" title="statement not covered" >onfigurable:!0}}),t&amp;&amp;(Object.setPrototypeOf?Object.setPrototypeO</span></span>f(e,t):<span class="cstat-no" title="statement not covered" >e.__proto__=t)}va<span class="cstat-no" title="statement not covered" ></span>r s=function(){func</span>tion e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable<span class="fstat-no" title="function not covered" >=n.enu</span>merable||!1,n.c<span class="cstat-no" title="statement not covered" >onfigurable=!0<span class="cstat-no" title="statement not covered" ></span>,"value"in n&amp;</span>&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return functi<span class="fstat-no" title="function not covered" >on(t,r</span>,n){ret<span class="cstat-no" title="statement not covered" >urn r&amp;&amp;e(t.prototype,r),<span class="cstat-no" title="statement not covered" >n&amp;&amp;e(t,n),t}}(),a=r(18),u=1,c=function(e){function t(e){n(this,t);va</span></span>r r=i(t<span class="cstat-no" title="statement not covered" >his,(t.__proto<span class="cstat-no" title="statement not covered" ></span>__||Object.getPrototype</span>Of(t)).call(this));return Object.keys(e).forEach(function(t){<span class="fstat-no" title="function not covered" >var n=</span>e[t];r.<span class="cstat-no" title="statement not covered" >set(new a(t,u),new a(n,<span class="cstat-no" title="statement not covered" >u))}),r}return o(t,e),s(t,[{key:"map",value:function(e,t){this.<span class="cstat-no" title="statement not covered" >f</span></span>orEach(function(r,n){n.add(e,r.get(t))})}},<span class="cstat-no" title="statement not covered" >{key:"project",value:function(e,t){this.forEach(function(r,n){r.</span></span>add(t,n<span class="cstat-no" title="statement not covered" >.get(e))})}}])</span>,t}(<span class="cstat-no" title="statement not covered" >Map);e.exports</span>=c},<span class="cstat-no" title="statement not covered" >function(<span class="cstat-no" title="statement not covered" ></span>e,t,r){"use strict";functi</span>on n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,<span class="fstat-no" title="function not covered" >enumer</span>able:!0<span class="cstat-no" title="statement not covered" >,configurable:!0,writab<span class="cstat-no" title="statement not covered" >le:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new </span></span>TypeErr<span class="cstat-no" title="statement not covered" >or("Cannot cal</span>l a <span class="cstat-no" title="statement not covered" >class as a fun</span>ctio<span class="cstat-no" title="statement not covered" >n")}var o<span class="cstat-no" title="statement not covered" ></span>="function"==</span>typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){r<span class="fstat-no" title="function not covered" >eturn </span>typeof <span class="cstat-no" title="statement not covered" >e}:function(e){return e&amp;<span class="cstat-no" title="statement not covered" >&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.pr</span></span>ototype<span class="cstat-no" title="statement not covered" >?"symbol":type</span>of e<span class="cstat-no" title="statement not covered" >},s=funct<span class="cstat-no" title="statement not covered" ></span>ion(){function e(e,t)<span class="branch-0 cbranch-no" title="branch not covered" >{for(var<span class="cstat-no" title="statement not covered" > r=0;r&lt;t.length;r++<span class="cstat-no" title="statement not covered" >){var n=t[r];n.enumerable=n.enumerable||!1,n.configura</span></span></span>b</span>le=!0,"va</span>lue<span class="cstat-no" title="statement not covered" ></span>"in n&amp;&amp;(n.writa</span>bl<span class="fstat-no" title="function not covered" >e=</span>!0),Object.defineProperty(e,n.key,n)}<span class="fstat-no" title="function not covered" >}r</span>eturn f<span class="cstat-no" title="statement not covered" >unction(t,r,n){return r<span class="cstat-no" title="statement not covered" >&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),a=r(15),u=r(21),c=funct</span></span>ion(){fu<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >nc</span>tion e(t){i(this,e),<span class="fstat-no" title="function not covered" >Ob</span>ject.as<span class="cstat-no" title="statement not covered" >sign(this,t),Object.defineProperties(this,{i<span class="cstat-no" title="statement not covered" >nitia<span class="cstat-no" title="statement not covered" ></span>lize:{enumerable:!1,writeable:!1,value:a.compile(t)},validate:{enumerable:!1,writeable:!1,value:u.compile(t)}})}return s(e,[{ke</span>y<span class="cstat-no" title="statement not covered" ></span>:"exten<span class="fstat-no" title="function not covered" >d"</span>,value:function(t)<span class="cstat-no" title="statement not covered" >{function r(e){return e&amp;&amp;"object"===("undefined"</span>==</span>typ</span>eof <span class="cstat-no" title="statement not covered" >e?</span>"und<span class="cstat-no" title="statement not covered" >ef</span>ined<span class="cstat-no" title="statement not covered" >":</span>o(e)<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >)&amp;</span>&amp;null!==e&amp;&amp;!Array.is<span class="fstat-no" title="function not covered" >Ar</span>ray(e)}<span class="cstat-no" title="statement not covered" >function i(e,t){var o=Object.assign({},e);return r(e)&amp;&amp;r(t)&amp;&amp;Object.keys(t).forEach(function(s){r(t[s])&amp;&amp;s in e?o[s]=i(e[s],t[s]):Object.assign(o,n({}<span class="cstat-no" title="statement not covered" ></span>,s,t[s]))}),o}var s=i(this,t);return new e(s)}}]),e}();e.exports=c},func<span class="fstat-no" title="function not covered" >tion(e</span>,t,r<span class="cstat-no" title="statement not covered" >){"use strict";function n(e,t){if(!(e instanceof t)</span>)throw new TypeError("Cannot call a class as a function")}var i="<span class="fstat-no" title="function not covered" >functi</span>on"=<span class="cstat-no" title="statement not covered" >=typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?f</span>unction(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Sym<span class="fstat-no" title="function not covered" >bol&amp;&amp;e</span>.con<span class="cstat-no" title="statement not covered" >structor===Symbol&amp;&amp;e!==Sym<span class="cstat-no" title="statement not covered" >bol.prototype?"symbol":typeof e},o=function(){fun<span class="cstat-no" title="statement not covered" >c</span></span>tion e(e,t){f<span class="cstat-no" title="statement not covered" >or(var r=0<span class="cstat-no" title="statement not covered" >;</span></span>r&lt;t.length;r++){var n=t[<span class="cstat-no" title="statement not covered" >r];n.enumerable=n.enumerable||!1,n.confi<span class="cstat-no" title="statement not covered" >g</span></span>urable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key</span>,n)}}return function(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(<span class="fstat-no" title="function not covered" >),s=r(</span>14)<span class="cstat-no" title="statement not covered" >,a=function(){function e(t){var r=arguments.length&gt;1&amp;</span>&amp;void 0!==arguments[1]?arguments[1]:{};n(this,e),this.schema=t,Object.assign(this,r<span class="fstat-no" title="function not covered" >),this</span>.add<span class="cstat-no" title="statement not covered" >ress||(this.address=""),th<span class="cstat-no" title="statement not covered" >is.require!==!0&amp;&amp;(this.require=!1)}return o(e,nul<span class="cstat-no" title="statement not covered" >l</span></span>,[{key:"compile",value:f<span class="cstat-no" title="statement not covered" >unction(t){var r=new e(t),n='\n      // "cursor"\n      let valu<span class="cstat-no" title="statement not covered" >e</span></span> = data\n      let container\n      let stack = []\n      let</span> top = -1\n\n      // error state\n      let valid = true\n      let errors = []<span class="fstat-no" title="function not covered" >\n\n  </span>    // comp<span class="cstat-no" title="statement not covered" >lex s</span>chem<span class="cstat-no" title="statement not covered" >a state\n      l<span class="fstat-no" title="function not covered" >et</span> initialVali<span class="cstat-no" title="statement not covered" >dity\n      let anyValid\n      let notV</span>alid\n      <span class="cstat-no" title="statement not covered" ></span>let countOfValid\</span>n      let initialErrorCount\n      let accumulatedErrorCoun<span class="fstat-no" title="function not covered" >t\n\n </span>    <span class="cstat-no" title="statement not covered" > // validation code\n      '+r.compile()+"\n\n      // valid<span class="cstat-no" title="statement not covered" >ation result\n      return {\n <span class="cstat-no" title="statement not covered" >       valid,\n      <span class="cstat-no" title="statement not covered" >  error<span class="cstat-no" title="statement not covered" >s</span></span>\n      }\n    ";return new Function("data",n)}}])<span class="cstat-no" title="statement not covered" ></span>,</span>o(e,[{key:"c<span class="cstat-no" title="statement not covered" ></span>o</span>mpile",va</span>lue:function(){var e="";return this.require&amp;&amp;(e+=this.requir<span class="fstat-no" title="function not covered" >ed()),</span>e+=this<span class="cstat-no" title="statement not covered" >.type(),e+=this.array(),e+=this.number(),e+=this.object(),e+=this.st<span class="cstat-no" title="statement not covered" >ring(<span class="cstat-no" title="statement not covered" ></span>),e+=this.enum(),e+=this<span class="cstat-no" title="statement not covered" >.anyOf(),e+=this.allOf(),e+=this.not(),e+=this.oneOf()}},{key:"push",valu</span>e:fu<span class="cstat-no" title="statement not covered" >nction(){r<span class="cstat-no" title="statement not covered" >eturn"\n  </span>    <span class="cstat-no" title="statement not covered" >stack.push(value)\n      co<span class="cstat-no" title="statement not covered" >ntainer = value\n      top++\n    "}},{key:"pop",va</span>lue:fu<span class="cstat-no" title="statement not covered" >nction(){return"\n      if (stack<span class="cstat-no" title="statement not covered" >.</span>length</span> &gt; 1) <span class="cstat-no" title="statement not covered" >{\n     </span>   top-<span class="cstat-no" title="statement not covered" >-\n        stack.pop()\n      }\n\n      </span>v</span></span></span>a</span>lue = container = stack[top]\n    "}},{key:"type",value:function<span class="fstat-no" title="function not covered" > e(){v</span>ar e=th<span class="cstat-no" title="statement not covered" >is.schema.type,t=this.address,r="";if(e){var n=Array.isArray(e)?e:[e<span class="cstat-no" title="statement not covered" >],i=n<span class="cstat-no" title="statement not covered" ></span>.map(function(e){return"array"===e?"!Array.isArray(value)":"boolean"===e?"typeof</span> </span>value !== 'boolean'":"integer"===e?"!Number.isInteger(value)":"<span class="fstat-no" title="function not covered" >null"=</span>==e?<span class="cstat-no" title="statement not covered" >"value !== null":"number"===e?"typeof value !== 'number'":"object"==<span class="cstat-no" title="statement not covered" >=e?"(<span class="cstat-no" title="statement not covered" ></span>typeof value !== 'object' || Array.is<span class="cstat-no" title="statement not covered" >Array(v<span class="cstat-no" title="statement not covered" >a</span></span>lue) || value === nul<span class="cstat-no" title="statement not covered" >l)":"string"===e?"typeof va<span class="cstat-no" title="statement not covered" >l</span></span>ue !== 'string'":void 0}).join(" &amp;&amp; ");r+="\</span>n</span>      // "+t+" type checking\n      if (value !== undefined &amp;&amp; "<span class="fstat-no" title="function not covered" >+i+") </span>{\n <span class="cstat-no" title="statement not covered" >       valid = fa</span>lse\n    </span>   <span class="cstat-no" title="statement not covered" ></span> errors.push({\</span>n <span class="fstat-no" title="function not covered" >  </span>       keyword: 'type',\n          messa<span class="fstat-no" title="function not covered" >ge</span>: 'inva<span class="cstat-no" title="statement not covered" >lid type'\n        })\n<span class="cstat-no" title="statement not covered" >      }\n      "}return r}},{key:"array",value:function(){</span></span>var e=["a<span class="fstat-no" title="function not covered" >dd</span>itional<span class="cstat-no" title="statement not covered" >Items","<span class="cstat-no" title="statement not covered" >items","minItems","maxItems","uniqueItems"],t=this.validations(e),r="";return t.length<span class="cstat-no" title="statement not covered" >&gt;</span></span>0&amp;&amp;(r+="\n      /**\n       * Array validations\n       */\n      if</span> (Array.i<span class="fstat-no" title="function not covered" >sA</span>rray(va<span class="cstat-no" title="statement not covered" >lue)) {\n      "+t+"\n      }\n      "),r}<span class="cstat-no" title="statement not covered" >},{key:"number",value:function(){var e=["minimum","maximum","multipleOf"],t=this.validation<span class="cstat-no" title="statement not covered" >s</span></span>(e),r="";return t.length&gt;0&amp;&amp;(r+="\n      /**\n       * Number validations\n       */\n      if (typeof value === 'number') {\n      "+t+"\n      }\n      "),r}},{key:"object",value:function(){var e=["max</span>Properti<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >es</span>","minProperties","a<span class="fstat-no" title="function not covered" >dd</span>itional<span class="cstat-no" title="statement not covered" >Properties","properties","patternProperties"<span class="cstat-no" title="statement not covered" >,"dep<span class="cstat-no" title="statement not covered" ></span>endencies","schemaDependencies","propertyDependencies"],t=this.validations(e),r="";return t.length&gt;0&amp;&amp;(r+="\n      /**\n       </span>*<span class="cstat-no" title="statement not covered" ></span> Object<span class="fstat-no" title="function not covered" > v</span>alidations\n      <span class="cstat-no" title="statement not covered" > */\n      if (typeof value === 'object' &amp;&amp; valu</span>e </span>!==</span> nul<span class="cstat-no" title="statement not covered" >l &amp;&amp; !</span>Arra<span class="cstat-no" title="statement not covered" >y.</span>isAr<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >ra</span>y(value)) {\n      "+<span class="fstat-no" title="function not covered" >t+</span>"\n <span class="cstat-no" title="statement not covered" >     }\n    </span>  "),r}<span class="cstat-no" title="statement not covered" >},{key:"string",value:function(){var e=["maxLength","minLength<span class="cstat-no" title="statement not covered" ></span>","pattern","format"],t=this.v<span class="fstat-no" title="function not covered" >al</span>idations(e),r="";ret<span class="cstat-no" title="statement not covered" >urn t<span class="cstat-no" title="statement not covered" ></span>.length&gt;0&amp;&amp;(r+="\n      /**\n    </span>   * S<span class="cstat-no" title="statement not covered" ></span>tring validations\n       */\n      if (typeof value === 'string') {\n      "+<span class="fstat-no" title="function not covered" >t+"\n </span>     }\<span class="cstat-no" title="statement not covered" >n      "),r}}<span class="fstat-no" title="function not covered" >,{</span>key:"validation<span class="cstat-no" title="statement not covered" >s",value:function(e)</span>{va</span>r t=this,r=this.schema,n="",i=Object.keys(r).filter(function(t){<span class="fstat-no" title="function not covered" >return</span> e.inde<span class="cstat-no" title="statement not covered" >xOf(t)!==-1})<span class="fstat-no" title="function not covered" >;r</span>eturn i.forEach<span class="cstat-no" title="statement not covered" >(function(e){n+=t[e]</span>()}</span>),n}},{ke</span>y:"enu<span class="cstat-no" title="statement not covered" ></span>m",value:functi</span>on<span class="fstat-no" title="function not covered" >()</span>{var e=this.schema.enum,t=this.address,r<span class="fstat-no" title="function not covered" >=[</span>"value !==<span class="cstat-no" title="statement not covered" > undefined"],n="";return e&amp;&amp;(e.forEach(function(e){switch("undefined"==typeof e?"undefined":i(e)){case"boolean":r.push("v</span>alue !== <span class="fstat-no" title="function not covered" >"+</span>e);brea<span class="cstat-no" title="statement not covered" >k;case"number":r.push("<span class="cstat-no" title="statement not covered" >value !== "+e);break;case"string":r.push('value !== "'+e+'</span></span>"');brea<span class="cstat-no" title="statement not covered" >k;case"object":null===e?r.push("value !== null"):r.push("'"+JSON.str<span class="fstat-no" title="function not covered" >in</span>gify(e)+"' !<span class="cstat-no" title="statement not covered" >== JSON.stringify</span>(va<span class="fstat-no" title="function not covered" >lu</span>e)");break;d<span class="cstat-no" title="statement not covered" >efault:throw new Error("Things are not well in the land of enum")}}),n+='\n      /**\n       * Validate "'+t+'" enum\</span>n</span>    <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >  </span> */\n      if ('+r.j<span class="fstat-no" title="function not covered" >oi</span>n(" &amp;&amp; <span class="cstat-no" title="statement not covered" >")+") {\n        valid = false\n        erro<span class="cstat-no" title="statement not covered" >rs.pu<span class="cstat-no" title="statement not covered" ></span>sh({\n          keyword: 'enum',\n          message: JSON.stringify(value) + ' is not an enumerated value'\n        })\n      }</span>\<span class="cstat-no" title="statement not covered" ></span>n      <span class="fstat-no" title="function not covered" >")</span>,n}},{key:"anyOf",<span class="cstat-no" title="statement not covered" >value:function t(){var t=this.schema.anyOf,r=thi</span>s.</span>add</span>ress<span class="cstat-no" title="statement not covered" >,n="";</span>retu<span class="cstat-no" title="statement not covered" >rn Arr</span>ay.i<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >sA</span>rray(t)&amp;&amp;(n+="\n    <span class="fstat-no" title="function not covered" >  </span>  in<span class="cstat-no" title="statement not covered" >itialValidity = valid\n        initialErrorCount = errors.length\n        anyValid = false\n      ",<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
t.forEach(func<span class="fstat-no" title="function not covered" >ti</span>on(t){var i=new e(t,<span class="cstat-no" title="statement not covered" >{address:r});n+="\n      <span class="cstat-no" title="statement not covered" ></span>  accumulatedErrorCount = errors.length\n        "+i.compile()+"\n        if (accumulatedErrorCount === errors.length) {\n          anyValid = true\n        }\n        "}),n+="\n          i</span>f (anyValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          }\n      "),n}},{key:"allOf",value:function t(){var t=this.schema.allOf,r=<span class="fstat-no" title="function not covered" >th</span>is.address,<span class="cstat-no" title="statement not covered" >n="";return Array.</span>isAr<span class="cstat-no" title="statement not covered" >ray(t)&amp;&amp;t.for</span>Each<span class="cstat-no" title="statement not covered" >(fu<span class="cstat-no" title="statement not covered" ></span>nction(t){var i=new e(t,{address:r});<span class="fstat-no" title="function not covered" >n+</span>="\n        "+i.comp<span class="cstat-no" title="statement not covered" >ile()+"\n        "}),n}},<span class="cstat-no" title="statement not covered" ></span>{key:"oneOf",value:function t(){var t=this.schem</span>a.oneO</span>f,r=this.address,n="";return Array.i<span class="fstat-no" title="function not covered" >sA</span>rray(t)&amp;&amp;(n<span class="cstat-no" title="statement not covered" >+="\n        /**\n</span>    <span class="cstat-no" title="statement not covered" >     * Valida</span>te "<span class="cstat-no" title="statement not covered" >+r+<span class="cstat-no" title="statement not covered" ></span>" oneOf\n         */\n        initialValidity = valid\n        initialErrorCount = errors.length\n        countOfValid = 0\n      ",t.forEach(function(t){var i=new e(t,{address:r});n+="\n        accumulatedErrorCount = e<span class="fstat-no" title="function not covered" >rr</span>ors.length\n        <span class="cstat-no" title="statement not covered" >"+i.compile()+"\n        <span class="cstat-no" title="statement not covered" ></span>if (accumulatedErrorCount === errors.length) {\n          countOfValid += 1\n        }\n        "}),n+="\n          if (countOfValid === 1) {\n            valid = initialValidity\n           </span> errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors.push({\n              keyword: 'oneOf',\n              message: 'what is a reasonable error message for this case?'\n            })\n          }\n      "),n}},{key:"not",value:function t(){var t=this.schema.not,r=this.address,n="";if("object"===("undefine</span>d"==typeof t?"undefined":i(t))&amp;&amp;nu<span class="fstat-no" title="function not covered" >ll</span>!==t&amp;&amp;!Arra<span class="cstat-no" title="statement not covered" >y.isArray(t)){va</span>r o=<span class="cstat-no" title="statement not covered" >t,s=new e(o,{</span>addr<span class="cstat-no" title="statement not covered" >ess<span class="cstat-no" title="statement not covered" ></span>:r});n+="\n        /**\n         * NOT\n         */\n        if (value !== undefined) {\n          initialVal<span class="cstat-no" title="statement not covered" >id</span>ity <span class="cstat-no" title="statement not covered" >= valid\n          initia<span class="cstat-no" title="statement not covered" ></span>lErrorCount = errors.length\n          notValid = true\n\n          accumulatedErrorCount = errors.length\n\n          "+s.compile()+"\n\n          if (accumulatedErrorCount === errors.length) {\n            notValid = false\n          }\n\n          if (notValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors = errors.slice(0, initialErrorCount)\n            errors.push({\n              keyword: 'not',\n              message: 'hmm...'\n            })\n          }\n        }\n      "}return n}},{key:"properties",value:function t(){var r=this.schema,n=this.address,t=r.properties,o=r.required,s=this.push();return o=Array.isAr<span class="cstat-no" title="statement not covered" ></span>r</span>ay(o)?o:[</span>],"object"===("undefined"==typeof t?"unde<span class="fstat-no" title="function not covered" >fi</span>ned":i(t))&amp;<span class="cstat-no" title="statement not covered" >&amp;Object.keys</span>(t).<span class="cstat-no" title="statement not covered" >forEach(funct</span>ion(<span class="cstat-no" title="statement not covered" >r){var i=t[r]</span>,a=o<span class="cstat-no" title="statement not covered" >.indexOf(r)</span>!==-<span class="cstat-no" title="statement not covered" >1,u=[n,r].fi<span class="cstat-no" title="statement not covered" ></span>lter(function(e){return!!e}).join("."),c=new e(i,{address:u,require:a});s+="\n        value = container['"+r+"']\n        ",<span class="fstat-no" title="function not covered" >s+</span>=c.compile()}),s+=th<span class="cstat-no" title="statement not covered" >is.po</span>p()}<span class="cstat-no" title="statement not covered" >},{key:"otherPropert</span>ies"<span class="cstat-no" title="statement not covered" >,value:functio<span class="fstat-no" title="function not covered" >n(</span>){return"\n <span class="cstat-no" title="statement not covered" >     /**\n  </span>     * Valid</span>ate <span class="cstat-no" title="statement not covered" >Other Properties\n       */\n      "+<span class="cstat-no" title="statement not covered" ></span>this.push()+"\n\n      for (let key in container) {\n        value = containe</span>r[key]\n        matc</span>hed = false\n\n        "+this.patternValidations()+"\n        "+this.add<span class="fstat-no" title="function not covered" >itiona</span>lVa<span class="cstat-no" title="statement not covered" >lidations()+"\n      }\n\n      "+this.pop()+"\n    "}},{key:"patternValidations",value:function(){var t=this.schema.patternProperties,r="";return"object"===("undefined"==typeof t?"undefined":i(t))&amp;&amp;Object.keys(t).forEach(function(n){var i=t[n],o=new e(i);r+="\n          if (key.match('"+n+"')) {\n            matched = true</span>\n            "+o.compile()+"\n          }\n        "}),r}},{key:"additiona<span class="fstat-no" title="function not covered" >lValid</span>ations",val<span class="cstat-no" title="statement not covered" >ue:function(){var t=this.schem</span>a,r=<span class="cstat-no" title="statement not covered" >t.p<span class="cstat-no" title="statement not covered" ></span>roperties,n=t.additionalProperties,o=this.address,s="",a=["matched !== true"];if(Object.keys(<span class="fstat-no" title="function not covered" >r|</span>|{}).forEach(functio<span class="cstat-no" title="statement not covered" >n(e){</span>a.pu<span class="cstat-no" title="statement not covered" >sh("key !<span class="cstat-no" title="statement not covered" ></span>== '"+e+"'")}),"object"===("undefined"==typeof n?"undefined":i(n))){var u=n,c=new e(u,{address:o+"[APKey]"});s+="\n        // validate</span> addit</span>ional properties\n        if ("+a.join(" &amp;&amp; ")+") {\n          "+c.compile()+"<span class="fstat-no" title="function not covered" >\n    </span>    }\n    <span class="cstat-no" title="statement not covered" >  "}return n</span>===!<span class="cstat-no" title="statement not covered" >1&amp;&amp;(s+="\n   </span>    <span class="cstat-no" title="statement not covered" > // validate non-presen</span>ce o<span class="cstat-no" title="statement not covered" >f additional </span>prop<span class="cstat-no" title="statement not covered" >ert</span>ies\<span class="cstat-no" title="statement not covered" >n        if ("+a.join<span class="cstat-no" title="statement not covered" ></span>(" &amp;&amp; ")+") {\n          valid = <span class="fstat-no" title="function not covered" >fa</span>lse\n       <span class="cstat-no" title="statement not covered" >   errors.push({\n            k</span>eyword: 'additionalProperties',\n            message: key + ' is not a de<span class="cstat-no" title="statement not covered" >fi</span>ned <span class="cstat-no" title="statement not covered" >property'\n          })\n        }\n <span class="cstat-no" title="statement not covered" ></span>     "),s}},{key:"patternProperties",value:function(){var e="";return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,e+=this.othe<span class="cstat-no" title="statement not covered" ></span>r</span>Properties()),e}},{key:"additionalProperties",value:function(){var e="";return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,e+=this.otherProperties()),e}},{key:"minProperties",value:function e(){var e=this.schema.minProperties,t=this.address;return"\n        // "+t+" min properties\n        if (Object</span>.keys(value).length &lt; "+e+") {\n          valid = false\n          errors.<span class="fstat-no" title="function not covered" >push({</span>\n         <span class="cstat-no" title="statement not covered" >   <span class="cstat-no" title="statement not covered" ></span>keyword: 'minProperties',\n            message: 'too few properties'\n          })\n        }\n    "}},{</span>key:"maxProperties",value:function e(){var e=this.schema.maxProperties,t=this<span class="fstat-no" title="function not covered" >.addre</span>ss;return"\<span class="cstat-no" title="statement not covered" >n  <span class="cstat-no" title="statement not covered" ></span>      // "+t+" max properties\n        if (Object.keys(value).length &gt; "+e+") {\n          valid = false</span>\n          errors.push({\n            keywo<span class="fstat-no" title="function not covered" >rd</span>: 'maxPrope<span class="cstat-no" title="statement not covered" >rties',\n            messa</span>ge: <span class="cstat-no" title="statement not covered" >'too many pro<span class="cstat-no" title="statement not covered" ></span>perties'\n          })\n        }\n    "}},{key:"dependencies",value:function t(){var t=this.schema.dependencies,r=this.address,n=this.push();return"object"===("undefined"==typeof t?"undefined":i(t))&amp;&amp;Object.keys(t).forEach(function(o){var s=t[o],a=[];if(Array.isAr</span>ray(s))s.forEach(function(e){a.push("contain<span class="fstat-no" title="function not covered" >er</span>['"+e+"'] =<span class="cstat-no" title="statement not covered" >== undefined")}),n+="\n   </span>    <span class="cstat-no" title="statement not covered" >     if (cont<span class="cstat-no" title="statement not covered" ></span>ainer['"+o+"'] !== undefined &amp;&amp; ("+a.join(" || ")+")) {\n              valid = false\n              errors.push({\n                keyword: 'dependencies',\n                message: 'unmet dependencies'\n              })\n            }\n          ";else if("object"=</span>==("undefined"==typeof s?"undefined":i(s)))<span class="fstat-no" title="function not covered" >{v</span>ar u=s,c=ne<span class="cstat-no" title="statement not covered" >w e(u,{address:r});n+="\n</span>    <span class="cstat-no" title="statement not covered" >        if (c</span>onta<span class="cstat-no" title="statement not covered" >iner['"+o+"'<span class="cstat-no" title="statement not covered" ></span>] !== undefined) {\n              "+c.compile()+"\n            }\n          "}}),n+=this.pop(<span class="fstat-no" title="function not covered" >)}</span>},{key:"required",va<span class="cstat-no" title="statement not covered" >lue:f</span>unct<span class="cstat-no" title="statement not covered" >ion<span class="cstat-no" title="statement not covered" ></span>(){var e=(this.schema.<span class="cstat-no" title="statement not covered" >properties<span class="fstat-no" title="function not covered" >,t</span>his.address)<span class="cstat-no" title="statement not covered" >,t="";return t+="\n      // validate "+e+" prese</span>nce\n      if (value === undefined) {\n        valid = false\n        errors.push({\n          keyword: 'required',\n          message: 'is required'\n        })\n      }\n    "}},{key:"additionalItems",value:function t(){var r=this.schema,n=r.items,t=r.additionalItems,o=(this.address,"")</span>;if(<span class="cstat-no" title="statement not covered" >t===!1&amp;&amp;Array.isArray(n)&amp;&amp;(o+="\n        // don't allow additional items\n<span class="cstat-no" title="statement not covered" >  </span>    <span class="cstat-no" title="statement not covered" >  if (value.length &gt; "+n.<span class="cstat-no" title="statement not covered" ></span>length+") {\n          valid = false\n          errors.push({\n            keyword: 'additionalItems',\n            message: 'ad</span>d</span></span>itional items not al</span>lowed'\n          })\n        }\n      "),"object"===("undefined"<span class="fstat-no" title="function not covered" >==type</span>of t?"undefi<span class="cstat-no" title="statement not covered" >ned":i(t))&amp;&amp;null!==t&amp;&amp;Array.isArray(n</span>)){va<span class="cstat-no" title="statement not covered" >r s<span class="cstat-no" title="statement not covered" ></span>=t,a=new e(s);o+="\n        // additional items\n        "+this.push()+"\n\n        for (var i = "+n.length+"; i &lt;= container.length; i++) {\n          value = container[i]\n          "+a.compile()+"\n        }\n\n        "+thi</span>s.pop()+"\n      "}return o}},{key:"items",val<span class="fstat-no" title="function not covered" >ue</span>:function t<span class="cstat-no" title="statement not covered" >(){var t=thi</span>s.sc<span class="cstat-no" title="statement not covered" >hema.ite</span>ms,r<span class="cstat-no" title="statement not covered" >=this.address,n=""</span>;if(A<span class="cstat-no" title="statement not covered" >rray.isArray(t))n</span>+<span class="cstat-no" title="statement not covered" >=this.push(),t.forEach(function(t,i){var o=t,s=new e(o,{address:r+"["+i+"]"});n+="\n          // item #"+i+"\n          value = container["+i+"]\n          "+s.compile()+"\n        "}),n+=this.pop();else if("object"===("undefined"==typeof t?"undefined":i(t))&amp;&amp;null!==t){var o=t,s=new e(o);n+="\n        // items\n        "+this.push()+"\n\n        for (var i = 0; i &lt; container.length; i++) {\n          // read array<span class="cstat-no" title="statement not covered" > e</span>leme<span class="cstat-no" title="statement not covered" >nt\n     <span class="cstat-no" title="statement not covered" ></span>     value = container[i]\n          "+s.compile()+"\n        }\n\n        "+this.pop()+"\n      "}return n}},{key:"minItems",value:function e(){var e=this.schema.minItems,t=this.address;return"\n        // "+t+" min items\n        if (value.length &lt; <span class="cstat-no" title="statement not covered" ></span>"</span>+e+") {\n</span>          valid = false\n          e<span class="fstat-no" title="function not covered" >rr</span>ors.push({\<span class="cstat-no" title="statement not covered" >n            keywo</span>rd: <span class="cstat-no" title="statement not covered" >'minItems',\n</span>    <span class="cstat-no" title="statement not covered" >   <span class="cstat-no" title="statement not covered" ></span>     message: 'too few<span class="cstat-no" title="statement not covered" > properties'\n          })\n<span class="fstat-no" title="function not covered" >  </span>      }\n    "}},{key:"<span class="cstat-no" title="statement not covered" >ma</span>xIte<span class="cstat-no" title="statement not covered" >ms",value:function e(){var e=this.schema.<span class="cstat-no" title="statement not covered" ></span>maxItems,t=this.address;return"\n        // "+t+" max items\n        if (value.length &gt; "+e+") {\n          valid = fals</span>e\n          errors.</span>push<span class="cstat-no" title="statement not covered" >({\n            keyword: 'maxItems',\n            message: 'too many properties'\n      <span class="cstat-no" title="statement not covered" >  </span>  })<span class="cstat-no" title="statement not covered" >\n       <span class="cstat-no" title="statement not covered" ></span> }\n    "}},{key:"uniqueItems",value:function e(){var e=this.schema.uniqueItems,t=this.address,r="";return e===!0&amp;&amp;(r+="\n        // validate "+t+" unique items\n        let values = value.map(v =&gt; JSON.stringify(v)) // TODO: optimize\n        let set = new<span class="cstat-no" title="statement not covered" ></span> </span></span>Set(value</span>s)\n        if (values.length !== set.s<span class="fstat-no" title="function not covered" >iz</span>e) {\n     <span class="cstat-no" title="statement not covered" >     valid = false\n </span>    <span class="cstat-no" title="statement not covered" >     errors.p<span class="cstat-no" title="statement not covered" ></span>ush({\n            keyword: 'uniqueItems',\n            message: 'items must be unique'\n          })\n        }\n      "),r}},{key:"minLength",value:function e(){var e=this.schema.minLength,t=this.address;return"\n        // "+t+" validate m</span>inLength\n        if (Array.from(value)<span class="fstat-no" title="function not covered" >.l</span>ength &lt; "+e<span class="cstat-no" title="statement not covered" >+") {\n          vali</span>d = <span class="cstat-no" title="statement not covered" >false\n      <span class="cstat-no" title="statement not covered" ></span>    errors.push({\n            keyword: 'minLength',\n            message: 'too short'\n          })\n        }\n    "}},{key:"maxLength",value:function e(){var e=this.schema.maxLength,t=this.address;return"\n        // "+t+" validate maxLengt</span>h\n        if (Array.from(value).length &gt; <span class="fstat-no" title="function not covered" >"+</span>e+") {\n   <span class="cstat-no" title="statement not covered" >       valid = false\n  </span>    <span class="cstat-no" title="statement not covered" >    errors.pu</span>sh({<span class="cstat-no" title="statement not covered" >\n <span class="cstat-no" title="statement not covered" ></span>           keyword: 'maxLength',\n            message: 'too long'\n          })\n        }\n    "}},{key:"pattern",value:function e(){var e=this.schema.pattern,t=this.address;if(e)return"\n          // "+t+" validate pattern\n          if (!value.match(new RegExp('"+e+"'))) {\n            valid = false\n            errors.push({\n              keyword: 'pattern',\n              message: 'doe</span>s not match the required pattern'\n     <span class="fstat-no" title="function not covered" >  </span>     })\n  <span class="cstat-no" title="statement not covered" >        }\n      "}},{</span>key:<span class="cstat-no" title="statement not covered" >"format",valu<span class="cstat-no" title="statement not covered" ></span>e:function e(){var e=this.schema.format,t=this.address,r=s.resolve(e);if(r)return"\n      // "+t+" validate format\n      if (!value.match("+r+")) {\n        valid = false\n        errors.push({\n          keyword: 'format',\n          message: 'is not \"</span>"+e+"\" format'\n        })\n      }\n  <span class="fstat-no" title="function not covered" >  </span>  "}},{key:<span class="cstat-no" title="statement not covered" >"minimum",value:functi</span>on e<span class="cstat-no" title="statement not covered" >(){var t=this<span class="cstat-no" title="statement not covered" ></span>.schema,e=t.minimum,r=t.exclusiveMinimum,n=this.address,i=r===!0?"&lt;=":"&lt;";return"\n        // "+n+" validate minimum\n        if (value "+i+" "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'minimum',\n            message</span>: 'too small'\n          })\n        }<span class="fstat-no" title="function not covered" >\n</span>    "}},{ke<span class="cstat-no" title="statement not covered" >y:"maximum",value:fu</span>ncti<span class="cstat-no" title="statement not covered" >on e(){var t=<span class="cstat-no" title="statement not covered" ></span>this.sc<span class="cstat-no" title="statement not covered" >hema,e=t.maximum,r=t.exclusiveMaximum,n=this.address,i=r===!0?"&gt;=":"&gt;";return"\n        // "+n+" validate maximum\n        if (value "+i+" "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'maximum',\n            message: 'too large'\n          })\n        }\n    "</span></span>}},{key:"multipleOf",value:function e<span class="fstat-no" title="function not covered" >()</span>{var e=this<span class="cstat-no" title="statement not covered" >.schema.multipleOf,</span>t=""<span class="cstat-no" title="statement not covered" >;if("number"=</span>=typ<span class="cstat-no" title="statement not covered" >eof e){var r=<span class="cstat-no" title="statement not covered" ></span>e.toStr<span class="cstat-no" title="statement not covered" >ing().length,n=r-e.toFixed(0).length-1,i=n&gt;0?Math.pow(10,n):1,o=void 0;o=n&gt;0?"(value * "+i+") % "+e*i+" !== 0":"value % "+e+" !== 0",t+="\n        if ("+o+") {\n          valid = false\n          errors.push({\n            keyword: 'multipl</span></span>eOf',\n            message: 'must be a<span class="fstat-no" title="function not covered" > m</span>ultiple of <span class="cstat-no" title="statement not covered" >"+e+"'\n    </span>    <span class="cstat-no" title="statement not covered" >  })\n    </span>    <span class="cstat-no" title="statement not covered" >}\n      "}return t</span>}}])<span class="cstat-no" title="statement not covered" >,e}();e.expor</span>ts=a<span class="cstat-no" title="statement not covered" >},function(e,t,r){"use<span class="cstat-no" title="statement not covered" ></span> strict";var n=r(23),i=r(39),o=r(42),s=r(44),a=r(49),u=r(46),c=r(48),l=r(40),f=r(43),p=r(47),h=r(45);e.exports={JWA:n,JWK:i,JWKSet:o,JWT:s,JWS:a,Base64URLSchema:u,JOSEHeaderSchema:c,JWKSchema:l,JWKSetSchema:f,JWTClaimsSetSchema:p,JWTSchema:</span>h}},function(e,t,r){"use strict";funct<span class="fstat-no" title="function not covered" >io</span>n n(e,t){if<span class="cstat-no" title="statement not covered" >(!(e instanc</span>eof <span class="cstat-no" title="statement not covered" >t))throw n</span>ew T<span class="cstat-no" title="statement not covered" >ypeError("Cannot ca</span>ll a<span class="cstat-no" title="statement not covered" > class as a f</span>unct<span class="cstat-no" title="statement not covered" >ion")}var i=function()<span class="cstat-no" title="statement not covered" ></span>{function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),o=(r(24</span>),r(29)),s=r(37),a=s.NotSupportedError,u=<span class="fstat-no" title="function not covered" >fu</span>nction(){fu<span class="cstat-no" title="statement not covered" >nction e(){n(this,e)}re</span>turn<span class="cstat-no" title="statement not covered" > i(<span class="cstat-no" title="statement not covered" ></span>e,null,[{key:"sign",value:function(<span class="cstat-no" title="statement not covered" >e,t,r){var n=o.norma</span>lize<span class="cstat-no" title="statement not covered" >("sign",e);return n instance</span>of E<span class="cstat-no" title="statement not covered" >rror?Promise.reject(new a(e)</span>):n.<span class="cstat-no" title="statement not covered" >sign(t,<span class="cstat-no" title="statement not covered" ></span>r)}},{key:"verify",value:function(e,t,r,n){var i=o.normalize("verify",e);return i instanceof Error?Promise.reject(new a(e)):i.verify(t,r,n)}},{key:"importKey",value:function(e){var t=o.normalize("importKey",e.alg);return t.importKey(e)}}]),e}();e.exports=u},function(e,t,r){(function(t){function<span class="cstat-no" title="statement not covered" ></span> </span>r(e){retu</span>rn e.replace<span class="cstat-no" title="statement not covered" >(/=/g,"").repla</span>ce<span class="fstat-no" title="function not covered" >(/</span>\+/g,"-").replace(/\//g,"_")}function n<span class="cstat-no" title="statement not covered" >(e){t.</span>isBu<span class="cstat-no" title="statement not covered" >ffer(e</span>)&amp;&amp;(<span class="cstat-no" title="statement not covered" >e=e.to</span>Stri<span class="cstat-no" title="statement not covered" >ng());</span>var <span class="cstat-no" title="statement not covered" >r=i(e)</span>.rep<span class="cstat-no" title="statement not covered" >lace(/</span>\-/g<span class="cstat-no" title="statement not covered" >,"+").</span>repl<span class="cstat-no" title="statement not covered" >ace(/_</span>/g,"<span class="cstat-no" title="statement not covered" >/");re</span>turn<span class="cstat-no" title="statement not covered" > r}fun</span>ctio<span class="cstat-no" title="statement not covered" >n i(e)<span class="cstat-no" title="statement not covered" ></span>{var r=4,n=e.length,i=e.length%r;if(!i)return e;var o=n,s=r-i,a=n+s,u=t(a);for(u.write(e);s--;)u.write("=",o++);return u.toString()}function o(e,r){return t(n(e),"base6</span>4"<span class="fstat-no" title="function not covered" >).</span>toString(r)}function s(e,n){return r(t(e<span class="fstat-no" title="function not covered" >,n</span>).toStr<span class="cstat-no" title="statement not covered" >ing("base64"))}function<span class="cstat-no" title="statement not covered" > a(e){return t(n(e),"base64")}s.toBase64=n,s.fromBase64=r,</span></span>s.decode<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >=o</span>,s.encode=s,s.toBuff<span class="fstat-no" title="function not covered" >er</span>=a,e.ex<span class="cstat-no" title="statement not covered" >ports=s}).call(t,r(25).Buffer)},function(e,t<span class="cstat-no" title="statement not covered" >,r){(<span class="cstat-no" title="statement not covered" ></span>function(e){/*!<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh &lt;feross@feross.org&gt; &lt;http://feross.org&gt;
	 * @license  MIT
	 */
"use strict";function n(<span class="fstat-no" title="function not covered" >){</span>try<span class="cstat-no" title="statement not covered" >{var e=new Ui<span class="cstat-no" title="statement not covered" >nt8Array(1);return<span class="cstat-no" title="statement not covered" ></span> e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&amp;&amp;"function"<span class="fstat-no" title="function not covered" >==ty</span>peo<span class="cstat-no" title="statement not covered" >f e.subarra</span>y&amp;&amp;0===e.subarray(1,1).byteLength}catch(e){return!1}}function i(){return s.TYPED_ARRAY_SUPPO</span>RT?214748364<span class="cstat-no" title="statement not covered" >7:107374182</span>3</span>}function<span class="fstat-no" title="function not covered" > o</span>(e,<span class="cstat-no" title="statement not covered" >t){if(i()&lt;t)throw new RangeError("Invalid typed array le</span>ngth");re<span class="fstat-no" title="function not covered" >tu</span>rn s.TY<span class="cstat-no" title="statement not covered" >PED_ARRAY_SUP<span class="cstat-no" title="statement not covered" >PORT?(e=new Uint8Array(t),e.__proto__=s.prototype):<span class="cstat-no" title="statement not covered" >(</span></span>null===e&amp;&amp;(e=new s(t)),e.length=t),e}function s(e,t,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,r);if("number</span>"==typeof<span class="fstat-no" title="function not covered" > e</span>){if("stri<span class="cstat-no" title="statement not covered" >ng"==typeof t)throw new Error("If encoding is speci<span class="cstat-no" title="statement not covered" >fied then the first ar<span class="cstat-no" title="statement not covered" >g</span></span>ument must be a string");r<span class="cstat-no" title="statement not covered" >eturn l(this,e)}return a(t<span class="cstat-no" title="statement not covered" >his,e,t,r)}function a(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" arg<span class="cstat-no" title="statement not covered" >u</span></span>ment must not be a<span class="cstat-no" title="statement not covered" ></span> </span>number');return"undefine</span>d"!=typeo<span class="fstat-no" title="function not covered" >f </span>ArrayBuffer&amp;&amp;<span class="cstat-no" title="statement not covered" >t instanceof ArrayBuffer?h<span class="cstat-no" title="statement not covered" >(e,t,r,n):"string"==typeof t?f(e,t,r):d(e,t)}function u(e){if<span class="cstat-no" title="statement not covered" >(</span></span>"number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e&lt;0)throw new RangeError('"size" argument must not be</span> negative<span class="fstat-no" title="function not covered" >')</span>}fun<span class="cstat-no" title="statement not covered" >ction c(e,t,r,n){return u(<span class="cstat-no" title="statement not covered" >t),t&lt;=0?o(e,t):void 0!==r?"string"==typeof n?o(e,t).fill<span class="cstat-no" title="statement not covered" >(</span></span>r,n):o(e,t<span class="cstat-no" title="statement not covered" >).fill(r):o(e,t)}function l(e,t){if(u(t),e=o(e,t&lt;0?0:0|y(t)),!</span></span>s.TYPED_A<span class="fstat-no" title="function not covered" >RR</span>AY_SUPPORT)fo<span class="cstat-no" title="statement not covered" >r(var r=0;r&lt;t;++r)e[r]=0;return e}function f(e,t,r){if("string"==typeof r&amp;&amp;""!==r||(r="utf8"),!s.isEncoding(r))throw n</span>ew TypeEr<span class="fstat-no" title="function not covered" >ro</span>r('"enc<span class="cstat-no" title="statement not covered" >oding" must be a valid string encoding');var n=0|v(t,r);e=o(e,n);v<span class="cstat-no" title="statement not covered" >ar i=e.write(t,r);return i!=<span class="cstat-no" title="statement not covered" >=n&amp;&amp;(e=e.<span class="cstat-no" title="statement not covered" >s</span></span></span>lice(0,i)</span>),e}funct<span class="fstat-no" title="function not covered" >io</span>n p(e,t){v<span class="cstat-no" title="statement not covered" >ar r=t.length&lt;0?0:0|y(t.length);e=o(e,r);for(var n=0;n&lt;r;n+=1)e[n]=255&amp;t<span class="cstat-no" title="statement not covered" >[n];return e}function h(e,t,r,n){if(t.byteLength,r&lt;0||t.byteLength&lt;</span></span>r)throw<span class="cstat-no" title="statement not covered" > new RangeEr<span class="cstat-no" title="statement not covered" ></span>ror("'offset'</span> is out<span class="cstat-no" title="statement not covered" > of bounds");i<span class="cstat-no" title="statement not covered" ></span>f(t.byteLength&lt;r+(n||0))throw new RangeErr</span>or("'leng<span class="fstat-no" title="function not covered" >th</span>' is out of bou<span class="cstat-no" title="statement not covered" >nds");return t=void 0===r&amp;&amp;void 0==<span class="cstat-no" title="statement not covered" ></span>=n?new Uint8<span class="cstat-no" title="statement not covered" >A</span>rray(t):void 0===n?new Uint8Ar<span class="cstat-no" title="statement not covered" >ray(t,r):new Uint8<span class="cstat-no" title="statement not covered" >A</span></span>rray(t,r,</span>n),s.TYPE<span class="fstat-no" title="function not covered" >D_</span>ARRAY_SUPPORT<span class="cstat-no" title="statement not covered" >?(e=t,e.__proto__=s.prototype):e=p(e,t),e}fun<span class="cstat-no" title="statement not covered" >ction d(e,t){if(s.isBuffer(t)){var r=0|y(t.length)<span class="cstat-no" title="statement not covered" >;</span></span>return e=o(e,r),0===e.length?e:(<span class="cstat-no" title="statement not covered" >t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof Ar<span class="cstat-no" title="statement not covered" >r</span></span>ayBuffer&amp;&amp;t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?o(e,0):p(e,t);if("Buffer"===t.type&amp;&amp;Z(t.data))return p(e,t.data)}throw new TypeError("First argument</span> must be <span class="fstat-no" title="function not covered" >a </span>string,<span class="cstat-no" title="statement not covered" > Buffer, ArrayBuffer, Array,<span class="cstat-no" title="statement not covered" > or array-like o<span class="cstat-no" title="statement not covered" ></span>bject.")}function y(e){if(e&gt;=i())throw new RangeError("Attempt to <span class="cstat-no" title="statement not covered" ></span>a</span>llocate<span class="cstat-no" title="statement not covered" > Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(e){r<span class="cstat-no" title="statement not covered" >eturn+e!=e&amp;&amp;(e=0),s.alloc(+e)}function v(e,t){if(s.isBuffer(e))return <span class="cstat-no" title="statement not covered" >e</span></span>.length;if("undefined"!=typeof ArrayB<span class="cstat-no" title="statement not covered" >uffer&amp;&amp;"function"==ty<span class="cstat-no" title="statement not covered" ></span></span>p</span>eof ArrayBuffer.isView&amp;&amp;(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=ty</span>peof e&amp;&amp;(<span class="fstat-no" title="function not covered" >e=</span>""+e<span class="cstat-no" title="statement not covered" >);var r=e.leng<span class="cstat-no" title="statement not covered" >th;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"u<span class="cstat-no" title="statement not covered" >t</span></span>f-8":case voi</span>d 0:retur<span class="fstat-no" title="function not covered" >n </span>W(e)<span class="cstat-no" title="statement not covered" >.length;case"ucs2":case"ucs-2":case"utf1</span>6le":case<span class="fstat-no" title="function not covered" >"u</span>tf-16le<span class="cstat-no" title="statement not covered" >":return 2*r;case"h<span class="cstat-no" title="statement not covered" >ex":return r&gt;&gt;&gt;1<span class="cstat-no" title="statement not covered" >;</span></span>case"base64":return V(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||<span class="cstat-no" title="statement not covered" >t&lt;0)&amp;&amp;(t=0),t&gt;this.l<span class="cstat-no" title="statement not covered" >e</span></span>ngth)return"";if((void 0===r||r&gt;this.</span>length)<span class="cstat-no" title="statement not covered" >&amp;&amp;(r=this<span class="cstat-no" title="statement not covered" ></span>.length),r&lt;=0<span class="cstat-no" title="statement not covered" >)return""<span class="cstat-no" title="statement not covered" >;</span></span>if(r&gt;&gt;&gt;=0,t&gt;&gt;&gt;=0,r<span class="cstat-no" title="statement not covered" >&lt;=t)return"";for(e||(e="utf8");;)switch(e){case"hex":<span class="cstat-no" title="statement not covered" >return C(t</span>his,t,r);case"utf8":case"utf-8":retu<span class="cstat-no" title="statement not covered" >rn T(this,t,r);case"</span>ascii":return U(this,t,r);case"latin1":case"binary":ret<span class="cstat-no" title="statement not covered" >urn _(this,t,r</span>);case"bas<span class="cstat-no" title="statement not covered" >e64":return R(th</span>is,t,r);case"<span class="cstat-no" title="statement not covered" >ucs2":case"ucs-2":ca</span>se"utf1<span class="cstat-no" title="statement not covered" >6le":ca<span class="cstat-no" title="statement not covered" >se"utf-16le":return<span class="cstat-no" title="statement not covered" > </span></span>I(this,t,r);default:if(n)throw new </span>T</span></span>ypeError(<span class="fstat-no" title="function not covered" >"U</span>nknown encoding: "<span class="cstat-no" title="statement not covered" >+e)<span class="cstat-no" title="statement not covered" ></span>;e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){var n=e[t<span class="cstat-no" title="statement not covered" >];e[t]=e[r<span class="cstat-no" title="statement not covered" >]</span></span>,e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"=<span class="cstat-no" title="statement not covered" >=typeof r?<span class="cstat-no" title="statement not covered" >(</span></span>n=r,r=0):r&gt;2147483647?r=2147483<span class="cstat-no" title="statement not covered" >647:r&lt;-214<span class="cstat-no" title="statement not covered" >7</span></span>483648&amp;&amp;(r=-2147483648),r<span class="cstat-no" title="statement not covered" >=+r,isNaN(r)&amp;&amp;(r=i?0:e.<span class="cstat-no" title="statement not covered" >length-1),r&lt;0&amp;&amp;(r=e.le</span>ngth+r),r&gt;=e.length){if(<span class="cstat-no" title="statement not covered" >i)return-1;r=e.length-</span>1}else if(r&lt;<span class="cstat-no" title="statement not covered" >0){if(!i)return-1;r=0}</span>if("string"==typeof t&amp;&amp;(t=s<span class="cstat-no" title="statement not covered" >.from(t,n)),s.isBuffer</span>(t))return 0=<span class="cstat-no" title="statement not covered" >==t.length?-1:k(e,t,r,</span>n,i);if("number"==typeof t)return t&amp;=255,s.TYPED_ARRAY_<span class="cstat-no" title="statement not covered" >SUPPORT&amp;&amp;"function"==t</span>ypeof U<span class="cstat-no" title="statement not covered" >int8Arr<span class="cstat-no" title="statement not covered" >ay.prototype.indexOf?i?Uint8Array.prototype.in<span class="cstat-no" title="statement not covered" >d</span></span>exOf.call(e,t,r):Uint8Array.prototy</span>p</span></span>e.lastInd<span class="fstat-no" title="function not covered" >ex</span>Of.call(e,t,r):k(e<span class="cstat-no" title="statement not covered" >,[t],<span class="cstat-no" title="statement not covered" ></span>r,n,i);throw new TypeEr</span>ror("val <span class="fstat-no" title="function not covered" >mu</span>st be string, nu<span class="cstat-no" title="statement not covered" >mber or Buffer")}fun<span class="cstat-no" title="statement not covered" >ction k(e,<span class="cstat-no" title="statement not covered" >t</span></span>,r,n,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==n&amp;&amp;(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length&lt;2||t.<span class="cstat-no" title="statement not covered" >length&lt;<span class="cstat-no" title="statement not covered" >2)return-1<span class="cstat-no" title="statement not covered" >;</span></span>s=2,a/=2,u/=2,r/=</span>2}var <span class="cstat-no" title="statement not covered" >c;if(i){var <span class="cstat-no" title="statement not covered" >l=-1;for<span class="cstat-no" title="statement not covered" >(c=r;c&lt;a;c<span class="cstat-no" title="statement not covered" >+</span></span>+)if(o<span class="cstat-no" title="statement not covered" ></span>(</span></span>e,c)===o(t,l===-1?0:c-l)){if(l===-1&amp;&amp;(l=c),c-l+1===u)return l*<span class="cstat-no" title="statement not covered" >s}else l!==-1&amp;&amp;(c-=c-l),l=-1}else for(r+u&gt;a&amp;&amp;(<span class="cstat-no" title="statement not covered" >r</span></span>=a-u),c=r;c&gt;=0;c--){for(v<span class="cstat-no" title="statement not covered" >ar f=!0,p=0;p&lt;u;p++)if(o(e,c+p)!==o(t,p)){f=!1;break}if(f)return c}return-1}function E(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n&gt;i&amp;&amp;(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Inval<span class="cstat-no" title="statement not covered" >i</span></span>d hex string");n&gt;o/2&amp;&amp;(n=o/2);for(var s=0;s&lt;n;++s){var a=par</span>seInt(t.s<span class="fstat-no" title="function not covered" >ub</span>str(2*s,2),16);if(isNaN(a<span class="fstat-no" title="function not covered" >))</span>return <span class="cstat-no" title="statement not covered" >s;e[r+s]=a}return s}function S(e,t,r,n){return </span>K(W(t,e.<span class="cstat-no" title="statement not covered" >le</span>ngth<span class="cstat-no" title="statement not covered" >-r),e,r,n</span>)}fu<span class="cstat-no" title="statement not covered" >nction A(<span class="cstat-no" title="statement not covered" ></span>e,t,r,n){return K(G(t),e,r,n)}function x(e,t,r,n){return A(e,t,r,n)}function O(e,t,r,n){return K(V(t),e,r,n)}function P(e,<span class="cstat-no" title="statement not covered" >t,r,n){return K(Y(t,e.length-r),e,<span class="cstat-no" title="statement not covered" >r,n)}funct<span class="cstat-no" title="statement not covered" >i</span></span>on R(e,t,r){return 0===t&amp;&amp;r===</span>e</span>.leng<span class="cstat-no" title="statement not covered" >th?X.fromByteArr<span class="cstat-no" title="statement not covered" >ay(<span class="cstat-no" title="statement not covered" ></span>e):X.fromByteArray(e.sli<span class="cstat-no" title="statement not covered" >ce(t,r))}function T(e,t,r){r=Math.min(e.lengt<span class="cstat-no" title="statement not covered" >h,r);for(var n=[],i=t;i&lt;r;){var o=e[i],s=n<span class="cstat-no" title="statement not covered" >ull,a=o&gt;239?4:</span></span>o&gt;223?<span class="cstat-no" title="statement not covered" >3:o&gt;191?2:1;if(i+a&lt;=r){var u,c,l,f</span></span></span>;switc<span class="cstat-no" title="statement not covered" >h(a){case 1:o&lt;128&amp;&amp;(s=o);break;case 2:u=e[i+1],128==<span class="cstat-no" title="statement not covered" >=(192&amp;u)&amp;&amp;(f=(31&amp;o)&lt;&lt;6|63&amp;u,f&gt;127&amp;&amp;(<span class="cstat-no" title="statement not covered" >s=f));break;case 3:u=e[i+1],c=<span class="cstat-no" title="statement not covered" >e[i+2],<span class="cstat-no" title="statement not covered" >1</span>28===(<span class="cstat-no" title="statement not covered" ></span>1</span></span>92&amp;u)&amp;<span class="cstat-no" title="statement not covered" >&amp;128===(19<span class="cstat-no" title="statement not covered" ></span></span>2</span></span>&amp;c)&amp;&amp;(f=(1</span>5&amp;o)&lt;&lt;12|<span class="fstat-no" title="function not covered" >(6</span>3&amp;u)&lt;&lt;6|63&amp;c,<span class="cstat-no" title="statement not covered" >f&gt;2047&amp;&amp;(f&lt;55296||f&gt;</span>57343)&amp;<span class="cstat-no" title="statement not covered" >&amp;(s=f));break<span class="cstat-no" title="statement not covered" ></span>;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&amp;u</span>)&amp;&amp;128=<span class="cstat-no" title="statement not covered" >==(192&amp;c)<span class="cstat-no" title="statement not covered" ></span>&amp;&amp;128===(192&amp;l)&amp;&amp;<span class="cstat-no" title="statement not covered" >(f=(15&amp;o)&lt;&lt;18|(63&amp;u)&lt;&lt;12|(63&amp;c)&lt;&lt;6|63&amp;l,f&gt;<span class="cstat-no" title="statement not covered" >6</span></span>5535&amp;&amp;f&lt;1114112&amp;&amp;(s=f))}<span class="cstat-no" title="statement not covered" >}</span>null===s?(s=65533,a=1):s&gt;65535&amp;&amp;(s-=<span class="cstat-no" title="statement not covered" >65536,n.push(s&gt;&gt;&gt;10&amp;1023|55296),s<span class="cstat-no" title="statement not covered" ></span>=56320|1023&amp;s)<span class="cstat-no" title="statement not covered" >,n.push(s<span class="cstat-no" title="statement not covered" >)</span></span>,i+=a}return <span class="cstat-no" title="statement not covered" ></span>j</span>(n)}funct</span>ion j(e){<span class="fstat-no" title="function not covered" >va</span>r t=e.length;<span class="cstat-no" title="statement not covered" >if(t&lt;=ee)return String.fromCharCode.app</span>ly(String<span class="fstat-no" title="function not covered" >,e</span>);for(var r="<span class="cstat-no" title="statement not covered" >",n=0;n&lt;t;)r+=String.from</span>CharCode.<span class="fstat-no" title="function not covered" >ap</span>ply(String,e.<span class="cstat-no" title="statement not covered" >slice(n,n+=ee));return</span> r}functi<span class="fstat-no" title="function not covered" >on</span> U(e,t,r){var<span class="cstat-no" title="statement not covered" > n="";r=Math.min(e.length</span>,r);for(v<span class="fstat-no" title="function not covered" >ar</span> i=t;i&lt;r;++i)<span class="cstat-no" title="statement not covered" >n+=String.fromCharCode(127&amp;e[i]);return</span> n}functi<span class="fstat-no" title="function not covered" >on</span> _(e,t,r){<span class="cstat-no" title="statement not covered" >var n="";r=Math.min(e.length,r);for(var i=t;i&lt;r;++i)n+=String.fromCharCode(e[i]);return </span>n}functio<span class="fstat-no" title="function not covered" >n </span>C(e,t,r){v<span class="cstat-no" title="statement not covered" >ar n=e.length;(!t||t&lt;0)&amp;&amp;(<span class="cstat-no" title="statement not covered" >t</span>=0),(!r||r&lt;0||r&gt;n)&amp;&amp;(r=n);for(var i="",o<span class="cstat-no" title="statement not covered" >=t;o&lt;</span>r;++<span class="cstat-no" title="statement not covered" >o)i+=</span>H(e[<span class="cstat-no" title="statement not covered" >o]);return i}function I(e,t,r){for(var n=e.s<span class="cstat-no" title="statement not covered" ></span>lice(t,r),i="",o=0;o&lt;n.length;o+<span class="cstat-no" title="statement not covered" >=2)i+=String.fromCh<span class="cstat-no" title="statement not covered" >arCode(n[o]+256*n[o<span class="cstat-no" title="statement not covered" >+</span>1]);re</span>turn i<span class="cstat-no" title="statement not covered" >}function N(e,t,r){if(e%1!==0||e&lt;0)throw new RangeError("offset is not uint");if(e+t<span class="cstat-no" title="statement not covered" >&gt;</span>r)thro</span>w new <span class="cstat-no" title="statement not covered" >RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t<span class="cstat-no" title="statement not covered" >&gt;</span>i||t&lt;o</span>)throw<span class="cstat-no" title="statement not covered" > new RangeError('"value" argument is out of bounds');if(r+n&gt;e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t&lt;0&amp;&amp;(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i&lt;o;++i)e[r+i]=(t&amp;</span>2<span class="cstat-no" title="statement not covered" ></span>5</span>5&lt;&lt;8*(n?i:1-i))&gt;&gt;&gt;8*(n?i:1-i)}function z(e,t,r,n){t&lt;0&amp;&amp;(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i&lt;o;++i)e[r+i]=t&gt;&gt;&gt;8*(n<span class="cstat-no" title="statement not covered" ></span>?</span>i:3-i)&amp;255}f</span>unction D<span class="fstat-no" title="function not covered" >(e</span>,t,r,n,i,o){<span class="cstat-no" title="statement not covered" >if(r+n&gt;e.<span class="cstat-no" title="statement not covered" ></span>length)throw <span class="cstat-no" title="statement not covered" >new RangeError("Index out of range");if(r&lt;0)<span class="cstat-no" title="statement not covered" >t</span></span>hrow new RangeError("Index out <span class="cstat-no" title="statement not covered" >of range")}function B(e,t,r,n,i){return i||D(e,t,r,4,3.40282<span class="cstat-no" title="statement not covered" >3</span></span>466385288</span>6e38,-3.4<span class="fstat-no" title="function not covered" >02</span>8234663852886e38),<span class="cstat-no" title="statement not covered" >Q.w<span class="cstat-no" title="statement not covered" ></span>rite(e,t,r,n,23,4),r+4}fun<span class="cstat-no" title="statement not covered" >c</span>tion q(e,t,r,n,i){return i|<span class="cstat-no" title="statement not covered" >|D(e,t,r,8,1.7976931348623157e308,-1.<span class="cstat-no" title="statement not covered" >7</span></span>976931348</span>623157e30<span class="fstat-no" title="function not covered" >8)</span>,Q.write(e,t,r,n,5<span class="cstat-no" title="statement not covered" >2,8<span class="cstat-no" title="statement not covered" ></span>),r+8}function F(e){if(e=J<span class="cstat-no" title="statement not covered" >(</span>e).replace(te,""),e.length&lt;<span class="cstat-no" title="statement not covered" >2)return"";for(;e.length%4!==0;<span class="cstat-no" title="statement not covered" >)</span></span>e+="=";re</span>turn e}fu<span class="fstat-no" title="function not covered" >nc</span>tion J(e){return e<span class="cstat-no" title="statement not covered" >.trim?e.t<span class="cstat-no" title="statement not covered" ></span>rim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e&lt;16?"<span class="cstat-no" title="statement not covered" >0</span>"+e.toString(16):e.toString(16)}fun<span class="cstat-no" title="statement not covered" >ction W(e,t){<span class="cstat-no" title="statement not covered" >t</span></span>=t||1/0;f</span>or(var r,<span class="fstat-no" title="function not covered" >n=</span>e.length,i<span class="cstat-no" title="statement not covered" >=null,o=[],s=0;s&lt;n;++s){if(r=e.charCodeAt(s),r&gt;55295&amp;&amp;r&lt;57344){if<span class="cstat-no" title="statement not covered" >(!i){if(r&gt;56319){(t-=3)&gt;-1&amp;&amp;o.push(239,191,189);<span class="cstat-no" title="statement not covered" >c</span></span>ontinue}i</span>f(s+1===n<span class="fstat-no" title="function not covered" >){</span>(t-=3)&gt;-1&amp;<span class="cstat-no" title="statement not covered" >&amp;o.push(239,191,189);conti<span class="cstat-no" title="statement not covered" >nue}i=r;continue}if(r&lt;56320){(t-=3)&gt;-1&amp;&amp;o.p<span class="cstat-no" title="statement not covered" >u</span></span>sh(239,191,189<span class="cstat-no" title="statement not covered" >),i=r;continue}r=(i-55296&lt;&lt;10|r-56320)+65536}else i&amp;&amp;(t-=3)&gt;-1&amp;</span></span>&amp;o.push(2<span class="fstat-no" title="function not covered" >39</span>,191,189);if(i=null<span class="cstat-no" title="statement not covered" >,r&lt;128){if((t-=1)&lt;0)<span class="cstat-no" title="statement not covered" >break;o.push(r)}else if(r&lt;2048){if((t-=2)&lt;0)break;o.push(r&gt;&gt;6|192,6<span class="cstat-no" title="statement not covered" >3</span></span>&amp;r|128)}else if(r&lt;6<span class="cstat-no" title="statement not covered" >5536){if((t-=3)&lt;0)break;o.push(r&gt;&gt;12|224,r&gt;&gt;6&amp;63|128,63&amp;r|<span class="cstat-no" title="statement not covered" >1</span></span>28)}else{if(!(r&lt;11141<span class="cstat-no" title="statement not covered" >12))throw new Error("Invalid code point");if</span></span>((t-=4)&lt;0<span class="fstat-no" title="function not covered" >)b</span>reak;o.push(r<span class="cstat-no" title="statement not covered" >&gt;&gt;18|240,r&gt;&gt;12&amp;63|128,r&gt;&gt;6&amp;63<span class="cstat-no" title="statement not covered" >|</span>128,63&amp;r|128)}}return o}function G(e){for(var t=[],r=0;r&lt;e<span class="cstat-no" title="statement not covered" >.length;++r)t.push(255&amp;e.charCodeAt(r));return t}function Y(e,t){for(</span></span>var r,n,i<span class="fstat-no" title="function not covered" >,o</span>=[],s=0;s&lt;e.l<span class="cstat-no" title="statement not covered" >ength&amp;&amp;!((t-=2)&lt;0);++s)r=e.charCod<span class="cstat-no" title="statement not covered" >e</span>At(s),n=r&gt;&gt;8,i=r%256,o.push(i),o.push(n);return o}function<span class="cstat-no" title="statement not covered" > V(e){return X.toByteArray(F(e))}function K(</span></span>e,t,r,n){<span class="fstat-no" title="function not covered" >fo</span>r(var i=0;i&lt;n&amp;&amp;!(i+<span class="cstat-no" title="statement not covered" >r&gt;=t.length||i&gt;=e.leng<span class="cstat-no" title="statement not covered" >th);++i)t[i+r]=e[i];return i}function $(e){<span class="cstat-no" title="statement not covered" >r</span></span>eturn e!==<span class="cstat-no" title="statement not covered" >e}var X=r(26),Q=r(27),Z=r(28);t.Buffer=s,t.S</span></span>lowBuffer<span class="fstat-no" title="function not covered" >=g</span>,t.INSPECT_MAX_B<span class="cstat-no" title="statement not covered" >YTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),t.kMaxLength=i(),s.poo</span>lSize=819<span class="fstat-no" title="function not covered" >2,</span>s._augment=funct<span class="cstat-no" title="statement not covered" >ion(e){return e.__proto__=s.prototype,e},s.from=function(e,t,r){return a(null,e,t,r)},s.TYPED_ARRAY_SUPPORT&amp;&amp;(s</span>.prototyp<span class="fstat-no" title="function not covered" >e.</span>__pr<span class="cstat-no" title="statement not covered" >oto__=Uint8Array.prototype,s.__proto__=Uint8<span class="cstat-no" title="statement not covered" >Array,"und<span class="cstat-no" title="statement not covered" >e</span></span>fined"!=typeof Symbol&amp;&amp;Symb<span class="cstat-no" title="statement not covered" >ol.specie<span class="cstat-no" title="statement not covered" >s</span></span>&amp;&amp;s[Symbo</span>l.species<span class="fstat-no" title="function not covered" >]=</span>==s&amp;<span class="cstat-no" title="statement not covered" >&amp;Object.defineProperty(s,Symbol.species,{value:null,conf</span>igurable:<span class="fstat-no" title="function not covered" >!0</span>})),<span class="cstat-no" title="statement not covered" >s.alloc=function(e,t,r){return c(null,e,t,r)},s.allocUn</span>safe=func<span class="fstat-no" title="function not covered" >ti</span>on(e){r<span class="cstat-no" title="statement not covered" >eturn l(null,e)<span class="cstat-no" title="statement not covered" >}</span>,s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=fun<span class="cstat-no" title="statement not covered" >ction(e){return!(null==e||!e._isBuffer)},s.compare<span class="cstat-no" title="statement not covered" >=function<span class="cstat-no" title="statement not covered" >(e,t){if(!s.isBu<span class="cstat-no" title="statement not covered" >ffer(e)||!s.isBuffer(t))throw new TypeE<span class="cstat-no" title="statement not covered" >r</span>ror("Argu<span class="cstat-no" title="statement not covered" ></span>m</span>ents must be Buff<span class="cstat-no" title="statement not covered" >ers");if(e===t)return 0;for(var r=e.len<span class="cstat-no" title="statement not covered" >g</span>th,n=t.le<span class="cstat-no" title="statement not covered" ></span>n</span>gth,i<span class="cstat-no" title="statement not covered" >=</span>0,o=Math.<span class="cstat-no" title="statement not covered" ></span>m</span>in(r,n);i&lt;o;++i<span class="cstat-no" title="statement not covered" >)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r&lt;<span class="cstat-no" title="statement not covered" >n</span>?-1:n&lt;r?1<span class="cstat-no" title="statement not covered" ></span>:</span>0},s.isEncoding=function(e){switch(String(</span>e).toL<span class="cstat-no" title="statement not covered" >owerCase()){case"hex":case"utf8":case"utf-8"<span class="cstat-no" title="statement not covered" >:</span></span>case"ascii":case"latin1<span class="cstat-no" title="statement not covered" >":case"binary":cas<span class="cstat-no" title="statement not covered" >e"base<span class="cstat-no" title="statement not covered" >6</span></span>4":case"uc</span>s2":ca<span class="cstat-no" title="statement not covered" >se"ucs-2":case"<span class="cstat-no" title="statement not covered" >utf16le":case"utf-<span class="cstat-no" title="statement not covered" >16le":<span class="cstat-no" title="statement not covered" >r</span></span>eturn!0;default:return!1}},s.concat</span>=funct<span class="cstat-no" title="statement not covered" >ion(e,t){if(!Z(e<span class="cstat-no" title="statement not covered" >))throw new TypeEr<span class="cstat-no" title="statement not covered" >ror('"<span class="cstat-no" title="statement not covered" >l</span></span>ist" argument must be an Array of Buffers');if(0===e.le</span>ngth)re<span class="cstat-no" title="statement not covered" >turn s.alloc(0);var <span class="cstat-no" title="statement not covered" >r;if(void 0===t)for(t=0,r=0;r&lt;e.length<span class="cstat-no" title="statement not covered" >;</span></span>++r)t+=e[r].lengt<span class="cstat-no" title="statement not covered" >h;var <span class="cstat-no" title="statement not covered" >n</span></span>=s.allocUnsafe(t),i=0;for(r=0;r&lt;e.length;++r){var o=e[r];if(!s.isBuffer(o))</span>t<span class="cstat-no" title="statement not covered" ></span></span></span>h</span>row new T</span>ypeError(<span class="fstat-no" title="function not covered" >'"</span>list<span class="cstat-no" title="statement not covered" >" argument must be an Array of Buffers');o.<span class="cstat-no" title="statement not covered" >copy(n,i),i+=o.length}return n<span class="cstat-no" title="statement not covered" >}</span></span>,s.byteLe</span>ngth=v,s.<span class="fstat-no" title="function not covered" >pr</span>ototype<span class="cstat-no" title="statement not covered" >._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==<span class="cstat-no" title="statement not covered" >0)throw new RangeError("Buffer size must be a multiple of 16-bits")<span class="cstat-no" title="statement not covered" >;</span></span>for(var t</span>=0;t&lt;e;t+<span class="fstat-no" title="function not covered" >=2</span>)w(t<span class="cstat-no" title="statement not covered" >his,t,t+1);return this},s.pr</span>ototype.s<span class="fstat-no" title="function not covered" >wa</span>p32=function(<span class="cstat-no" title="statement not covered" >){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must<span class="cstat-no" title="statement not covered" > be a multiple o<span class="cstat-no" title="statement not covered" >f</span></span> 32-bits"</span>);for(var<span class="fstat-no" title="function not covered" > t</span>=0;t<span class="cstat-no" title="statement not covered" >&lt;e;t+=4)w(this,t</span>,t+3),w(<span class="cstat-no" title="statement not covered" >this,t</span>+1,t<span class="cstat-no" title="statement not covered" >+2);re</span>turn<span class="cstat-no" title="statement not covered" > this}<span class="cstat-no" title="statement not covered" ></span>,s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t&lt;e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(thi<span class="fstat-no" title="function not covered" >s,</span>t+3,t+4);ret<span class="cstat-no" title="statement not covered" >urn this},s.prototype.toString=functi</span>on(){var e=<span class="fstat-no" title="function not covered" >0|</span>this.length;return<span class="cstat-no" title="statement not covered" > 0===e?"":0===arguments.l</span>ength?T(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length&gt;0&amp;&amp;<span class="fstat-no" title="function not covered" >(e</span>=this.toString("he<span class="cstat-no" title="statement not covered" >x",0,r).match(/.{2}/g).jo</span>in(" "),this.lengt<span class="fstat-no" title="function not covered" >h&gt;</span>r&amp;&amp;(e+=" ...<span class="cstat-no" title="statement not covered" > ")),"&lt;Buffer "+e+"</span>&gt;"},s.prototype.compar<span class="fstat-no" title="function not covered" >e=</span>function(e,t<span class="cstat-no" title="statement not covered" >,r,n,i){if(!s.isBuf</span>fer(e))throw ne<span class="fstat-no" title="function not covered" >w </span>TypeError("A<span class="cstat-no" title="statement not covered" >rgument must be a Buffer");if(void 0=</span>==t&amp;&amp;(t=0),voi<span class="fstat-no" title="function not covered" >d </span>0===r&amp;&amp;(r=e?e.l<span class="cstat-no" title="statement not covered" >ength:0),void 0===n&amp;&amp;(n=0),void 0===i&amp;<span class="cstat-no" title="statement not covered" >&amp;(i=this.length),t&lt;0||r&gt;e.length||n&lt;0||i&gt;this.len<span class="cstat-no" title="statement not covered" >g</span></span>th)throw new<span class="cstat-no" title="statement not covered" > RangeErr<span class="cstat-no" title="statement not covered" >o</span></span>r("out of range index");if(n&gt;=i&amp;&amp;t&gt;=r)return 0;if(n&gt;=i)return-1;if(t&gt;=r)ret<span class="cstat-no" title="statement not covered" >urn 1;if(t&gt;&gt;&gt;=0,r&gt;&gt;&gt;<span class="cstat-no" title="statement not covered" >=0,n&gt;&gt;&gt;=0,i&gt;&gt;&gt;=0,th<span class="cstat-no" title="statement not covered" >i</span>s===e)<span class="cstat-no" title="statement not covered" ></span>r</span></span>eturn 0;for(var o=i-n,a=r-t,u=Math</span>.min(o,a),c=this.<span class="fstat-no" title="function not covered" >sl</span>ice(n,i),l=e<span class="cstat-no" title="statement not covered" >.slice(t,r),f=0;f&lt;u;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o&lt;a?-1:a&lt;o?1:0},s.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},s.prototype.indexOf=function<span class="cstat-no" title="statement not covered" >(e,t,r){ret</span>urn b(t<span class="cstat-no" title="statement not covered" >his,e,t,r,!</span>0</span>)},s.prototyp<span class="fstat-no" title="function not covered" >e.</span>lastIndexOf=fun<span class="cstat-no" title="statement not covered" >ction(e,t,r<span class="cstat-no" title="statement not covered" >){return b(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(v<span class="cstat-no" title="statement not covered" >o</span></span>id 0===t)n="utf8",r<span class="cstat-no" title="statement not covered" >=this.length,t=0;el</span></span>se if<span class="cstat-no" title="statement not covered" >(void 0===r&amp;&amp;"stri<span class="cstat-no" title="statement not covered" >ng"==typeof t)n=t,r=this.length,t=0;el<span class="cstat-no" title="statement not covered" >se{if(!isFinite(t)</span></span></span>)throw <span class="cstat-no" title="statement not covered" >new Error("Buffer</span>.wri<span class="cstat-no" title="statement not covered" >te<span class="cstat-no" title="statement not covered" ></span>(string, encoding, offset[, length]) is <span class="cstat-no" title="statement not covered" >no lo<span class="cstat-no" title="statement not covered" ></span>nger supported");t|=<span class="cstat-no" title="statement not covered" >0,isFinite(r)?(r|=0,void 0===n&amp;&amp;(n="utf8")):(n=r,r=void 0)}var i=th<span class="cstat-no" title="statement not covered" >i</span></span>s.length-t;if((void 0===r||r<span class="cstat-no" title="statement not covered" ></span>&gt;</span>i)&amp;&amp;(r=i)</span>,e.length&gt;0&amp;&amp;(r&lt;0||t&lt;0)||t&gt;this.length)throw new RangeError("Attempt <span class="fstat-no" title="function not covered" >to</span> write outside buff<span class="cstat-no" title="statement not covered" >er bounds");<span class="cstat-no" title="statement not covered" ></span>n||(n="utf8");for<span class="cstat-no" title="statement not covered" >(var o=!1;;)switch(n){case"hex":return E(this,e,t,r);case"utf8":ca<span class="cstat-no" title="statement not covered" >s</span></span>e"utf-8":return S(this,e,t,r);<span class="cstat-no" title="statement not covered" >case"ascii":return<span class="cstat-no" title="statement not covered" > </span></span>A(this,e,t,r</span>);case"latin1":case"bin<span class="fstat-no" title="function not covered" >ar</span>y":return x(this,e,<span class="cstat-no" title="statement not covered" >t,r);case"ba<span class="cstat-no" title="statement not covered" ></span>se64":return O(th<span class="cstat-no" title="statement not covered" >is,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":retu<span class="cstat-no" title="statement not covered" >r</span></span>n P(this,e,t,r);default:if(o)t<span class="cstat-no" title="statement not covered" >hrow new TypeError("Unknown encoding: "+n<span class="cstat-no" title="statement not covered" >)</span></span>;n=(""+n).to</span>LowerCase(),o=!0}},s.pr<span class="fstat-no" title="function not covered" >ot</span>otype.toJSON=functi<span class="cstat-no" title="statement not covered" >on(){return{<span class="cstat-no" title="statement not covered" ></span>type:"Buffer",dat<span class="cstat-no" title="statement not covered" >a:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;s.pr<span class="cstat-no" title="statement not covered" >o</span></span>totype.slice=function(e,t){var<span class="cstat-no" title="statement not covered" > r=this.length;e=~~e,t=void 0===t?r:~~t,e&lt;0?(e+=r,e&lt;0&amp;&amp;(e=0)):e&gt;r&amp;&amp;(e=r),t&lt;0?(t+=r,t&lt;0&amp;<span class="cstat-no" title="statement not covered" >&amp;</span></span>(t=0)):t&gt;r&amp;&amp;</span>(t=r),t&lt;e&amp;&amp;(t=e);var n;if<span class="fstat-no" title="function not covered" >(s</span>.TYPED_ARRAY_SUPPOR<span class="cstat-no" title="statement not covered" >T)n=this.subarra<span class="cstat-no" title="statement not covered" ></span>y(e,t),n.__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var o=0;o&lt;i;++o)n[o]=</span>this[o+e]}return n},s.p<span class="fstat-no" title="function not covered" >ro</span>totype.readU<span class="cstat-no" title="statement not covered" >IntLE=function(e,t,r<span class="cstat-no" title="statement not covered" >){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[<span class="cstat-no" title="statement not covered" >e</span></span>],i=1,o=0;++o&lt;t&amp;&amp;(i*=256);)n+=this[e+o]*i;retu</span>rn n},s.prototype.readUI<span class="fstat-no" title="function not covered" >nt</span>BE=function(e,t,r){<span class="cstat-no" title="statement not covered" >e|=</span>0,t|<span class="cstat-no" title="statement not covered" >=0,r||N(e,t,this.len<span class="cstat-no" title="statement not covered" ></span>gth);for(var n=this[e+--t],i=1;t&gt;0&amp;&amp;(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this</span>[e]},s.prototype.readUIn<span class="fstat-no" title="function not covered" >t1</span>6LE=function(e,t){return<span class="cstat-no" title="statement not covered" > t||N(e,2,this.lengt<span class="cstat-no" title="statement not covered" >h),this[e]|this[e+1]&lt;&lt;8},s.prototype.readUInt16BE<span class="cstat-no" title="statement not covered" >=</span></span>function(e,t){return t||N(e,2,this.length),this[e]&lt;&lt;8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]&lt;&lt;8|this[e+2]&lt;&lt;16)+16777216*<span class="cstat-no" title="statement not covered" >this[e+3]},s.prototype.readUInt32BE=functio<span class="cstat-no" title="statement not covered" >n</span></span>(e,t){return t||N(e,4<span class="cstat-no" title="statement not covered" >,this.len<span class="cstat-no" title="statement not covered" >g</span></span>th),1677721<span class="cstat-no" title="statement not covered" >6*this[e]+<span class="cstat-no" title="statement not covered" >(</span></span>this[e+1]&lt;&lt;<span class="cstat-no" title="statement not covered" >16|this[e<span class="cstat-no" title="statement not covered" >+</span></span>2]&lt;&lt;8|this[e+3])},s.prototype.readIntLE=function(e,t,r)<span class="cstat-no" title="statement not covered" >{e|=0,t|=<span class="cstat-no" title="statement not covered" >0</span></span>,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o&lt;t&amp;&amp;(i*=256);)n+=this[e+o]*i;return i*=128,n&gt;=i&amp;&amp;(n-=Math.<span class="cstat-no" title="statement not covered" >pow(2,8*t)),n},s.pro<span class="cstat-no" title="statement not covered" >totype.readIntBE=fu<span class="cstat-no" title="statement not covered" >n</span>ction(<span class="cstat-no" title="statement not covered" ></span>e</span></span>,t,r){e|=0,t|=0,r||N(e,t,this.leng</span>th);for(var n=t,i=1,o=thi<span class="fstat-no" title="function not covered" >s[</span>e+--n];n&gt;0&amp;&amp;(i*=25<span class="cstat-no" title="statement not covered" >6);)o+=this[e+--n]*i;return i*=128,o&gt;</span>=i&amp;&amp;(o-=Math.pow(2,8*t))<span class="fstat-no" title="function not covered" >,o</span>},s.prototype.read<span class="cstat-no" title="statement not covered" >Int8=function(e,t){return t||</span>N(e,1,this.length),128&amp;this[<span class="fstat-no" title="function not covered" >e]</span>?(255-this[e]+1)*-<span class="cstat-no" title="statement not covered" >1:this[e]},s.prototype.readIn</span>t16LE=function(e,t){t|<span class="fstat-no" title="function not covered" >|N</span>(e,2,this.length);var<span class="cstat-no" title="statement not covered" > r=this[e]|this[e+<span class="cstat-no" title="statement not covered" >1]&lt;&lt;8;return 32768&amp;r?4294901760|r:r}</span>,s.p<span class="cstat-no" title="statement not covered" >rototype.readInt16BE=function(e,t){t||N(e,<span class="cstat-no" title="statement not covered" >2,this.length);var r=this[e+1]|</span>this[<span class="cstat-no" title="statement not covered" >e]&lt;&lt;8;return 32768<span class="cstat-no" title="statement not covered" >&amp;r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[<span class="cstat-no" title="statement not covered" >e</span></span>]|this[e+1]&lt;&lt;8|this[e+2]&lt;&lt;16|this[e+3]&lt;&lt;24},s.prototype.readInt32BE=function(e,t){r</span>e</span></span>turn t|<span class="cstat-no" title="statement not covered" >|N(e,4,this.leng<span class="cstat-no" title="statement not covered" ></span>th),this[e]&lt;&lt;24|this[e+1]&lt;&lt;16|this[e+2]&lt;&lt;8|this[e+3]},s.prototype.readFloatLE=function(e,t){r<span class="cstat-no" title="statement not covered" >eturn t||N(e,4,this.length),Q.read(this,e,!0,23,4)},s.prototype<span class="cstat-no" title="statement not covered" >.</span></span>readFloatBE=funct<span class="cstat-no" title="statement not covered" >i</span>on(e,t){return t||<span class="cstat-no" title="statement not covered" >N(e,4,this.length),Q.re<span class="cstat-no" title="statement not covered" >ad(this,e,!1,23,4)},s.pro</span>totype.readDoubleLE=func<span class="cstat-no" title="statement not covered" >tion(e,t){return t||N(e,8</span>,this.length<span class="cstat-no" title="statement not covered" >),Q.read(this,e,!0,52,8)}</span>,s.prototype.readDoubleBE=f<span class="cstat-no" title="statement not covered" >unction(e,t){return t||N(</span>e,8,this.leng<span class="cstat-no" title="statement not covered" >th),Q.read(this,e,!1,52,8</span>)},s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|<span class="cstat-no" title="statement not covered" >=0,r|=0,!n){var i=Math.po</span>w(2,8*r<span class="cstat-no" title="statement not covered" >)-1;M(t<span class="cstat-no" title="statement not covered" >his,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&amp;e;+<span class="cstat-no" title="statement not covered" >+</span></span>s&lt;r&amp;&amp;(o*=256);)this[t+s]=e/o&amp;255;re</span>t</span></span>urn t+r},s.prototype.wr<span class="fstat-no" title="function not covered" >it</span>eUIntBE=fun<span class="cstat-no" title="statement not covered" >ction(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;M(this,e,t,r,i,0)}var </span>o=</span>r-1,s=1;<span class="cstat-no" title="statement not covered" >for(t<span class="cstat-no" title="statement not covered" ></span>his[t+o]=255&amp;e;--o&gt;=<span class="fstat-no" title="function not covered" >0&amp;</span>&amp;(s*=256);)this[t+o]=e/<span class="cstat-no" title="statement not covered" >s&amp;255;return<span class="cstat-no" title="statement not covered" ></span> t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&amp;e,t+1},s.prototype.writeUIn</span>t16LE<span class="cstat-no" title="statement not covered" >=function(e,t,r){return e=+<span class="cstat-no" title="statement not covered" >e,t|=0,r||M(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPOR</span>T?(this[t]=25<span class="cstat-no" title="statement not covered" >5&amp;e,th<span class="cstat-no" title="statement not covered" ></span>is[t+1]=e&gt;&gt;&gt;8):L(this<span class="cstat-no" title="statement not covered" >,</span>e,t,!0),t+2},s.prototype.wr<span class="cstat-no" title="statement not covered" >iteUInt16BE=function<span class="cstat-no" title="statement not covered" ></span></span>(</span>e,t,r){re</span>turn e=+e,t|=0,r||M(this,e,<span class="fstat-no" title="function not covered" >t,</span>2,65535,0),s.TYPED<span class="cstat-no" title="statement not covered" >_ARRAY_SUPPORT?(this[t]=e&gt;&gt;&gt;8,this[t+1]=25<span class="cstat-no" title="statement not covered" >5</span>&amp;e):L(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(<span class="cstat-no" title="statement not covered" >e,t,r){return e=+e,t|<span class="cstat-no" title="statement not covered" >=</span></span>0,r||M(th</span>is,e,t,4,4294967295,0),s.TY<span class="fstat-no" title="function not covered" >PE</span>D_ARRAY_SUPPORT?(t<span class="cstat-no" title="statement not covered" >his[t+3]=e&gt;&gt;&gt;24,this[t+2]=e&gt;&gt;&gt;16,this[t+1]<span class="cstat-no" title="statement not covered" >=</span>e&gt;&gt;&gt;8,this[t]=255&amp;e):z(this,e,t,!0),t+4},s.prototype.wri<span class="cstat-no" title="statement not covered" >teUInt32BE=function(e,t<span class="cstat-no" title="statement not covered" >,</span></span>r){return</span> e=+e,t|=0,r||M(this,e,t,4<span class="fstat-no" title="function not covered" >,4</span>294967295,0),s.<span class="cstat-no" title="statement not covered" >TYPED_ARRAY_SUPPORT?(this[t]=e&gt;&gt;&gt;24,this[t+</span>1]=e&gt;&gt;&gt;16,this[t+2]=e&gt;&gt;&gt;8,thi<span class="fstat-no" title="function not covered" >s[</span>t+3]=255&amp;e):z(t<span class="cstat-no" title="statement not covered" >his,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e</span>=+e,t|=0,!n){var i=Math.pow(2<span class="fstat-no" title="function not covered" >,8</span>*r-1);M(this,e,<span class="cstat-no" title="statement not covered" >t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&amp;e;++o&lt;r&amp;&amp;(s*=256);</span>)e&lt;0&amp;&amp;0===a&amp;&amp;0!==this[t+o-1]&amp;<span class="fstat-no" title="function not covered" >&amp;(</span>a=1),this[t+o]=<span class="cstat-no" title="statement not covered" >(e/s&gt;&gt;0)-a&amp;255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);</span>M(this,e,t,r,i-1,-i)}var o=r-<span class="fstat-no" title="function not covered" >1,</span>s=1,a=0;for(thi<span class="cstat-no" title="statement not covered" >s[t+o]=255&amp;e;--o&gt;=0&amp;&amp;(s*=256);)e&lt;0&amp;&amp;0===a&amp;&amp;0!==this[t+o+1]&amp;&amp;(a=1),this[t+o]=(e/s&gt;&gt;0)-a&amp;255;return t+r},s.prot</span>otype.writeInt8=function(e<span class="fstat-no" title="function not covered" >,t</span>,r){return e=+e,t|<span class="cstat-no" title="statement not covered" >=0,r||M(this,e,t,1,127,-128),s.TYPED_ARRAY<span class="cstat-no" title="statement not covered" >_</span>SUPPORT||(e=Math.floor(e)),e&lt;0&amp;&amp;(e=255+e+1),this[t]=255&amp;e,t<span class="cstat-no" title="statement not covered" >+1},s.prototype.write<span class="cstat-no" title="statement not covered" >I</span></span>nt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,</span>32767,-32768),s.TYPED_ARRA<span class="fstat-no" title="function not covered" >Y_</span>SUPPORT?(this[t]=2<span class="cstat-no" title="statement not covered" >55&amp;e,this[t+1]=e&gt;&gt;&gt;8):L(this,e,t,!0),t+2},<span class="cstat-no" title="statement not covered" >s</span>.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(t<span class="cstat-no" title="statement not covered" >his,e,t,2,32767,-32768)<span class="cstat-no" title="statement not covered" >,</span></span>s.TYPED_ARRAY_SUPPORT?(this[t]=e&gt;&gt;&gt;8,this[t+1]=255&amp;e):L(</span>this,e,t,!1),t+2},s.proto<span class="fstat-no" title="function not covered" >ty</span>pe.writeInt32LE<span class="cstat-no" title="statement not covered" >=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRA</span>Y_SUPPORT?(this[t]=255&amp;e,thi<span class="fstat-no" title="function not covered" >s[</span>t+1]=e&gt;&gt;&gt;8,this<span class="cstat-no" title="statement not covered" >[t+2]=e&gt;&gt;&gt;16,this[t+3]=e&gt;&gt;&gt;</span>24):z(t<span class="cstat-no" title="statement not covered" >his,e,t,!0),t+4},s.prototyp<span class="cstat-no" title="statement not covered" ></span>e.writeInt32BE=function(e,t,r){return e</span>=+e,t|=0,r||M(this,e,t,4,214<span class="fstat-no" title="function not covered" >74</span>83647,-21474836<span class="cstat-no" title="statement not covered" >48),e&lt;0&amp;&amp;(e=4294967295+e+1)</span>,s.TYPE<span class="cstat-no" title="statement not covered" >D_ARRAY_SUPPORT?(this[t]=e&gt;<span class="cstat-no" title="statement not covered" ></span>&gt;&gt;24,this[t+1]=e&gt;&gt;&gt;16,this[t+2]=e&gt;&gt;&gt;8,t</span>his[t+3]=255&amp;e):z(this,e,t,!<span class="fstat-no" title="function not covered" >1)</span>,t+4},s.prototy<span class="cstat-no" title="statement not covered" >pe.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){retu</span>rn B(this,e,t,!1,r)},s.proto<span class="fstat-no" title="function not covered" >ty</span>pe.writeDoubleL<span class="cstat-no" title="statement not covered" >E=function(e,t,r){return q(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return q(this,e,t</span>,!1,r)},s.prototype.copy=fun<span class="fstat-no" title="function not covered" >ct</span>ion(e,t,r,n){if<span class="cstat-no" title="statement not covered" >(r||(r=0),n||0===n||(n=this.length),t&gt;=e.length&amp;&amp;(t=e.length),</span>t||(t=0),n&gt;0&amp;&amp;n&lt;r&amp;&amp;(n=r),n==<span class="fstat-no" title="function not covered" >=r</span>)return 0;if(0=<span class="cstat-no" title="statement not covered" >==e.length||0===this.length)return 0;if(t&lt;0)throw new RangeErr</span>or("targetStart out of bounds<span class="fstat-no" title="function not covered" >")</span>;if(r&lt;0||r&gt;=thi<span class="cstat-no" title="statement not covered" >s.length)throw new RangeError("sourceStart out of bounds");if(</span>n&lt;0)throw new RangeError("sou<span class="fstat-no" title="function not covered" >rc</span>eEnd out of bou<span class="cstat-no" title="statement not covered" >nds");n&gt;this.length&amp;&amp;(n=this.length),e.length-t&lt;n-r&amp;&amp;(n=e.leng</span>th-t+r);var i,o=n-r;if(this=<span class="fstat-no" title="function not covered" >==</span>e&amp;&amp;r&lt;t&amp;&amp;t&lt;n)for(i=o-1<span class="cstat-no" title="statement not covered" >;i&gt;=0;--i)e[i+t]=this[i+r];else if(o&lt;1e3|<span class="cstat-no" title="statement not covered" >|!s.TYPED_ARRAY_SUPPORT<span class="cstat-no" title="statement not covered" ></span>)for(i=0;i&lt;o;++i)e[i+t]=</span>t</span>his[i+r<span class="cstat-no" title="statement not covered" >];</span>else<span class="cstat-no" title="statement not covered" > U<span class="cstat-no" title="statement not covered" ></span>int8Array.prototype.set.call(e,this.subarray(r,r<span class="cstat-no" title="statement not covered" >+o),t);return o},s.prototy<span class="cstat-no" title="statement not covered" >p</span></span>e.fill=functi</span>on(e,t,r,n){if("string"==typ<span class="fstat-no" title="function not covered" >eo</span>f e){if("string"==typ<span class="cstat-no" title="statement not covered" >eof t?(n=t,t=0,r=this.length):"string"==t<span class="cstat-no" title="statement not covered" >ypeof r&amp;&amp;(n=r,r=this.le<span class="cstat-no" title="statement not covered" ></span>ngth),1===e.length){var </span>i</span>=e.char<span class="cstat-no" title="statement not covered" >CodeAt</span>(0);<span class="cstat-no" title="statement not covered" >i&lt;<span class="cstat-no" title="statement not covered" ></span>256&amp;&amp;(e=i)}if(void 0!==n&amp;&amp;"string"!=typeof n)throw ne<span class="cstat-no" title="statement not covered" >w TypeError("encoding must<span class="cstat-no" title="statement not covered" > </span></span>be a string")</span>;if("string"==typeof n&amp;&amp;!s.<span class="fstat-no" title="function not covered" >is</span>Encoding(n))throw <span class="cstat-no" title="statement not covered" >new TypeError("Unknown encoding: "+n)}else"number"==typeof e&amp;&amp;(e&amp;=255);if(t&lt;0||this.length&lt;t||this.length&lt;r)throw new RangeErr</span>or("Out of range index");if(r&lt;<span class="fstat-no" title="function not covered" >=t</span>)return this;t&gt;&gt;&gt;=<span class="cstat-no" title="statement not covered" >0,r=void 0===r?this.length:r&gt;&gt;&gt;0,e||(e=0);var o;if("number"==typeof e)for(o=t;o&lt;r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:W(new s(e,n).toString()),u=a</span>.length;for(o=0;o&lt;r-t;++o)this<span class="fstat-no" title="function not covered" >[o</span>+t]=a[o%u]}return <span class="cstat-no" title="statement not covered" >this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function r(e){var t=e.length;if(t%4&gt;0)throw new Error</span>("Invalid string. Length must <span class="fstat-no" title="function not covered" >be</span> a multiple of 4")<span class="cstat-no" title="statement not covered" >;return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-r(e)}function i(e){var t,n,i,o,s,a,u=e.length;s=r(e),a=new l(3*u/4-s),i=s&gt;0?u-4:u;var f=0;for(t=0,n=0;t&lt;i;t+=4,n+=3)o=c[e.charCodeA</span>t(t)]&lt;&lt;18|c[e.charCodeAt(t+1)]<span class="fstat-no" title="function not covered" >&lt;&lt;</span>12|c[e.charCodeAt(<span class="cstat-no" title="statement not covered" >t+2)]&lt;&lt;6|c[e.charCodeAt(t+3)],a[f++]=o&gt;&gt;16&amp;255,a[f++]=o&gt;&gt;8&amp;255,a[f++]=255&amp;o;return 2===s?(o=c[e.charCodeAt(t)]&lt;&lt;2|c[e.charCodeAt(t+1)]&gt;&gt;4,a[f++]=255&amp;o):1===s&amp;&amp;(o=c[e.charCodeAt(t)]&lt;&lt;10|c[e.charCodeAt(t+1)</span>]&lt;&lt;4|c[e.charCodeAt(t+2)]&gt;&gt;<span class="fstat-no" title="function not covered" >2,</span>a[f++]=o&gt;&gt;8&amp;255,a[f++<span class="cstat-no" title="statement not covered" >]=255&amp;o),a}function o(e){return u<span class="cstat-no" title="statement not covered" >[e&gt;&gt;18&amp;63]+u[e&gt;&gt;12&amp;63]+<span class="cstat-no" title="statement not covered" ></span>u[e&gt;&gt;6&amp;63]+u[63&amp;e]}function s</span>(</span>e,t,r){<span class="cstat-no" title="statement not covered" >fo</span>r(va<span class="cstat-no" title="statement not covered" >r </span>n,i=<span class="cstat-no" title="statement not covered" >[]<span class="cstat-no" title="statement not covered" ></span>,s=t;s&lt;r;s+=3)n=(e[s]&lt;&lt;16)+(e[s+1]&lt;&lt;8)+e[s+2],i.<span class="cstat-no" title="statement not covered" >push(o(n));return i.join("")}function a(e){for(var t,r=e.length,n=r%3,i="",o=[],a=16383,c=0<span class="cstat-no" title="statement not covered" >,</span></span>l=r-n;c&lt;l;c+=</span>a)o.push(s(e,c,c+a&gt;l?l:c+a)<span class="fstat-no" title="function not covered" >);</span>return 1===n?(t=e[r-1<span class="cstat-no" title="statement not covered" >],i+=u[t&gt;&gt;2],i+=u[t&lt;&lt;4&amp;63],i+="==<span class="cstat-no" title="statement not covered" >"):2===n&amp;&amp;(t=(e[r-2]&lt;&lt;8<span class="cstat-no" title="statement not covered" ></span>)+e[r-1],i+=u[t&gt;&gt;10],i+=u[t&gt;&gt;</span>4</span>&amp;63],i+<span class="cstat-no" title="statement not covered" >=u[t&lt;&lt;</span>2&amp;63<span class="cstat-no" title="statement not covered" >],</span>i+="<span class="cstat-no" title="statement not covered" >="<span class="cstat-no" title="statement not covered" ></span>),o.push(i),o.join("")}t.byteLength=n,t.toByteArray=i<span class="cstat-no" title="statement not covered" >,t.fromByteArray=a;for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="A<span class="cstat-no" title="statement not covered" >B</span></span>CDEFGHIJKLMNO</span>PQRSTUVWXYZabcdefghijklmno<span class="fstat-no" title="function not covered" >pq</span>rstuvwxyz012345678<span class="cstat-no" title="statement not covered" >9+/",p=0,h=f.length;p&lt;h;++p)u[p]=f[p],c[f.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,s,</span>a=8*i-n-1,u=(1&lt;&lt;a)-1,c=u&gt;&gt;1,l<span class="fstat-no" title="function not covered" >=-</span>7,f=r?i-1:0,p=r?-1<span class="cstat-no" title="statement not covered" >:1,h=e[t+f];for(f+=p,o=h&amp;(1&lt;&lt;-l)-1,h&gt;&gt;=-l,l+=a;l&gt;0;o=256*o+e[t+f],f+=p,l-=8);for(s=o&amp;(1&lt;&lt;-l)-1,o&gt;&gt;=-l,l+=n;l&gt;0;s=256*s+e[t+f],f+=p,l-=8);if(0===o)o=1-c;else</span>{if(o===u)return s?NaN:(h?-1:<span class="fstat-no" title="function not covered" >1)</span>*(1/0);s+=Math.pow<span class="cstat-no" title="statement not covered" >(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1&lt;&lt;c)-1,f=l&gt;&gt;1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,</span>h=n?0:o-1,d=n?1:-1,y=t&lt;0||0==<span class="fstat-no" title="function not covered" >=t</span>&amp;&amp;1/t&lt;0?1:0;for(t=<span class="cstat-no" title="statement not covered" >Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))&lt;1&amp;&amp;(s--,u*=2),t+=s+f&gt;=1?p/u:p*Math.pow(2,1-f),t*u&gt;=2&amp;&amp;(s++,u/=2),s+f&gt;=l?(a=0,s=l):s+f&gt;=1?(a=(t*u-1)*Math.p</span>ow(2,i),s+=f):(a=t*Math.pow(2<span class="fstat-no" title="function not covered" >,f</span>-1)*Math.pow(2,i),<span class="cstat-no" title="statement not covered" >s=0));i&gt;=8;e[r+h]=255&amp;a,h+=d,a/=256,i-=8);for(s=s&lt;&lt;i|a,c+=i;c&gt;0;e[r+h]=255&amp;s,h+=d,s/=256,c-=8);e[r+h-d]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";va</span>r n=r(30),i=r(34),o=r(35),s=n<span class="fstat-no" title="function not covered" >ew</span> o;s.define("HS256<span class="cstat-no" title="statement not covered" >","sign",new n({name:"HMAC",h</span>ash:{name:"SHA-256"}})),s.def<span class="fstat-no" title="function not covered" >in</span>e("HS384","sign",n<span class="cstat-no" title="statement not covered" >ew n({name:"HMAC",hash:{name:</span>"SHA-384"}})),s.define("HS512"<span class="fstat-no" title="function not covered" >,"</span>sign",new n({name:<span class="cstat-no" title="statement not covered" >"HMAC",hash:{name:"SHA-512"}}</span>)),s.define("RS256","sign",new<span class="fstat-no" title="function not covered" > i</span>({name:"RSASSA-PKC<span class="cstat-no" title="statement not covered" >S1-v1_5",hash:{name:"SHA-256"</span>}})),s.define("RS384"<span class="fstat-no" title="function not covered" >,"</span>sign",new i({name:"RS<span class="cstat-no" title="statement not covered" >ASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),s.define("RS512","sign",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),s.define("non<span class="cstat-no" title="statement not covered" >e","sign"<span class="cstat-no" title="statement not covered" >,</span></span>{}),s.define("HS256","verify",new n({nam<span class="cstat-no" title="statement not covered" >e:"HMAC",<span class="cstat-no" title="statement not covered" >h</span></span>ash:{name:<span class="cstat-no" title="statement not covered" >"SHA-256"}})),s.define("HS384","verify",new n({nam<span class="cstat-no" title="statement not covered" >e</span></span>:"HMAC",hash:{name:"SHA-384"}}<span class="cstat-no" title="statement not covered" >)),s.define("HS512","verify",new n({name:"HMAC",ha<span class="cstat-no" title="statement not covered" >s</span></span>h:{name:"S<span class="cstat-no" title="statement not covered" >HA-512"}})),s.define("RS256","verify",new i({nam<span class="cstat-no" title="statement not covered" >e</span></span>:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),s.define("RS384","verify",new i({name:"</span>RSASSA-PK<span class="cstat-no" title="statement not covered" >CS1-v1<span class="cstat-no" title="statement not covered" ></span>_5",hash:{name:"SHA-384"}})),s.def<span class="cstat-no" title="statement not covered" >ine("RS512","verify",new i({n<span class="cstat-no" title="statement not covered" >ame:"RSASSA-PKCS1-v1_5",</span></span>hash<span class="cstat-no" title="statement not covered" >:{name:"SHA-512"}})),s.define("none","v<span class="cstat-no" title="statement not covered" >erify",{}),s.define("RS2<span class="cstat-no" title="statement not covered" >56","importKey",new i({n</span></span>ame:<span class="cstat-no" title="statement not covered" >"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),s.define("RS384"<span class="cstat-no" title="statement not covered" >,</span></span></span>"importKe</span>y",new i({name:"RSASS<span class="fstat-no" title="function not covered" >A-</span>PKCS1-v1_5",hash:{nam<span class="cstat-no" title="statement not covered" >e:"SHA-384"}})),s.define("R<span class="cstat-no" title="statement not covered" >S512","importKey",new i({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),e.exports=s},function(e,t,r){(function(t){"use strict";functi<span class="cstat-no" title="statement not covered" >on n(e,t){if(!(e<span class="cstat-no" title="statement not covered" ></span> instanceof t))throw<span class="cstat-no" title="statement not covered" ></span> </span>new TypeError("Cannot call a class as a f<span class="cstat-no" title="statement not covered" >unction")}var i=function(){function e(e,t){for(va<span class="cstat-no" title="statement not covered" >r</span></span> r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=<span class="cstat-no" title="statement not covered" >n.enumerable||!1,n.configurable=!0,"value"in n&amp;</span></span>&amp;(n.wr<span class="cstat-no" title="statement not covered" >itable=!0),Object.defineProperty(e,<span class="cstat-no" title="statement not covered" >n</span></span>.key,n)}}return function(t,r,n){return r&amp;&amp;e(t.pr<span class="cstat-no" title="statement not covered" >ototype,r),n&amp;&amp;e(t,n),t}}(),o=r(24),s=r(31),<span class="cstat-no" title="statement not covered" >a</span></span>=r(32),u=fu<span class="cstat-no" title="statement not covered" >nction(){fun<span class="cstat-no" title="statement not covered" >c</span></span>tion e(t){n(this,e),this.params=t}return i(e,[{key:"sign",value:f</span>uncti<span class="cstat-no" title="statement not covered" >on(e,r){var n=this.params;<span class="cstat-no" title="statement not covered" >return r=(new a).encode(<span class="cstat-no" title="statement not covered" >r),s.subtle.s</span></span>ign(n,e,r).th<span class="cstat-no" title="statement not covered" >en(function(e){return o(t.from(e))})}},{key:"v</span>erif<span class="cstat-no" title="statement not covered" >y",value:<span class="cstat-no" title="statement not covered" ></span>function(e,t,r){var n=this.p<span class="cstat-no" title="statement not covered" >arams;return"string"==ty<span class="cstat-no" title="statement not covered" ></span></span>p</span>eof t&amp;&amp;(t=Ui</span>nt</span>8Array.f<span class="cstat-no" title="statement not covered" >rom(o.toBuffer(t))),"</span>string"==ty<span class="fstat-no" title="function not covered" >pe</span>of r&amp;&amp;(r=(n<span class="cstat-no" title="statement not covered" >ew a).encode(</span>r)),s.s<span class="fstat-no" title="function not covered" >ub</span>tle.verify(n,e,t,r)}},{key:"assertSuf<span class="fstat-no" title="function not covered" >fi</span>cientKeyLeng<span class="cstat-no" title="statement not covered" >th",value<span class="cstat-no" title="statement not covered" ></span>:function(e){if<span class="cstat-no" title="statement not covered" >(e.length&lt;this.bitlength)throw new Error("The key is too short.")}<span class="cstat-no" title="statement not covered" >}</span></span>]),e}();e.exports=u}).call(t,r(25).Buffer)},function(e,</span>t){e.expo<span class="fstat-no" title="function not covered" >rt</span>s=cr<span class="cstat-no" title="statement not covered" >ypto},function(e,t,r){(function(</span>t){"use s<span class="fstat-no" title="function not covered" >tr</span>ict";var n=t.TextEncoder<span class="cstat-no" title="statement not covered" >?t.TextEn<span class="cstat-no" title="statement not covered" ></span>coder:r(33).TextEncoder;e.exports=n}).call(t,function(){ret</span>urn thi<span class="cstat-no" title="statement not covered" >s}<span class="cstat-no" title="statement not covered" ></span>())},function(e,t){e.exports=TextEncoder},<span class="cstat-no" title="statement not covered" >function(e,t,r){(function(t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0<span class="cstat-no" title="statement not covered" >;</span></span>r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),o=r(24),s=r(31),a=r(32),u=function(){fu</span>nction e(<span class="fstat-no" title="function not covered" >t)</span>{n(t<span class="cstat-no" title="statement not covered" >his,e),this.params=t}return i(e,[{key:"sign",value:function(e,r){var n=</span>this.para<span class="fstat-no" title="function not covered" >ms</span>;return r=<span class="cstat-no" title="statement not covered" >(new a).encode(r),s.subtle.sign(n,e,r).the<span class="cstat-no" title="statement not covered" >n(function(e){return o(t.from(e))})}},{key:"verify",value:fu<span class="cstat-no" title="statement not covered" >n</span></span>ction(e,t,r){var n</span>=this.par<span class="fstat-no" title="function not covered" >am</span>s;re<span class="cstat-no" title="statement not covered" >turn"string"==typeof t&amp;&amp;(t=Uint8Array.from(o.toBuffer(t))),"string"==typeof r&amp;&amp;(r=(new a).encode(<span class="cstat-no" title="statement not covered" >r)),s.subtle.verify(n,e,t,r)}},{key:"im<span class="cstat-no" title="statement not covered" >p</span></span>ortKey",value:function(e){var t=Object.assign({},e),r=this.params,n=e.key_ops||[];return"sig"===e.use&amp;&amp;n.push("verify"),"enc"===e.use?Promise.resolve(e):(e.key_ops&amp;&amp;(n=e.key_ops),s.subtle.importKey("jwk",t,r,!0,n).then<span class="cstat-no" title="statement not covered" ></span>(function(e){return Object.defineProperty(t,"cryptoKey",{<span class="cstat-no" title="statement not covered" >e</span>numerable:!1,value:e}),t}))}}]),e}();e.exports=u}).call(t,r(25).Buffer)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a fun<span class="cstat-no" title="statement not covered" >ction")}var i=function(){function e(<span class="cstat-no" title="statement not covered" >e</span></span>,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerab</span>le<span class="fstat-no" title="function not covered" >=n</span>.enumerable||!1<span class="cstat-no" title="statement not covered" >,n.config<span class="fstat-no" title="function not covered" >ur</span>able=!0,"value"in n&amp;&amp;(n.writable=!0)<span class="cstat-no" title="statement not covered" >,Object.define</span>Prop<span class="cstat-no" title="statement not covered" >erty(e,n.key,</span>n)}}<span class="cstat-no" title="statement not covered" >return </span>func<span class="cstat-no" title="statement not covered" >tio</span>n(t,<span class="cstat-no" title="statement not covered" >r,n){return r&amp;</span>&amp;e(t<span class="cstat-no" title="statement not covered" >.prototype,</span>r),n<span class="cstat-no" title="statement not covered" >&amp;&amp;e(t,n),<span class="cstat-no" title="statement not covered" ></span>t}}(),o=r(36),s=["sign","verify","encrypt","decrypt","importKey"],a=function(){function e(){var t=thi<span class="cstat-no" title="statement not covered" >s</span>;n(this,e),s.forEach(function(e){t[e]={}})}return i(e,[{key:"define",value:function(e,t,r){v<span class="cstat-no" title="statement not covered" >a</span>r n=this[t];<span class="cstat-no" title="statement not covered" >n[e]=r}},{k</span>ey:"n<span class="cstat-no" title="statement not covered" >ormalize",val<span class="cstat-no" title="statement not covered" >ue:function(e,t){var r=this[e];if(!r)ret<span class="cstat-no" title="statement not covered" >u</span></span>rn new SyntaxError;var n=r[t<span class="cstat-no" title="statement not covered" ></span>]</span>;return n?n:new o(t)}}],[{key:"operations",ge</span>t:function()<span class="fstat-no" title="function not covered" >{r</span>eturn s}}]),e}();e.exports=a},function(e,<span class="cstat-no" title="statement not covered" >t){"use strict</span>";fu<span class="cstat-no" title="statement not covered" >nction r(e,t)</span>{if(<span class="cstat-no" title="statement not covered" >!(e ins</span>tanc<span class="cstat-no" title="statement not covered" >eof t))throw new TypeError("Cannot call a class as </span>a fu<span class="cstat-no" title="statement not covered" >nction")}funct</span>ion <span class="cstat-no" title="statement not covered" >n(e,t){if(!</span>e)th<span class="cstat-no" title="statement not covered" >row new ReferenceError("this hasn't be<span class="cstat-no" title="statement not covered" ></span>en initialised - super() hasn't been called");return!t||"object"!=typeof t&amp;&amp;"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(e){function t(<span class="cstat-no" title="statement not covered" >e</span>){r(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));retu<span class="cstat-no" title="statement not covered" >r</span>n i.message=e+" is not a</span> s</span>up<span class="fstat-no" title="function not covered" >po</span>rted algorithm",i}retur<span class="cstat-no" title="statement not covered" >n i(t,e),t}(<span class="cstat-no" title="statement not covered" ></span>Error);e.exports=o},function(<span class="fstat-no" title="function not covered" >e,</span>t,r){"use st<span class="cstat-no" title="statement not covered" >rict";e.exports={DataError:r(38),NotSu</span>pp</span>or<span class="fstat-no" title="function not covered" >te</span>dError:r(36)}},function(e,t){"use stric<span class="cstat-no" title="statement not covered" >t";fun</span>ctio<span class="cstat-no" title="statement not covered" >n r(e,</span>t){i<span class="cstat-no" title="statement not covered" >f(!(e </span>inst<span class="cstat-no" title="statement not covered" >anceof t<span class="cstat-no" title="statement not covered" ></span>))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&amp;&amp;"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(e){function t(e){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),t}(Error);e.exports=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&amp;&amp;"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"</span>va<span class="fstat-no" title="function not covered" >lu</span>e"in n&amp;&amp;(n.writabl<span class="cstat-no" title="statement not covered" >e<span class="fstat-no" title="function not covered" >=!</span>0),Object.defineProperty(e,n.key,n<span class="fstat-no" title="function not covered" >)}</span>}return<span class="cstat-no" title="statement not covered" > function(t,r,n){return<span class="cstat-no" title="statement not covered" > r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),a=r(13),u=a.JSONDocum</span></span>ent,c=r(<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >40</span>),l=r(23),f=function<span class="fstat-no" title="function not covered" >(e</span>){funct<span class="cstat-no" title="statement not covered" >ion t(){return n(this,t),i(this,(t.__proto__<span class="cstat-no" title="statement not covered" >||Obj<span class="cstat-no" title="statement not covered" ></span>ect.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"importKey",value:function(e){return l.importKey(e)}</span>}<span class="cstat-no" title="statement not covered" ></span>,{key:"<span class="fstat-no" title="function not covered" >sc</span>hema",get:function<span class="cstat-no" title="statement not covered" >(){return c}}]),t}(u);e.exports=f},function(e,t,</span>r)</span>{"u</span>se s<span class="cstat-no" title="statement not covered" >trict"</span>;var<span class="cstat-no" title="statement not covered" > n=r(1</span>3),i<span class="cstat-no" title="statement not covered" >=n.JSO</span>NSch<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >em</span>a,o=r(41),s=(o.BASE6<span class="fstat-no" title="function not covered" >4_</span>REGE<span class="cstat-no" title="statement not covered" >XP,new i({type:"object",prope<span class="cstat-no" title="statement not covered" ></span>rties:{kty:{type:"string",enum:["RSA","EC","oct"]},use:{type:"string",<span class="fstat-no" title="function not covered" >enum:[</span>"sig","enc"]},k<span class="cstat-no" title="statement not covered" >ey_ops:{type<span class="cstat-no" title="statement not covered" ></span>:"array",enum:["sign","verify","encrypt","decrypt","wrapKe<span class="fstat-no" title="function not covered" >y"</span>,"unwrapKey"<span class="cstat-no" title="statement not covered" >,"deriveKey","deriveB</span>its</span>"]},alg:{type:"string",enum:["HS256","HS384","HS512","RS256","R<span class="fstat-no" title="function not covered" >S384",</span>"RS512","ES256","E<span class="cstat-no" title="statement not covered" >S384","ES512<span class="cstat-no" title="statement not covered" ></span>","PS256","PS384","PS512","none"]},kid:{type:"string"},x5u:{type:"string"},x5c:{type:"array"},x5t:{type:"string"}}}));e.exports=s},function(e,t,r){</span>"use strict";var n=r(13),i=n.Formats;i.register("StringOrURI",new RegExp),i.regist<span class="fstat-no" title="function not covered" >er("Nu</span>meri<span class="cstat-no" title="statement not covered" >cDate",new RegExp),i.register("<span class="cstat-no" title="statement not covered" >URI",new RegExp),i.register("url",new RegE</span></span>xp),i.reg</span>ist<span class="cstat-no" title="statement not covered" ></span>er("base64",new</span> RegExp),i.register("base</span>64<span class="fstat-no" title="function not covered" >ur</span>l",new RegExp),<span class="cstat-no" title="statement not covered" >i.register("MediaTyp</span>e"<span class="fstat-no" title="function not covered" >,n</span>ew RegExp)},functi<span class="cstat-no" title="statement not covered" >o<span class="fstat-no" title="function not covered" >n(</span>e,t,r){"use strict";function n(e,<span class="cstat-no" title="statement not covered" >t){if(!(e instanceof t))throw new TypeError("Canno<span class="cstat-no" title="statement not covered" ></span>t call a class </span>as a funct<span class="fstat-no" title="function not covered" >io</span>n")}functio<span class="cstat-no" title="statement not covered" >n i(e,t){if(!</span>e)thr</span>ow<span class="fstat-no" title="function not covered" > n</span>ew ReferenceErr<span class="cstat-no" title="statement not covered" >or("this hasn't been init</span>ia<span class="fstat-no" title="function not covered" >li</span>sed - super() hasn<span class="cstat-no" title="statement not covered" >'<span class="fstat-no" title="function not covered" >t </span>been called");return!t||"object"!=<span class="fstat-no" title="function not covered" >ty</span>peof t&amp;<span class="cstat-no" title="statement not covered" >&amp;"function"!=typeof t?e<span class="cstat-no" title="statement not covered" >:t}function o(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw</span></span> new Typ<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >eE</span>rror("Super expressi<span class="fstat-no" title="function not covered" >on</span> must e<span class="cstat-no" title="statement not covered" >ither be null or a function, not "+typeof t)<span class="cstat-no" title="statement not covered" >;e.pr<span class="cstat-no" title="statement not covered" ></span>ototype=Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setPrototype</span>O<span class="cstat-no" title="statement not covered" ></span>f?Objec<span class="fstat-no" title="function not covered" >t.</span>setPrototypeOf(e,t<span class="cstat-no" title="statement not covered" >):e.__proto__=t)}var s=function(){function e(e,t</span>){</span>for</span>(var<span class="cstat-no" title="statement not covered" > r=0;r</span>&lt;t.l<span class="cstat-no" title="statement not covered" >ength;</span>r++)<span class="cstat-no" title="statement not covered" >{var n</span>=t[r<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >];</span>n.enumerable=n.enume<span class="fstat-no" title="function not covered" >ra</span>ble|<span class="cstat-no" title="statement not covered" >|!1,n.configurable=!0,"value"<span class="cstat-no" title="statement not covered" ></span>in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return functio<span class="fstat-no" title="function not covered" >n(t,r,</span>n){return r&amp;&amp;e(<span class="cstat-no" title="statement not covered" >t.prototype,<span class="cstat-no" title="statement not covered" ></span>r),n&amp;&amp;e(t,n),t}}(),a=r(13),u=a.JSONDocument,c=r(43),l=r(39<span class="fstat-no" title="function not covered" >),</span>f=function(e<span class="cstat-no" title="statement not covered" >){function t(){return</span> n(</span>this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(th<span class="fstat-no" title="function not covered" >is,arg</span>uments))}return o(<span class="cstat-no" title="statement not covered" >t,e),s(t,nul<span class="cstat-no" title="statement not covered" ></span>l,[{key:"importKeys",value:function(e){var r=this.schema.validate(e);r.valid||Promise.reject(r);var n=new t(e),i=e.keys.map(function(e){return l.im</span>portKey(e)});return Promise.all(i).then(function(e){return n.keys=<span class="fstat-no" title="function not covered" >e,n})}</span>},{key:"sche<span class="cstat-no" title="statement not covered" >ma",get:function(){re</span>turn<span class="cstat-no" title="statement not covered" > c}}]),t}(u)</span>;e.e<span class="cstat-no" title="statement not covered" >xports=f},functi<span class="cstat-no" title="statement not covered" ></span>on(e,t,r){"use strict";var n=r(13),i=n.JSONSchema,o=r(40),s=new i({type:"object",properties:{keys:{type:"array",items:o}}});e.exports=s},function(e,t,r){"use <span class="fstat-no" title="function not covered" >st</span>rict";functi<span class="cstat-no" title="statement not covered" >on n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a fu</span>ncti</span>on")}func</span>tio<span class="cstat-no" title="statement not covered" ></span>n i(e,t){if(!e)</span>throw new ReferenceError(</span>"t<span class="fstat-no" title="function not covered" >hi</span>s hasn't been initialised - super() hasn<span class="fstat-no" title="function not covered" >'t</span> been c<span class="cstat-no" title="statement not covered" >alled");return!t||"obje<span class="cstat-no" title="statement not covered" >ct"!=typeof t&amp;&amp;"function"!=typeof t?e:t}function o(e,t){if</span></span>("functi<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >on</span>"!=typeof t&amp;&amp;null!==<span class="fstat-no" title="function not covered" >t)</span>throw n<span class="cstat-no" title="statement not covered" >ew TypeError("Super expression must either b<span class="cstat-no" title="statement not covered" >e nul<span class="cstat-no" title="statement not covered" ></span>l or a function, not "+typeof t);<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
e.<span class="cstat-no" title="statement not covered" >prototype=Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbo</span>l&amp;&amp;"symb<span class="cstat-no" title="statement not covered" >ol"==typeof Symbol.iterator?function(e){return typeof e}:function(e)<span class="fstat-no" title="function not covered" >{r</span>eturn e&amp;&amp;"fu<span class="cstat-no" title="statement not covered" >nction"==typeof S</span>ymb<span class="fstat-no" title="function not covered" >ol</span>&amp;&amp;e.construc<span class="cstat-no" title="statement not covered" >tor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=</span>t</span>[r];<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >n.</span>enumerable=n.enumera<span class="fstat-no" title="function not covered" >bl</span>e||!1,n<span class="cstat-no" title="statement not covered" >.configurable=!0,"value"in n&amp;&amp;(n.writable=!0<span class="cstat-no" title="statement not covered" >),Obj<span class="cstat-no" title="statement not covered" ></span>ect.defineProperty(e,n.key,n)}}return function(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),u=r(24),c=r(13),l=c.JSONDocume</span>n<span class="cstat-no" title="statement not covered" ></span>t,f=r(4<span class="fstat-no" title="function not covered" >5)</span>,p=r(49),h=r(38),d<span class="cstat-no" title="statement not covered" >=function(e){function t(){return n(this,t),i(thi</span>s,</span>(t.</span>__pr<span class="cstat-no" title="statement not covered" >oto__|</span>|Obj<span class="cstat-no" title="statement not covered" >ect.ge</span>tPro<span class="cstat-no" title="statement not covered" >totypeOf(t)).ap</span>ply(<span class="cstat-no" title="statement not covered" >this,a</span>rgum<span class="cstat-no" title="statement not covered" >ents))</span>}ret<span class="cstat-no" title="statement not covered" >urn o(</span>t,e)<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >,a</span>(t,[{key:"isJWE",valu<span class="fstat-no" title="function not covered" >e:</span>fun<span class="cstat-no" title="statement not covered" >ction(){return!!this.header.enc}},{key:"resolveKeys",value:function(e){var t=this.header.kid,r<span class="cstat-no" title="statement not covered" ></span>=void 0,n=void 0;if(Array.isArray(e)&amp;&amp;(r=e),e.keys&amp;&amp;(r=e.keys),e.keys||"object"!<span class="fstat-no" title="function not covered" >==("un</span>def<span class="cstat-no" title="statement not covered" >ined"==typeof e?"undefined</span>":s(e))||(r=[e]),!r)throw new h("Invalid JWK argument");return n=t?r<span class="fstat-no" title="function not covered" >.find(</span>function(e){<span class="cstat-no" title="statement not covered" >return e.kid===t</span>}):r<span class="cstat-no" title="statement not covered" >.find(f</span>unct<span class="cstat-no" title="statement not covered" >ion(e){<span class="cstat-no" title="statement not covered" ></span>return"sig"===e.use}),!!n&amp;&amp;(console.log(n),this.key=n.cryptoKey,!0)}},{key:"encode",value:function(){var e=this.validate();if(!e.valid)return Pro<span class="cstat-no" title="statement not covered" >mise.reject(e);var t=this;return thi<span class="cstat-no" title="statement not covered" >s</span></span>.isJWE()?JWE.encrypt(<span class="fstat-no" title="function not covered" >t)</span>:p.sign(t)}}<span class="cstat-no" title="statement not covered" >,{key:"verify",value</span>:function()<span class="fstat-no" title="function not covered" >{v</span>ar e=this.va<span class="cstat-no" title="statement not covered" >lidate();return e.valid?</span>p.verify(this):Promise.reject(e)}}],[{key:"decode",value</span>:function(e){var t=this,r=void 0;if("string"!=typeof e)throw ne<span class="fstat-no" title="function not covered" >w h("J</span>WT must be <span class="cstat-no" title="statement not covered" >a string");if(e.<span class="cstat-no" title="statement not covered" ></span>startsWith("{"<span class="cstat-no" title="statement not covered" >)){try{e=JSON.parse(e,func</span></span>tion(){<span class="cstat-no" title="statement not covered" >})}ca<span class="cstat-no" title="statement not covered" ></span>tch(e){throw new h("Invalid JWT serialization")}e.</span>signatures||e.recipients?e.serialization="json":e.serialization<span class="fstat-no" title="function not covered" >="flat</span>tened",r=ne<span class="cstat-no" title="statement not covered" >w t(e)}else try{<span class="cstat-no" title="statement not covered" ></span>var n="compact",i=e.split("."),o=i.length;if(3!==o&amp;&amp;5</span>!==o)throw new Error("Malformed JWT");var s=JSON.parse(u.decode(i<span class="fstat-no" title="function not covered" >[0]));</span>if(3===o){va<span class="cstat-no" title="statement not covered" >r a="</span>JWS"<span class="cstat-no" title="statement not covered" >,c=JSON<span class="cstat-no" title="statement not covered" ></span>.parse(u.decode(i[1])),l=i<span class="cstat-no" title="statement not covered" >[2];r=new t({type:a,segments:i,heade<span class="cstat-no" title="statement not covered" >r</span></span>:s,payload:c,signature:<span class="cstat-no" title="statement not covered" >l,ser<span class="cstat-no" title="statement not covered" >ialization:n})}}ca<span class="fstat-no" title="function not covered" >tc</span>h(e){throw new </span>h("Invalid J<span class="cstat-no" title="statement not covered" >WT compact serialization")}return r}},{key<span class="cstat-no" title="statement not covered" ></span>:</span>"encode",value:function(e,r,n){var i=new t(e,r);return i.encode(n)}},{key:"verify",value:function(e,r)</span>{var n<span class="cstat-no" title="statement not covered" >=t.decode(r);<span class="cstat-no" title="statement not covered" >return n.k</span>ey=e<span class="cstat-no" title="statement not covered" >,n.verify().t</span>hen(<span class="cstat-no" title="statement not covered" >function(<span class="cstat-no" title="statement not covered" ></span>e){return n})}},{key:"sc<span class="cstat-no" title="statement not covered" >hema",get:function(){return f}}]),</span></span>t}(l);e<span class="cstat-no" title="statement not covered" >.exports=d},function(e,t,r)<span class="cstat-no" title="statement not covered" ></span>{"use strict";var n=r(<span class="cstat-no" title="statement not covered" >46),i=</span>r(47<span class="cstat-no" title="statement not covered" >),o=r(48),s=r(13),a=s.JSONS</span>chem<span class="cstat-no" title="statement not covered" >a,u=n<span class="cstat-no" title="statement not covered" ></span>ew a({type:"object",properties:{type:{type:"string",enum:["JWS","JWE"]},segments:{type:"arra</span>y</span>"},header:o,<span class="cstat-no" title="statement not covered" >protected:o,unprotected:o,iv:n,aad:n,ciphertext:n,<span class="cstat-no" title="statement not covered" ></span>t</span></span>ag:n,reci</span>pients:{type:"array",items:{type:"object",properties:{header:o,<span class="fstat-no" title="function not covered" >encryp</span>ted_key:n}}},paylo<span class="cstat-no" title="statement not covered" >ad:i,signatu<span class="cstat-no" title="statement not covered" ></span>res:{type:"array",it</span>ems:{type:"object",properties:{protected:o,header:o,signature:n<span class="fstat-no" title="function not covered" >,key:{</span>type:"object"}}<span class="cstat-no" title="statement not covered" >}},signature<span class="cstat-no" title="statement not covered" ></span>:n,verified:{type:"boolean",defaul<span class="fstat-no" title="function not covered" >t:</span>!1},key:{typ<span class="cstat-no" title="statement not covered" >e:"object"</span>},s</span>erialization:{type:"string",enum:["compact","json","flattened<span class="fstat-no" title="function not covered" >"],d</span>efa<span class="cstat-no" title="statement not covered" >ult:"compa</span>ct"}}});e</span>.exp<span class="cstat-no" title="statement not covered" ></span>orts=u},functio</span>n(<span class="fstat-no" title="function not covered" >e,</span>t,r){"use strict";var n=r(13),i=n.JSONS<span class="cstat-no" title="statement not covered" >chema,</span>o=ne<span class="cstat-no" title="statement not covered" >w i({t</span>ype:<span class="cstat-no" title="statement not covered" >"strin</span>g",f<span class="cstat-no" title="statement not covered" >ormat:</span>"bas<span class="cstat-no" title="statement not covered" >e64url"});e.e</span>xpor<span class="cstat-no" title="statement not covered" >ts=o},function(e,t,r){"use strict";var n=r(13),i=n.JSONSchema,o=new i({properties:{iss:{type:"string",format:"StringOrURI"},sub:{type:"string",format:"StringOrURI"},aud:{type:["array","string"],format:"StringOrURI",items:{format:"StringOrURI"}},exp:{type:"number",format:"NumericDate"},nbf:{type:"number",format:"NumericDate"},iat:{type:"number",format:"NumericDate"},jti:{type:"string"}}});e.exports=o},function(e,t,r){"use strict";var n=(r(40),r(13)),i=n.JSONSchema,o=new i({type:"object",properties:{typ:{type:"string"},cty:{type:"string",enum:["JWT"]},alg:{type:"string",format:"StringOrURI"},jku:{type:"string",format:"URI"}<span class="cstat-no" title="statement not covered" ></span>,kid:{type:"str</span>in<span class="fstat-no" title="function not covered" >g"</span>},x5u:{type:"string",format:"URI"},x5c:<span class="cstat-no" title="statement not covered" >{type:</span>"arr<span class="cstat-no" title="statement not covered" >ay",items:{ty</span>pe:"<span class="cstat-no" title="statement not covered" >string",format:"base64"}},x5t:{type:"string",fo<span class="cstat-no" title="statement not covered" ></span>rmat:"base64url</span>"}<span class="fstat-no" title="function not covered" >,c</span>rit:{type:"array",items:{type:"string"}<span class="cstat-no" title="statement not covered" >,minIt</span>ems:<span class="cstat-no" title="statement not covered" >1},enc:{type:</span>"str<span class="cstat-no" title="statement not covered" >ing",format:"StringOrURI"},zip:{type:"string"}}});e.exports=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&amp;&amp;(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&amp;&amp;<span class="cstat-no" title="statement not covered" ></span>a.return&amp;&amp;a.ret</span>ur<span class="fstat-no" title="function not covered" >n(</span>)}finally{if(i)throw o}}return r}return <span class="cstat-no" title="statement not covered" >function(t,r)</span>{if(A<span class="cstat-no" title="statement not covered" >rray.isArray(</span>t))r<span class="cstat-no" title="statement not covered" >eturn t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,<span class="cstat-no" title="statement not covered" ></span>n)}}return func</span>ti<span class="fstat-no" title="function not covered" >on</span>(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(<span class="fstat-no" title="function not covered" >t,</span>n),t}}(<span class="cstat-no" title="statement not covered" >),a=r(24),u=r(23),c=r(3<span class="cstat-no" title="statement not covered" >7),l=c.DataError,f=function(){function e(){n(this,e)}retur</span></span>n s(e,nu<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >ll</span>,[{key:"sign",value:<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t<span class="cstat-no" title="statement not covered" >=a(</span>JSON<span class="cstat-no" title="statement not covered" >.st</span>ring<span class="cstat-no" title="statement not covered" >ify</span>(e.p<span class="cstat-no" title="statement not covered" >ayload)<span class="cstat-no" title="statement not covered" ></span>);if(<span class="cstat-no" title="statement not covered" >"compact"===e.serialization){var r=function(){var r=e.key,n=e.header.alg,i=a(JSON.stringify(e.header)),o=i+"."+t;retur</span>n{v:u.sign(n<span class="cstat-no" title="statement not covered" >,r,o).then(func</span>tion(e){re<span class="cstat-no" title="statement not covered" >turn <span class="cstat-no" title="statement not covered" >o+"."+e})}}();if("object"===("</span>undefined"<span class="cstat-no" title="statement not covered" >==typeo<span class="cstat-no" title="statement not covered" >f r?"unde</span></span>f<span class="cstat-no" title="statement not covered" ></span>i</span>ned":o(r)<span class="cstat-no" title="statement not covered" ></span>))retur<span class="fstat-no" title="function not covered" >n </span>r.v}return"json<span class="cstat-no" title="statement not covered" >"===e.serialization,"f<span class="cstat-no" title="statement not covered" >lattened"<span class="cstat-no" title="statement not covered" >=</span></span>==e.serialization,Promise.reject(<span class="cstat-no" title="statement not covered" >new l("Unsuppor<span class="cstat-no" title="statement not covered" >t</span></span>ed serialization"))}},{key:"verify",value:function(e){if(e.signatures,e.sign</span>at</span>ure</span>){va<span class="cstat-no" title="statement not covered" >r t=i(e.segments,2),r=t[0],n=t[1],o=r+"."+n,s=e.key,a=e.signature,c=<span class="fstat-no" title="function not covered" >e.</span>header.alg;r<span class="cstat-no" title="statement not covered" >eturn u.verify(c,</span>s,a<span class="fstat-no" title="function not covered" >,o</span>).then(funct<span class="cstat-no" title="statement not covered" >ion(t){return e.verified=t,t})}return Promise.reject(new l("Missing signature(s)"))}}]),e}();e.exports=f},function(e,</span>t</span>,r){<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >(f</span>unction(t){"use stri<span class="fstat-no" title="function not covered" >ct</span>";funct<span class="cstat-no" title="statement not covered" >ion n(e,t){if(!(e instanceof t))throw new Ty<span class="cstat-no" title="statement not covered" >peErr<span class="cstat-no" title="statement not covered" ></span>or("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.</span>e<span class="cstat-no" title="statement not covered" ></span>numerab<span class="fstat-no" title="function not covered" >le</span>||!1,n.configurabl<span class="cstat-no" title="statement not covered" >e=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineP</span>ro</span>per</span>ty(e<span class="cstat-no" title="statement not covered" >,n.key</span>,n)}<span class="cstat-no" title="statement not covered" >}retur</span>n fu<span class="cstat-no" title="statement not covered" >nction</span>(t,r<span class="cstat-no" title="statement not covered" >,n){return r</span>&amp;&amp;e(<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >t.</span>prototype,r),n&amp;&amp;e(t,<span class="fstat-no" title="function not covered" >n)</span>,t}<span class="cstat-no" title="statement not covered" >}(),o=r(7),s<span class="cstat-no" title="statement not covered" ></span>=r(51),a=r(31),u=r(54),c=r(55),l=function(){function e(){n(this,e)}return i(<span class="fstat-no" title="function not covered" >e,null</span>,[{key:"crea<span class="cstat-no" title="statement not covered" >te",value:function(e,r,n){ret<span class="cstat-no" title="statement not covered" ></span>urn new Promise(function(i,l){var f=e.provid<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >er</span>,p=e.defaults,h=e.r<span class="cstat-no" title="statement not covered" >egistr</span>atio<span class="cstat-no" title="statement not covered" >n;o(f.configu</span>rati<span class="cstat-no" title="statement not covered" >on,"RelyingParty provider Op</span>enID<span class="cstat-no" title="statement not covered" > Configurati<span class="cstat-no" title="statement not covered" ></span>on is missing"),o(p.authenticate,<span class="fstat-no" title="function not covered" >"R</span>elyingParty <span class="cstat-no" title="statement not covered" >default authenticati</span>on pa</span>ram<span class="cstat-no" title="statement not covered" ></span>eters are missing"),o(h,"RelyingParty client registration is miss<span class="cstat-no" title="statement not covered" >ing");var d=<span class="cstat-no" title="statement not covered" ></span></span>f</span>.configuration.issuer,y=f.configuration.authorization_endpoint,g={client_id:h.client_id},v=Object.assign(p.authenticate</span>,g,r);return o(d,"Missing issuer in provider OpenID Configurati<span class="fstat-no" title="function not covered" >on"),o</span>(y,"<span class="cstat-no" title="statement not covered" >Missing authorization_endpoint in provid<span class="cstat-no" title="statement not covered" >er OpenID Configu</span>rati<span class="cstat-no" title="statement not covered" >on"),</span>o(v.<span class="cstat-no" title="statement not covered" >scope</span>,"Mi<span class="cstat-no" title="statement not covered" >ssing scope </span>para<span class="cstat-no" title="statement not covered" >meter </span>in a<span class="cstat-no" title="statement not covered" >uthenticatio</span>n re<span class="cstat-no" title="statement not covered" >quest"),o(v.r<span class="cstat-no" title="statement not covered" ></span>esponse_type,"Missing response_ty<span class="fstat-no" title="function not covered" >pe</span> parameter i<span class="cstat-no" title="statement not covered" >n authentication request")</span>,o(<span class="cstat-no" title="statement not covered" ></span>v</span>.client_id,"Missing client_id parameter in authentica</span>tion requ</span>est<span class="cstat-no" title="statement not covered" ></span>"),o(v.redirect</span>_u<span class="fstat-no" title="function not covered" >ri</span>,"Missing redirect<span class="cstat-no" title="statement not covered" >_<span class="fstat-no" title="function not covered" >ur</span>i parameter in authentication requ<span class="fstat-no" title="function not covered" >es</span>t"),v.s<span class="cstat-no" title="statement not covered" >tate=Array.from(a.getRa<span class="cstat-no" title="statement not covered" >ndomValues(new Uint8Array(16))),v.nonce=Array.from(a.getRa</span></span>ndomValu<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >es</span>(new Uint8Array(16))<span class="fstat-no" title="function not covered" >),</span>Promise<span class="cstat-no" title="statement not covered" >.all([a.subtle.digest({name:"SHA-256"},new U<span class="cstat-no" title="statement not covered" >int8A<span class="cstat-no" title="statement not covered" ></span>rray(v.state)),a.subtle.digest({name:"SHA-256"},new Uint8Array(v.nonce))]).then(function(e){var r=s(t.from(e[0])),i=s(t.from(e[</span>1<span class="cstat-no" title="statement not covered" ></span>])),o=d<span class="fstat-no" title="function not covered" >+"</span>/requestHistory/"+<span class="cstat-no" title="statement not covered" >r;n[o]=JSON.stringify(v),v.state=r,v.nonce=i}).t</span>he</span>n(f</span>unct<span class="cstat-no" title="statement not covered" >ion()</span>{}).<span class="cstat-no" title="statement not covered" >then(f</span>unct<span class="cstat-no" title="statement not covered" >ion(){</span>var <span class="cstat-no" title="statement not covered" >e=new </span>c(y)<span class="cstat-no" title="statement not covered" >;e.sea</span>rch=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >u.</span>encode(v),i(e.href)}<span class="fstat-no" title="function not covered" >)}</span>)}}<span class="cstat-no" title="statement not covered" >]),e}();e.ex<span class="cstat-no" title="statement not covered" ></span>ports=l}).call(t,r(25).Buffer)},function(e,t,r){e.exports=r(52).default,e.expo<span class="fstat-no" title="function not covered" >rts.de</span>fault=e.ex<span class="cstat-no" title="statement not covered" >ports},function(e,t<span class="fstat-no" title="function not covered" >,r</span>){(function(e){"use str<span class="cstat-no" title="statement not covered" >ict";functi</span>on n<span class="cstat-no" title="statement not covered" >(t,r){retur</span>n vo<span class="cstat-no" title="statement not covered" >id 0===r&amp;&amp;(r="u<span class="cstat-no" title="statement not covered" ></span>tf8"),s(e.isBuffer(t)?t.toString("base64"):new e(t,r).toString("base64"))}function i(t,r){return void 0===r&amp;&amp;(r="utf8"),new e(o(t),"base64").toString(r)}function o(e){return e=e.toString(),u.default(e).replace(/</span>\-/g,"+<span class="cstat-no" title="statement not covered" >").replace(/_/g,"/")}fu</span>ncti<span class="cstat-no" title="statement not covered" >on s(e){return e.replace(/=/g,"").repla</span>ce(/<span class="cstat-no" title="statement not covered" >\+/g,"-").replace(/\//g,"_"</span>)}fu<span class="cstat-no" title="statement not covered" >nction a(t){return new e(o(t),"base6<span class="cstat-no" title="statement not covered" ></span>4")}var u=r(53),c=n;c.encode=n,c.decode=i,c.toBase64=o,c.fromBase64=s,c.toBuffer=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c}).call(t,r(25).Buffer)},function(e,t,r){(function(e){"use strict";function r(t){var r=4,n=t.length,i=n%r;if(!i)return t;var o=n,s=r-i,a=n+s,u=new e(a);for(u.write(t);s--;)u.write("=",o++);return u.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}).call(t,r(25).Buffer)},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable<span class="fstat-no" title="function not covered" >=!</span>0),Object.defineProp<span class="cstat-no" title="statement not covered" >erty(e,n.key,n)}</span>}ret<span class="cstat-no" title="statement not covered" >urn function(t,r</span>,n){<span class="cstat-no" title="statement not covered" >return r&amp;&amp;e(t.prototype,r),<span class="cstat-no" title="statement not covered" ></span>n&amp;&amp;e(t,n),t}}(),i=function(){function e(){r(this,e)}</span>return <span class="fstat-no" title="function not covered" >n(</span>e,null,[{key:"encod<span class="fstat-no" title="function not covered" >e"</span>,value:function(e){<span class="cstat-no" title="statement not covered" >var t=[];<span class="cstat-no" title="statement not covered" ></span>return Object.keys(e).forEach(funct</span>ion</span>(r)</span>{t.push(e</span>nco<span class="cstat-no" title="statement not covered" ></span>deURIComponent(</span>r)+"="+encodeURIComponent</span>(e<span class="fstat-no" title="function not covered" >[r</span>]))}),t.join("&amp;")}<span class="cstat-no" title="statement not covered" >},{key:"decode",value:function(e){var t={};return e.split(</span>"&amp;<span class="fstat-no" title="function not covered" >")</span>.forEach(function(<span class="cstat-no" title="statement not covered" >e<span class="fstat-no" title="function not covered" >){</span>var r=e.split("="),n=decodeURIComp<span class="fstat-no" title="function not covered" >on</span>ent(r[0<span class="cstat-no" title="statement not covered" >]),i=decodeURIComponent(r[1]);t[n]=i}),t}}]),e}();e.exports=i},function(e,t){e.exports=URL},function(e,t,r){(fu</span>nction(t,<span class="fstat-no" title="function not covered" >n)</span>{"use s<span class="cstat-no" title="statement not covered" >trict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot </span>call a cl<span class="fstat-no" title="function not covered" >as</span>s as<span class="cstat-no" title="statement not covered" > a function")}var o=function(){function e(e,t){for(var r=0;r&lt;t.length;r++){var</span> n=t[r];n<span class="fstat-no" title="function not covered" >.e</span>nume<span class="cstat-no" title="statement not covered" >rable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0</span>),Object.<span class="fstat-no" title="function not covered" >de</span>fine<span class="cstat-no" title="statement not covered" >Property(e,n.key,n)}}return fu</span>nction(t<span class="cstat-no" title="statement not covered" >,r,n){</span>retu<span class="cstat-no" title="statement not covered" >rn<span class="cstat-no" title="statement not covered" ></span> r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),s=r(55),a=r(7),u=r(31),c=r(51),l=r(12),f=l.Headers?l.Headers:t.Headers,p=r(54),h=r(57),d=function(){function e(</span>){i(this,e)}return o(e,nu</span>ll<span class="fstat-no" title="function not covered" >,[</span>{key:"validateResp<span class="cstat-no" title="statement not covered" >o<span class="fstat-no" title="function not covered" >ns</span>e",value:function(e){return Promis<span class="fstat-no" title="function not covered" >e.</span>resolve(e).t<span class="cstat-no" title="statement not covered" >he</span>n(th<span class="cstat-no" title="statement not covered" >is.parseR</span>espo<span class="cstat-no" title="statement not covered" >nse).t<span class="cstat-no" title="statement not covered" ></span>hen(this<span class="cstat-no" title="statement not covered" >.matchRequ</span></span>est).th<span class="cstat-no" title="statement not covered" >en</span>(thi<span class="cstat-no" title="statement not covered" >s.vali</span>date<span class="cstat-no" title="statement not covered" >StateP</span>aram<span class="cstat-no" title="statement not covered" >).then(th<span class="cstat-no" title="statement not covered" ></span>is.errorResponse).then(<span class="cstat-no" title="statement not covered" >this.validateRespo<span class="cstat-no" title="statement not covered" >n</span></span>seMode).then(this.va<span class="cstat-no" title="statement not covered" ></span>lidateResponseParams).then(this.exchangeAuthorizationCode).then(this.v</span>alidateIDToken).then(func</span>ti<span class="fstat-no" title="function not covered" >on</span>(){return e})}},{key:"parseResponse",<span class="fstat-no" title="function not covered" >va</span>lue:fun<span class="cstat-no" title="statement not covered" >ction(e){var t=e.redire<span class="cstat-no" title="statement not covered" >ct,r=e.body;if(t&amp;&amp;r||!t&amp;&amp;!r)throw new Error("Invalid respo</span></span>nse mode<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >")</span>;if(t){var n=new s(t<span class="fstat-no" title="function not covered" >),</span>i=n.sea<span class="cstat-no" title="statement not covered" >rch,o=n.hash;if(i&amp;&amp;o)throw new Error("Invali<span class="cstat-no" title="statement not covered" >d res<span class="cstat-no" title="statement not covered" ></span>ponse mode");i&amp;&amp;(e.params=p.decode(i.substring(1)),e.mode="query"),o&amp;&amp;(e.params=p.decode(o.substring(1)),e.mode="fragment")}ret</span>u<span class="cstat-no" title="statement not covered" ></span>rn r&amp;&amp;(<span class="fstat-no" title="function not covered" >e.</span>params=p.decode(r)<span class="cstat-no" title="statement not covered" >,e.mode="form_post"),e}},{key:"matchRequest",val</span>ue</span>:fu</span>ncti<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >on</span>(e){var t=e.rp,r=e.p<span class="fstat-no" title="function not covered" >ar</span>ams<span class="cstat-no" title="statement not covered" >,n=e.session<span class="cstat-no" title="statement not covered" ></span>,i=r.state,o=t.provider.configuration.issuer;if(!i)throw new Error("Missing st<span class="fstat-no" title="function not covered" >ate pa</span>rameter in a<span class="cstat-no" title="statement not covered" >uth<span class="cstat-no" title="statement not covered" ></span>entication response");var s=o+<span class="fstat-no" title="function not covered" >"/</span>requestHisto<span class="cstat-no" title="statement not covered" >ry/"+i,a=n[s];if(!a)throw new Error("Mismatching state parameter</span> in authenticati</span>on response");return e.request=JSON.parse(a),e}},{key:"validate<span class="fstat-no" title="function not covered" >StateP</span>aram",value:<span class="cstat-no" title="statement not covered" >fun<span class="cstat-no" title="statement not covered" ></span>ction(e){var t=new Uint8Arra<span class="fstat-no" title="function not covered" >y(</span>e.request.state),r=e<span class="cstat-no" title="statement not covered" >.params.state</span>;ret<span class="cstat-no" title="statement not covered" >urn u.subtle.digest({name</span>:"SH<span class="cstat-no" title="statement not covered" >A-256"},t).then(function(<span class="cstat-no" title="statement not covered" ></span>t){if(r!==</span>c(n.fr</span>om(t)))th</span>row<span class="cstat-no" title="statement not covered" ></span> new Error("Mis</span>ma<span class="fstat-no" title="function not covered" >tc</span>hing state para<span class="cstat-no" title="statement not covered" >meter in authenti</span>ca<span class="fstat-no" title="function not covered" >ti</span>on response");retu<span class="cstat-no" title="statement not covered" >r<span class="fstat-no" title="function not covered" >n </span>e})}},{key:"errorResponse",value:func<span class="fstat-no" title="function not covered" >ti</span>on(e){v<span class="cstat-no" title="statement not covered" >ar t=e.params.error;ret<span class="cstat-no" title="statement not covered" >urn t?Promise.reject(t):Promise.resolve(e)}},{key:"validat</span></span>eRespons<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >eM</span>ode",value:function(<span class="fstat-no" title="function not covered" >e)</span>{if("co<span class="cstat-no" title="statement not covered" >de"!==e.request.response_type&amp;&amp;"query"===e.m<span class="cstat-no" title="statement not covered" >ode)t<span class="cstat-no" title="statement not covered" ></span>hrow new Error("Invalid response mode");return e}},{key:"validateResponseParams",value:function(e){var t=e.request,r=e.params,n</span>=<span class="cstat-no" title="statement not covered" ></span>t.respo<span class="fstat-no" title="function not covered" >ns</span>e_type.split(" ");<span class="cstat-no" title="statement not covered" >return n.includes("code")&amp;&amp;a(r.code,"Missing aut</span>ho</span>riz</span>atio<span class="cstat-no" title="statement not covered" >n code</span> in <span class="cstat-no" title="statement not covered" >authe</span>ntic<span class="cstat-no" title="statement not covered" >ation </span>resp<span class="cstat-no" title="statement not covered" >onse")</span>,n.i<span class="cstat-no" title="statement not covered" >nclude</span>s("i<span class="cstat-no" title="statement not covered" >d_token")&amp;&amp;a(r.id_token,"Missing i</span>d_to<span class="cstat-no" title="statement not covered" >ken in</span> aut<span class="cstat-no" title="statement not covered" >hentic</span>atio<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >n </span>response"),n.include<span class="fstat-no" title="function not covered" >s(</span>"to<span class="cstat-no" title="statement not covered" >ken")&amp;&amp;(a(r.<span class="cstat-no" title="statement not covered" ></span>access_token,"Missing access_token in authentication response"),a(r.token_type,"Missing <span class="fstat-no" title="function not covered" >token_</span>type<span class="cstat-no" title="statement not covered" > in authentication response")),e}},{key:"exchangeAuthorizationCode",value:function(e){var t=e.rp,r=e.params,i=e.request,o=r.code;if(!o||"code"!==i.response_type)return Promise.resolve(e);var s=t.provider,u=t.registration,c=u.client_id,h=u.client_secret;if(!h)throw <span class="fstat-no" title="function not covered" >ne</span>w Authentic<span class="cstat-no" title="statement not covered" >ationError</span>("C</span>lient cannot exchange authorization code because it is not a confident<span class="fstat-no" title="function not covered" >ial cl</span>ient");var d<span class="cstat-no" title="statement not covered" >=s.configur</span>atio<span class="cstat-no" title="statement not covered" >n.token<span class="cstat-no" title="statement not covered" ></span>_endpoint,y="POST",g=new<span class="cstat-no" title="statement not covered" > f({"Content-Type":"application/x-www-for<span class="cstat-no" title="statement not covered" >m</span></span>-urlencoded"}),<span class="cstat-no" title="statement not covered" >v=p.encod</span>e({g<span class="cstat-no" title="statement not covered" >rant_type</span>:"au<span class="cstat-no" title="statement not covered" >thoriza<span class="cstat-no" title="statement not covered" ></span>tion_code",c<span class="cstat-no" title="statement not covered" >ode:o,redirect_uri:i.redirect_uri}),m=u.t<span class="cstat-no" title="statement not covered" >o</span></span>ken_endpoint_auth_method||"client_secret_basic";if("client_secret_basic"===m){var w=new n(c+":"+h).toString("base64");g.set("A<span class="cstat-no" title="statement not covered" ></span>u</span>thorization","Basic "+w)}return"client_secret_post"===m&amp;&amp;(v.cl</span>ient_id=c,v.client_secret=h),l(d,{method:y,headers:g,body:v}).then(fu<span class="fstat-no" title="function not covered" >nction</span>(e){return e<span class="cstat-no" title="statement not covered" >.json</span>()})<span class="cstat-no" title="statement not covered" >.then(fun</span>ctio<span class="cstat-no" title="statement not covered" >n(t){retur</span>n a(<span class="cstat-no" title="statement not covered" >t.access</span>_tok<span class="cstat-no" title="statement not covered" >en,"Missing access_token in toke<span class="cstat-no" title="statement not covered" ></span>n respon<span class="cstat-no" title="statement not covered" >se"),a(t.token_type,"Missing token_type in token response"),a(t.id_toke</span></span>n,"Miss<span class="cstat-no" title="statement not covered" >ing id_token in token respo</span>nse"<span class="cstat-no" title="statement not covered" >),e.p<span class="cstat-no" title="statement not covered" ></span>arams=Ob<span class="cstat-no" title="statement not covered" >ject.assign(e.params,t),e})}},{key:"validateIDToken",value:function(t){var<span class="cstat-no" title="statement not covered" > </span></span>r=t.params.id_token;if(!r)return Pro</span>mise.resolve(t);var n=t.rp,i=n.provider;n.registration,i.configuration,i.jw<span class="fstat-no" title="function not covered" >ks;ret</span>urn Promise.<span class="cstat-no" title="statement not covered" >resolve(t).then(e.decryptIDToken</span>).th<span class="cstat-no" title="statement not covered" >en(e.decodeIDTo<span class="cstat-no" title="statement not covered" ></span>ken).then(e.validateIssuer).then(e.validateAudience)<span class="fstat-no" title="function not covered" >.t</span>hen(e.resolv<span class="cstat-no" title="statement not covered" >eKeys).then(e.verifySign<span class="cstat-no" title="statement not covered" >ature).then(e.validateExpires).then(e.verifyNonce).then(e.validateACR).the<span class="cstat-no" title="statement not covered" >n</span></span>(e.valida</span>teA</span>uthTime).then(e.validateAccessTokenHash).then(e.validateCodeHash)}},{k<span class="fstat-no" title="function not covered" >ey:"de</span>cryptIDToken<span class="cstat-no" title="statement not covered" >",value:functio<span class="cstat-no" title="statement not covered" ></span>n(e){return Promise.resolve(e)}},{key:"decodeIDToke</span>n",value:function(e){var t=e.params.id_token;return t&amp;&amp;(e.decoded=h.decode(t)<span class="fstat-no" title="function not covered" >),e}},</span>{key<span class="cstat-no" title="statement not covered" >:"validateIssuer",value:function(e){var t=e.rp.provider.config<span class="cstat-no" title="statement not covered" >uration,r=e.decoded.payload;if(r.iss!==t.<span class="cstat-no" title="statement not covered" >i</span></span>ssuer)thr</span>ow new Error("Mismatching issuer in ID Token");return e}},{key:"validateAudienc<span class="fstat-no" title="function not covered" >e",val</span>ue:function(<span class="cstat-no" title="statement not covered" >e){var t=e</span>.rp.<span class="cstat-no" title="statement not covered" >registrat</span>ion,<span class="cstat-no" title="statement not covered" >r=e.decoded.payload,n=r.aud<span class="cstat-no" title="statement not covered" ></span>,i=r.azp;if("string"==typeof n&amp;&amp;n!==t.client_id)throw new Error("Mismatching audience in id_token");if(Array.isArray(n)&amp;&amp;!n.includes(t.client_id))throw new Error("Mismatching audience in id_token");if(Array.isArray(n)&amp;&amp;!i)throw new Error("Missing azp claim in id_token");if(i&amp;&amp;i!==t.client_id)throw new Error("Mismatching azp claim in id_token");ret</span>urn e}},{key:"resolveKeys",value:function(e){var t=e.rp,r=t.provider,n=(r.jwks,e.d<span class="fstat-no" title="function not covered" >ecoded</span>);return t.j<span class="cstat-no" title="statement not covered" >wks()</span>.the<span class="cstat-no" title="statement not covered" >n(functio</span>n(t)<span class="cstat-no" title="statement not covered" >{if(n.reso</span>lveK<span class="cstat-no" title="statement not covered" >eys(t))<span class="cstat-no" title="statement not covered" ></span>return Promise.resolve(e);throw new Er<span class="cstat-no" title="statement not covered" >ror("Cannot resolve signing</span></span> key fo<span class="cstat-no" title="statement not covered" >r ID Token.</span>")})<span class="cstat-no" title="statement not covered" >}},{key:"verify</span>Sign<span class="cstat-no" title="statement not covered" >ature",value</span>:fun<span class="cstat-no" title="statement not covered" >ction(e){var t=e<span class="cstat-no" title="statement not covered" ></span>.decoded<span class="cstat-no" title="statement not covered" >.header.alg,r=e.rp.registration,n=r.id_token_signed_response_alg||"RS256";if(t!==n)throw new Error("Expected ID Toke</span></span>n to be<span class="cstat-no" title="statement not covered" > signed with "+n);return e.deco</span>ded.<span class="cstat-no" title="statement not covered" >verify(</span>).th<span class="cstat-no" title="statement not covered" >en(function(t){if(!t)throw new Error("Invalid ID Token signatur</span>e");<span class="cstat-no" title="statement not covered" >return e})}},{key:"validateExpires",value:function(e){var t=e.decoded.payload.exp;if(t</span>&lt;=Ma<span class="cstat-no" title="statement not covered" >th.floor(Date.now()/1e3))throw new Error("Expired ID T<span class="cstat-no" title="statement not covered" ></span>oken");return e}},{key:"verifyNonce",value<span class="cstat-no" title="statement not covered" >:function(e){var t=new Uint8Array(e.re<span class="cstat-no" title="statement not covered" ></span>quest.nonce),r=e.decoded.payload.nonce<span class="cstat-no" title="statement not covered" ></span>;</span>if(!r)throw new Error("Missing nonce in ID Token");return u.subtle.digest({name:"SHA-256"},t).then(function(t){if(r!==c(n.<span class="fstat-no" title="function not covered" >fr</span>om(t)))throw<span class="cstat-no" title="statement not covered" > new Error("Misma</span>tching <span class="fstat-no" title="function not covered" >no</span>nce in ID To<span class="cstat-no" title="statement not covered" >ken");return e})}},{key:"validateAcr",value:function(e){return e}},{key:"validateAccessTokenHash",value:function(e){return e}},{key:"validateAuthorizationCodeHash",value:function(e){return e}}]),e}();e.exports=d}).call(t</span>,fu</span>nction(){return this}(),r(25).Buffer)},function(e,t,r){"use strict";func<span class="fstat-no" title="function not covered" >tion n</span>(e,t){if(!(e<span class="cstat-no" title="statement not covered" > instanceof t))thr<span class="cstat-no" title="statement not covered" ></span>ow new T<span class="cstat-no" title="statement not covered" >ypeError("Cannot call a cla</span></span>ss as a<span class="cstat-no" title="statement not covered" > func</span>tion<span class="cstat-no" title="statement not covered" >")}function<span class="cstat-no" title="statement not covered" ></span> i(e,t){if(!e)throw new ReferenceError("<span class="cstat-no" title="statement not covered" >t</span>his hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&amp;&amp;"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&amp;&amp;t.prototype,{constructor:{v</span>alue:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setProto<span class="fstat-no" title="function not covered" >typeOf</span>?Obj<span class="cstat-no" title="statement not covered" >ect.setPrototypeOf(e,t):e._</span>_proto__=t)}var s=function(){function e(e,t){for(var r=0;r&lt;t.length;r+<span class="fstat-no" title="function not covered" >+){var</span> n=t[r];n.en<span class="cstat-no" title="statement not covered" >umerable=n.enumera<span class="cstat-no" title="statement not covered" ></span>ble||!1,n.configurable=!0,"value"in n&amp;&amp;(n.</span>writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){r<span class="fstat-no" title="function not covered" >eturn </span>r&amp;&amp;e(t.proto<span class="cstat-no" title="statement not covered" >type,r),n&amp;&amp;e(t,n),t}}(),a=r(</span>22),<span class="cstat-no" title="statement not covered" >u=a.JWT,c=r(58),l=<span class="cstat-no" title="statement not covered" ></span>function(e){function t()<span class="cstat-no" title="statement not covered" >{return n(this,t),i(this,(t.__proto__||Object.getP<span class="cstat-no" title="statement not covered" >r</span></span>ototypeOf</span>(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"schema",get:fun<span class="fstat-no" title="function not covered" >ction(</span>){return c}}<span class="cstat-no" title="statement not covered" >]),t}(u);e.exports</span>=l},<span class="cstat-no" title="statement not covered" >function(e,t,r){"u</span>se s<span class="cstat-no" title="statement not covered" >trict"</span>;var<span class="cstat-no" title="statement not covered" > n=r(2<span class="cstat-no" title="statement not covered" ></span>2),i=n.JWTSchema,o=i.extend({properties:{header<span class="cstat-no" title="statement not covered" >:{},payload:{properties:{iss:{type:"string",format:"<span class="cstat-no" title="statement not covered" >u</span></span>rl"},sub:{type:"string",maxLength:255},auth_time:<span class="cstat-no" title="statement not covered" >{type:"integer",format:"NumericDate"},nonce:{type:"s<span class="cstat-no" title="statement not covered" >t</span></span>ring"},acr:{type:"string"},<span class="cstat-no" title="statement not covered" >amr:{type:"array",items:{type:"string"}},azp:{typ<span class="cstat-no" title="statement not covered" >e</span></span>:"string",format:"StringOrU<span class="cstat-no" title="statement not covered" >RI"}},required:["iss","sub","aud","exp","iat"]}}});e.<span class="cstat-no" title="statement not covered" >e</span></span>xports=o}</span>,function(e,t,r){"use strict";var n=r(13),i=n.JSONSchema,o=new i({ty<span class="fstat-no" title="function not covered" >pe:"ob</span>ject",proper<span class="cstat-no" title="statement not covered" >ties:</span>{pro<span class="cstat-no" title="statement not covered" >vider:{type</span>:"obj<span class="cstat-no" title="statement not covered" >ect",properties:{n</span>a<span class="cstat-no" title="statement not covered" >me:{type:"string"},ur<span class="fstat-no" title="function not covered" >l:</span>{type:"strin<span class="cstat-no" title="statement not covered" >g",format:"uri"},confi<span class="cstat-no" title="statement not covered" >guration:{},jwks:{}},requi<span class="cstat-no" title="statement not covered" >r</span></span>ed:["url"]},defaults:{type:"object",properties:{authenticate</span>:{t</span>ype:"object",properties:{redirect_uri:{type:"string",format:"uri"},respo<span class="fstat-no" title="function not covered" >nse_ty</span>pe:{type:"st<span class="cstat-no" title="statement not covered" >ring",default:"id_tok</span>en t<span class="cstat-no" title="statement not covered" >oken",enum:["code"</span>,"to<span class="cstat-no" title="statement not covered" >ken","id_token token","id_token token code<span class="cstat-no" title="statement not covered" ></span>"]},display:{<span class="cstat-no" title="statement not covered" >type:"string",default:"page",enum:["page","popup"]},scope:{t<span class="cstat-no" title="statement not covered" >y</span></span>pe:["string","array"],default:<span class="fstat-no" title="function not covered" >["</span>openid"]}}},<span class="cstat-no" title="statement not covered" >register<span class="cstat-no" title="statement not covered" >:{}}},registration:{},store:{type:"object",def<span class="cstat-no" title="statement not covered" >a</span></span>ult:{}}}}</span>);e</span>.exports=o},function(e,t,r){"use strict";function n(e){var t=arguments.l<span class="fstat-no" title="function not covered" >ength&gt;</span>1&amp;&amp;void 0!==<span class="cstat-no" title="statement not covered" >arguments[1]?arguments<span class="cstat-no" title="statement not covered" ></span>[1]:{};this.rdf=e,this.vocab=h(e),this.<span class="cstat-no" title="statement not covered" >config=Object.assign(a,t),this.auth=<span class="cstat-no" title="statement not covered" >t</span></span>.auth}fun</span>ction i(e,t){return new n(e,t)}var o="text/turtle;q=0.8,*/*;q=0.5",s<span class="fstat-no" title="function not covered" >="text</span>/turtle",a=r<span class="cstat-no" title="statement not covered" >(61),u=r(62).composePatchQuery,c</span>=r(6<span class="cstat-no" title="statement not covered" >3),l=r(65),f=r(69),p=r(7<span class="cstat-no" title="statement not covered" ></span>1),h=r(6<span class="cstat-no" title="statement not covered" >6);n.prototype.createContainer=function(e,t,r<span class="cstat-no" title="statement not covered" >,</span></span>n){return this.post(e,n,t,!0)},n.prototype.createRe<span class="fstat-no" title="function not covered" >sp</span>onse=functio<span class="cstat-no" title="statement not covered" >n(e,t){var r=new c(this.<span class="cstat-no" title="statement not covered" >rdf,e,t);return"get"===r.method&amp;&amp;r.isContainer()?<span class="cstat-no" title="statement not covered" >n</span></span>ew l(this</span>.rd</span>f,r.url,r):r},n.prototype.currentUrl=function(){return"undefined"!=t<span class="fstat-no" title="function not covered" >ypeof </span>wind<span class="cstat-no" title="statement not covered" >ow?window.</span>location.href:null},n.prototype.del=function(e){return this.solidRequest(e,"DELE<span class="fstat-no" title="function not covered" >TE")},</span>n.pr<span class="cstat-no" title="statement not covered" >ototype.ge</span>t=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{};return t<span class="fstat-no" title="function not covered" >.heade</span>rs=t<span class="cstat-no" title="statement not covered" >.headers||</span>{},t.head</span>ers<span class="cstat-no" title="statement not covered" ></span>.Accept||(t.hea</span>ders.Accep<span class="fstat-no" title="function not covered" >t=</span>o),this.sol<span class="cstat-no" title="statement not covered" >idRequest(e,"</span>GET",t)},n.prototyp</span>e.<span class="fstat-no" title="function not covered" >he</span>ad=function(e,t){return this.solidReques<span class="fstat-no" title="function not covered" >t(</span>e,"HEAD<span class="cstat-no" title="statement not covered" >",t)},n.prototype.loadP<span class="cstat-no" title="statement not covered" >arsedGraphs=function(e,t){var r=this,n=e.map(function(e){v</span></span>ar n;retu<span class="fstat-no" title="function not covered" >rn</span> r.get(<span class="cstat-no" title="statement not covered" >e,t).the<span class="cstat-no" title="statement not covered" >n(function(e){return n=e.url,e.parsedGraph()}).catch(function(){return null}).then(fun<span class="cstat-no" title="statement not covered" >c</span></span>tion(e){return{uri:n,value:e}})});return Promise.all(n)},n.prototype</span>.needsPro<span class="fstat-no" title="function not covered" >xy</span>=functi<span class="cstat-no" title="statement not covered" >on(e){var t=this.currentUrl(),r=t&amp;&amp;"https:<span class="cstat-no" title="statement not covered" >"===t.slice(0,6),n=e&amp;&amp;"http:"===e.slice(0,5);return r&amp;&amp;n},n.prototype.options=function(e){r<span class="cstat-no" title="statement not covered" >e</span></span>turn this.solidRequest(e,"OPTIONS")},n.prototype.patch=function(e,t,r,n){var i=u(t,r),o="application/sparql-update";return n=n||{},n.headers=n.headers||{},n.headers["Content-Type"]=o,this.solidRequest(e,</span>"PATCH",<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >n,</span>i)},n.prototype.post<span class="fstat-no" title="function not covered" >=f</span>unction<span class="cstat-no" title="statement not covered" >(e,t,r,n,i){var o;n?(o=this.vocab.ldp("Basic<span class="cstat-no" title="statement not covered" >Conta<span class="cstat-no" title="statement not covered" ></span>iner"),i="text/turtle"):(o=this.vocab.ldp("Resource"),i=i||s);var a={};return a.headers={},a.headers.Link=o+'; rel="type"',a.he</span>a<span class="cstat-no" title="statement not covered" ></span>ders["C<span class="fstat-no" title="function not covered" >on</span>tent-Type"]=i,r&amp;&amp;r<span class="cstat-no" title="statement not covered" >.length&gt;0&amp;&amp;(a.headers.Slug=r),this.solidRequest(</span>e,</span>"PO</span>ST",<span class="cstat-no" title="statement not covered" >a,t)},</span>n.pr<span class="cstat-no" title="statement not covered" >ototyp</span>e.pr<span class="cstat-no" title="statement not covered" >oxyUrl</span>=fun<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >ct</span>ion(e,t){return t=t||<span class="fstat-no" title="function not covered" >th</span>is.<span class="cstat-no" title="statement not covered" >config.proxyUrl,t.replace("{uri}",encodeURIComponent(e))},n.prototype.put=function(e,t,r,n){re<span class="cstat-no" title="statement not covered" ></span>turn n=n||{},n.headers=n.headers||{},r=r||s,n.headers["Content-Type"]=r,this.solidReq<span class="fstat-no" title="function not covered" >uest</span>(e,<span class="cstat-no" title="statement not covered" >"PUT",n,t)</span>},n.proto</span>type<span class="cstat-no" title="statement not covered" ></span>.solidRequest=f</span>un<span class="fstat-no" title="function not covered" >ct</span>ion(e,t,r,n){r=r||{},r.headers=r.header<span class="cstat-no" title="statement not covered" >s||{},</span>this<span class="cstat-no" title="statement not covered" >.auth&amp;&amp;this.</span>auth<span class="cstat-no" title="statement not covered" >.accessToken&amp;&amp;(r.headers.Authorization="Bearer "+this.auth.accessToken),r.proxyUrl=r.proxyUrl||this.config.proxyUrl,r.timeout=r.timeout||this.config.timeout,(this.needsProxy(e)||r.forceProxy)&amp;&amp;(e=this.proxyUrl(e));var i=this;return new Promise(function(o,s){var a=new f;a.open(t,e),r.noCredentials||(a.withCredentials=!0);for(var u in r.headers)a.setRequestHeader(u,r.headers[u]);r.timeout&amp;&amp;(a.timeout=r.<span class="cstat-no" title="statement not covered" ></span>timeout),a.onlo</span>ad<span class="fstat-no" title="function not covered" >=f</span>unction(){this.status&gt;=200&amp;&amp;this.status<span class="cstat-no" title="statement not covered" >&lt;300?o</span>(i.c<span class="cstat-no" title="statement not covered" >reateResponse</span>(thi<span class="cstat-no" title="statement not covered" >s,t)):s(new p(this.status,this.statusText,{xhr:this}))},a.onerror=function(){s(new p(this.status,this.statusText,{xhr:this}))},"undefined"!=typeof n&amp;&amp;n?a.send(n):a.send()})},e.exports=i,e.exports.SolidWebClient=n},function(e,t){"use strict";e.exports={proxyUrl:"https://databox.me/,proxy?uri={uri}",timeout:5e4}},function(e,t){"use strict";function r(e,t){return t&amp;&amp;"http"!==t.slice(0,4)?[e,t].map(function(e){return"/"===e[0]&amp;&amp;(e=e.slice(1)),"/"===e[e.length-1]&amp;&amp;(e=e.slice(0,e.length-1)),e}).join("/"):t}function n(e,t){var r="",n=!0;return e&amp;&amp;e.length&gt;0&amp;&amp;(e=e.map(function(e){return a(e,n)}),r+="DELETE DATA { "+e.join(" . ")+" };\n"),t&amp;&amp;t.length&gt;0&amp;&amp;(t=t.map(function(e){ret<span class="cstat-no" title="statement not covered" ></span>urn a(e,n)}),r+</span>="<span class="fstat-no" title="function not covered" >IN</span>SERT DATA { "+t.join(" . ")+" };\n"),r}f<span class="fstat-no" title="function not covered" >un</span>ction i(e){v<span class="cstat-no" title="statement not covered" >ar t,r,n,i,o=e.split("//");return 2===o.length?(t=o[0],r=o[1]):r=e,i<span class="cstat-no" title="statement not covered" ></span>=r.split("/"),n=t?t+"//"+i[0]:i[0],e.startsWith("//")&amp;&amp;(n="//"+n),n}function o(e,t){var </span>r={};if(e<span class="fstat-no" title="function not covered" >){</span>var n=e<span class="cstat-no" title="statement not covered" >.split(",");n.forEac</span>h(functi<span class="cstat-no" title="statement not covered" >on(t){t&amp;&amp;e.indexOf(t)&gt;=0&amp;&amp;(r[t</span>.tri<span class="cstat-no" title="statement not covered" >m().toLowerCas</span>e()]<span class="cstat-no" title="statement not covered" >=!0)})</span>}ret<span class="cstat-no" title="statement not covered" >urn t&amp;&amp;t.indexOf("applic</span>atio<span class="cstat-no" title="statement not covered" >n/spar</span>ql-u<span class="cstat-no" title="statement not covered" >pdate"</span>)&gt;=0<span class="cstat-no" title="statement not covered" >&amp;&amp;(r.p</span>atch<span class="cstat-no" title="statement not covered" >=!0),r</span>}fun<span class="cstat-no" title="statement not covered" >ction <span class="cstat-no" title="statement not covered" ></span>s(e){if(!e)return{};for(var t=<span class="fstat-no" title="function not covered" >/&lt;</span>[^&gt;]*&gt;\s*(\s*;\s*[^\(<span class="cstat-no" title="statement not covered" >\)&lt;&gt;@,;:"\/\[\]\?={} \t]+=(([^\</span>(\)&lt;&gt;@,;:"\/\[\]\?={} \t]+)|("[<span class="fstat-no" title="function not covered" >^"</span>]*")))*(,|$)/g,r=/[^\(\<span class="cstat-no" title="statement not covered" >)&lt;&gt;@,;:"\/\[\]\?={} \t<span class="cstat-no" title="statement not covered" ></span>]+=(([^\(\)&lt;&gt;@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,n=e.match(t),i={},o=0;o&lt;n.len</span>gth;o++)for(var s=n[o].spli<span class="fstat-no" title="function not covered" >t(</span>"&gt;"),a=s[0]<span class="cstat-no" title="statement not covered" >.substring(1),u=s[1],c=u.match(r),l=0;l&lt;c.length;l++){var f=c[l],p=</span>f.split("="),h=p[1].<span class="fstat-no" title="function not covered" >re</span>place(/["']/<span class="cstat-no" title="statement not covered" >g,"");i[h]||(i[h]=[]),i[h].push(a),i[h]</span>.length&gt;1&amp;&amp;i[h].sort<span class="fstat-no" title="function not covered" >()</span>}return i}function a<span class="cstat-no" title="statement not covered" >(e,t){return"string"!=typeof e&amp;&amp;(e=e.toCanonical()),t&amp;&amp;e.endsWith(".<span class="cstat-no" title="statement not covered" ></span>")&amp;&amp;(e=e.slice(0,-1)),e}e.exports.absoluteUrl=r,e.exports.composePatchQuery=n,e.exports.hostname=i,e.exports.par</span>seAllowedMethods=o,e.<span class="fstat-no" title="function not covered" >ex</span>ports.parseLink<span class="cstat-no" title="statement not covered" >Header=s,e.exports.statementToNT=a},func</span>tion(e,t,r){"use strict";function<span class="fstat-no" title="function not covered" > n</span>(e,t,r){if(!t)return th<span class="cstat-no" title="statement not covered" >is.xh</span>r=nu<span class="cstat-no" title="statement not covered" >ll,thi<span class="fstat-no" title="function not covered" >s.</span>user="",this.metho<span class="cstat-no" title="statement not covered" >d=null,this.types=[],voi<span class="fstat-no" title="function not covered" >d(</span>this.graph=n<span class="cstat-no" title="statement not covered" >ull);this.rdf=e;var n=t.getResponse</span>Header("<span class="fstat-no" title="function not covered" >Li</span>nk");this.l<span class="cstat-no" title="statement not covered" >inkHeaders=i.</span>parseLi<span class="fstat-no" title="function not covered" >nk</span>Header(n)||{<span class="cstat-no" title="statement not covered" >},r=r?r.toLowerCase():"",this</span>.me</span>th<span class="cstat-no" title="statement not covered" ></span>od=r,this.acl=this.link</span>Headers.acl,this.acl&amp;&amp;(this<span class="fstat-no" title="function not covered" >.a</span>cl=this.acl[0]),this<span class="cstat-no" title="statement not covered" >.allowedMethods=th</span>is.p<span class="cstat-no" title="statement not covered" >arseAllowedMethods(t,r),this.gra</span>ph=n<span class="cstat-no" title="statement not covered" >ull,this.meta=this.linkHeaders.<span class="cstat-no" title="statement not covered" ></span>meta||this.link</span>Headers.describedBy,this<span class="fstat-no" title="function not covered" >.m</span>eta&amp;&amp;(this.m<span class="cstat-no" title="statement not covered" >eta=this.meta[0]),this.types=this.typeLi</span>nkHeaders(),this.url=t<span class="fstat-no" title="function not covered" >.g</span>etResponseHeader("Location")?<span class="cstat-no" title="statement not covered" >i.absolu</span>teUr<span class="cstat-no" title="statement not covered" >l(i.hostname(t.responseURL),<span class="cstat-no" title="statement not covered" ></span>t.getResponseHeader("Location")):t.responseURL,this.user=t.getResponseHeader("User")||"",this.websocket=t.getResponse</span>Header("Updates-Via")<span class="fstat-no" title="function not covered" >||</span>"",this.xhr=t}e.exports=n;var <span class="cstat-no" title="statement not covered" >i=r(62),o=r(64);n.prototype.aclAbsoluteUrl=function(){return this.acl?this.resolveMetaOrAclUrl("acl"):null},n.</span>prototy<span class="cstat-no" title="statement not covered" >pe.<span class="cstat-no" title="statement not covered" ></span>contentType=function(){return this.xhr?this.xhr.getResponseHeader("Content-Type").split(";")[0]:null},n.prototype.exists=function(){return this.xhr&amp;&amp;this.xhr.status&gt;=200&amp;</span>&amp;this.xhr.status&lt;400},n.p<span class="fstat-no" title="function not covered" >ro</span>totype.isContai<span class="cstat-no" title="statement not covered" >ner=function(){return this.isType("http://www.w3.org/ns/ldp#Container")||this.isT</span>ype("http://www.w3.o<span class="fstat-no" title="function not covered" >rg</span>/ns/ldp#BasicContaine<span class="cstat-no" title="statement not covered" >r")},n.prototype.isLoggedIn=function(){return this.user},n.prototype.isType=function(e){return this.types.indexOf(e)!==-1},n.pr</span>ototype.metaAbsoluteUrl=funct<span class="fstat-no" title="function not covered" >io</span>n(){return this.meta?<span class="cstat-no" title="statement not covered" >this.resolveMetaOrAclUrl("meta"):null},n.prototype.parseAllowedMethods=function(e,t){return"get"===t?{}:i.parseAllowedMethods(e.getResponseHeader("Allow"),e.getResponseHeader("Accept-Patch"))},n.prototype.parsedGraph=function(){return this.graph||(this.graph=o.parseGraph(this.rdf,this.url,this.raw(),t</span>his.con<span class="cstat-no" title="statement not covered" >tentT<span class="cstat-no" title="statement not covered" ></span>ype())),this.graph}<span class="fstat-no" title="function not covered" >,n</span>.prototype.raw=function<span class="cstat-no" title="statement not covered" >(){retur<span class="cstat-no" title="statement not covered" ></span>n this.xhr?this.xhr.response:null},n.prototype.resolveMeta<span class="cstat-no" title="statement not covered" >O</span>rAclUrl=function(e){if(!<span class="cstat-no" title="statement not covered" >this.url)return null;var t=this[e],r<span class="cstat-no" title="statement not covered" >=</span></span>this.url.slice(0,this.url.lastIndexOf("/")+1);re<span class="fstat-no" title="function not covered" >tu</span>rn i.absolu<span class="cstat-no" title="statement not covered" >teUrl(r,t)},n.prototype.typeLinkHeaders=function(){if(!Array.isArray(this.linkHeaders.type))return[];var e=new Set(this.linkHead</span>ers.type||[]);<span class="fstat-no" title="function not covered" >re</span>turn Array.<span class="cstat-no" title="statement not covered" >from(e)}},function(e,t){"use strict";function r(e,t,r){</span>t.statementsMatching(a).forEach(function(t){e.add(t.sub</span>jec</span>t,t.predicate,t.object,t.why)})}function n(e,t)</span>{v<span class="fstat-no" title="function not covered" >ar</span> r=e.graph();return t.forEac<span class="cstat-no" title="statement not covered" >h(function(e){r.addStatement(e)}),r}function i(e,t,r,n){var i=e.graph();return </span>e.<span class="fstat-no" title="function not covered" >pa</span>rse(r,i,t,n),i}function o(e,t,r,n,i){<span class="fstat-no" title="function not covered" >va</span>r o={},<span class="cstat-no" title="statement not covered" >s=e.statementsMatching(t,r,n,i);return s.forEach(f<span class="fstat-no" title="function not covered" >un</span>ction(e){o[e<span class="cstat-no" title="statement not covered" >.object.uri]=!0}),Object.keys(o)}function s(e){var t=e.map(function(e){return e.toNT()});return t=t.joi</span>n("\n")}e.exports</span>.appendGr<span class="fstat-no" title="function not covered" >ap</span>h=r,e.exports.p<span class="cstat-no" title="statement not covered" >ars</span>eGra<span class="cstat-no" title="statement not covered" >ph=<span class="cstat-no" title="statement not covered" ></span>i,e.exports.parseLinks=o,e.exports.seri<span class="fstat-no" title="function not covered" >al</span>izeStatement<span class="cstat-no" title="statement not covered" >s=s,e.exports.gr</span>aphFromStatements=n;var a=null},function(e,t,r){"use strict";function n(e,t,r){a.call<span class="fstat-no" title="function not covered" >(t</span>his,t,r),thi<span class="cstat-no" title="statement not covered" >s.containers={},</span>this.contentsUris=[],this.rdf=e,this.resources={},this.v</span>ocab=s(e)<span class="fstat-no" title="function not covered" >,r</span>&amp;&amp;this.initFromRespo<span class="cstat-no" title="statement not covered" >nse(this.uri,r<span class="cstat-no" title="statement not covered" ></span>)}e.exports=n;var i=r(64),o=i.parseLinks,s=r(66),a=r(68);n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.prototype.appendFromG</span>raph=func<span class="fstat-no" title="function not covered" >ti</span>on(e,t){var r=t<span class="cstat-no" title="statement not covered" >his<span class="cstat-no" title="statement not covered" ></span>.rdf.namedNode(t<span class="cstat-no" title="statement not covered" >his.uri);this<span class="cstat-no" title="statement not covered" ></span>.types=Obj<span class="fstat-no" title="function not covered" >ec</span>t.keys(e.fin<span class="cstat-no" title="statement not covered" >dTypeURIs(r));var i=o(e,null,this.vocab.ldp("contains"));thi</span>s.c<span class="cstat-no" title="statement not covered" ></span>o</span>ntentsUris=this.contentsUris.concat(i.sort());var s,u=e.each(null,null,this.v</span>ocab.ldp(<span class="fstat-no" title="function not covered" >"C</span>onta<span class="cstat-no" title="statement not covered" >iner")),<span class="cstat-no" title="statement not covered" >c=this;u.f<span class="cstat-no" title="statement not covered" >o</span></span>rEach(function(t){t.uri!==c.uri&amp;&amp;(s=new n(c.rdf,t.uri),s.types=Object.keys(e.findTypeURIs(t)),c.containers[s.uri]=s)});var l,f,p,h;i.forEach(function(t){f=t in c.containers,l=t!==c.uri&amp;&amp;!f,l&amp;&amp;(p=new a(t),h=c.rdf.namedNode(t),p.types=Object.keys(e.<span class="cstat-no" title="statement not covered" >findTypeURIs(h)),c.resources[t]=p)})},n.prototype.findByType=function(e){var t,r,n=[];for(t in this.containers)r=t<span class="cstat-no" title="statement not covered" >his.c</span>onta<span class="cstat-no" title="statement not covered" >iners[t],r.is</span>Type<span class="cstat-no" title="statement not covered" >(e)&amp;&amp;n.push(r);var i;for(t<span class="cstat-no" title="statement not covered" ></span> in this.resources)i=this.resources[t],i.isType(e)&amp;&amp;n.push(i);retur<span class="cstat-no" title="statement not covered" ></span>n</span></span> n},n.pro</span>totype.in<span class="fstat-no" title="function not covered" >it</span>FromRes<span class="cstat-no" title="statement not covered" >ponse=function(e,t){var r=t.contentType();if(!r)throw new Error("Cannot parse container without a Conte<span class="cstat-no" title="statement not covered" ></span>nt-Type: header");var n=i.parseGraph(this.rdf,e,t.raw(),r);this.parsedGraph=n,this.appendFromGraph(n,e)},a.prototype.isContainer=function(){return!0},n.prototype.isEmpty=function(</span>){<span class="fstat-no" title="function not covered" >re</span>turn 0===this.contentsUris.length}},func<span class="fstat-no" title="function not covered" >ti</span>on(e,t,r){<span class="cstat-no" title="statement not covered" >"use str<span class="cstat-no" title="statement not covered" >ict";function n(e){var t=r(67)(e),n={acl:t.base("http://www.w3.org/ns/auth/acl#"),app:t.base("http://w<span class="cstat-no" title="statement not covered" >w</span></span>w.w3.org/ns/s</span>olid/ap<span class="cstat-no" title="statement not covered" >p#"),dct:t.base("http://purl<span class="cstat-no" title="statement not covered" ></span>.org/dc/terms/"),foaf:t.base("http://xmlns.com/foaf/0.1/"),ldp:t.base("http://www.w3.org/ns/ldp#"),owl:t.base("http://www.w3.org/2002/07/owl#"),pim:t.base("http://www.w3.org/ns/pim/space#"),rdf:t.base("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),rdfs:t.base("http://www.w3.org/2000/01/rdf-schema#"),schema:t.base("http://schema.org/"),sioc:t.base("http://rdfs.org/sioc/ns#"),solid:t.base("http://www.w3.org/ns/solid/terms#"),vcard:t.base("http://www.w3.org/2006/vcard/ns#"),xsd:t.base("http://www.w3.org/2001/XMLSchema#")};return n}e.exports=n},function(e,t){"use strict";function r(e){this.rdf=e}function n(e){return new r(e)}e.exports=<span class="cstat-no" title="statement not covered" ></span>n,r.prototype.b</span>ase=fun<span class="cstat-no" title="statement not covered" >ction(</span>e){v<span class="cstat-no" title="statement not covered" >ar t=t<span class="cstat-no" title="statement not covered" ></span>his;return function(r){return<span class="fstat-no" title="function not covered" > t</span>.rdf?t.rdf.<span class="cstat-no" title="statement not covered" >namedNode(e+r):e+r}}},function(e,t){"use strict";function </span>r(e,t){this.name=null,this.p<span class="fstat-no" title="function not covered" >ar</span>sedGraph=nu<span class="cstat-no" title="statement not covered" >ll,this.response=t,this.types=[],this.uri=e,t&amp;&amp;t.url!==e&amp;&amp;(this.uri=t.url),this.ini</span>tName()}e.exports=r,r.p<span class="fstat-no" title="function not covered" >ro</span>totype.init<span class="cstat-no" title="statement not covered" >Name=function(){if(this.uri){var e=this.uri.split("/");this.name=e.p</span>op(),!this.name&amp;&amp;e.length&gt;0&amp;<span class="fstat-no" title="function not covered" >&amp;(</span>this.name=e<span class="cstat-no" title="statement not covered" >.pop())}},r.prototype.isContainer=function(){return!1},r.prototype.isType=function(e){return this.types.indexOf(e)!=</span>=-1}},function(e,t,r){"use <span class="fstat-no" title="function not covered" >st</span>rict";var n<span class="cstat-no" title="statement not covered" >;n="undefined"!=ty</span>peof tabulator&amp;&amp;tabulat<span class="fstat-no" title="function not covered" >or</span>.isExtension<span class="cstat-no" title="statement not covered" >?Components.classes["@mozilla.org/xml</span>extras/xmlhttprequest;1"].create<span class="fstat-no" title="function not covered" >In</span>stance().Qu<span class="cstat-no" title="statement not covered" >eryInterface(Components.interfaces.nsIXMLHttpRequest):"undef</span>ined"!=typeof window&amp;&amp;"XMLHttpReques<span class="fstat-no" title="function not covered" >t"</span>in window?windo<span class="cstat-no" title="statement not covered" >w.XMLHttpRequest:r(70),e.exports=n},function(e,t){e.exports=XMLHttpRequest},function(e,t,r){function n(e,t,r){if("st</span>ring"==typeof e&amp;&amp;(e=a[e]),"n<span class="fstat-no" title="function not covered" >um</span>ber"!=typeo<span class="cstat-no" title="statement not covered" >f e)throw new TypeError("Non-numeric HTTP code");"object"==typeof t&amp;&amp;null!=t&amp;&amp;(r=t,t=null),o.call(this,t||s[e],r),</span>this.code=e}function<span class="fstat-no" title="function not covered" > i</span>(e){return{<span class="cstat-no" title="statement not covered" >configurable:!0,get:function(){return this[e</span>]},set:function(t){return this[e]=t}<span class="fstat-no" title="function not covered" >}}</span>t=e.exports=<span class="cstat-no" title="statement not covered" >n;var o=r(72),s<span class="cstat-no" title="statement not covered" >=r(73),a=t;n.</span></span>prototy<span class="cstat-no" title="statement not covered" >pe=Objec</span>t.cr<span class="cstat-no" title="statement not covered" >eate(o.prototype,{constructor:{value:n,configurab<span class="cstat-no" title="statement not covered" ></span>le:!0,writable:!0}}),n.proto</span>type.name="HttpError",Object.def<span class="fstat-no" title="function not covered" >in</span>eProperties<span class="cstat-no" title="statement not covered" >(n.prototype,{statusCode:i("code"),statusMe<span class="cstat-no" title="statement not covered" >ssage:i("me</span></span>ssage")<span class="cstat-no" title="statement not covered" >,status:{configurable:!0,get:function<span class="cstat-no" title="statement not covered" ></span>(){return this.code},s</span>et</span>:f<span class="fstat-no" title="function not covered" >un</span>ction(e){Object.defineProperty(this,"<span class="fstat-no" title="function not covered" >st</span>atus",{val<span class="cstat-no" title="statement not covered" >ue:e,configurable:!0,enumerable:<span class="fstat-no" title="function not covered" >!0</span>,writable:!0<span class="cstat-no" title="statement not covered" >})}}}),n.prototype.toString=function(){return th</span>is.</span>name+": "<span class="fstat-no" title="function not covered" >+t</span>his.code+" "+th<span class="cstat-no" title="statement not covered" >is.message<span class="cstat-no" title="statement not covered" ></span>};for(var u in s)<span class="fstat-no" title="function not covered" >{v</span>ar c=s[u];t[<span class="cstat-no" title="statement not covered" >c.replace("'","").r</span>eplace</span>(/[- ]/g,<span class="fstat-no" title="function not covered" >"_</span>").toUpperCase()]=+u}<span class="cstat-no" title="statement not covered" >},function<span class="cstat-no" title="statement not covered" ></span>(e,t){function r(e,t){if(e&amp;&amp;"ob</span>ject"==ty<span class="fstat-no" title="function not covered" >pe</span>of e?(t=e,e=void 0):this<span class="cstat-no" title="statement not covered" >.me</span>ssag<span class="cstat-no" title="statement not covered" >e=e,t)for(var r in t)this[r]=t[r]<span class="cstat-no" title="statement not covered" ></span>;n.call(this,"nam<span class="fstat-no" title="function not covered" >e"</span>)||(this.nam<span class="cstat-no" title="statement not covered" >e=n.call(i(this),"name</span>")?this.name:this.c</span>onstructo<span class="fstat-no" title="function not covered" >r.</span>name),!o||"s<span class="cstat-no" title="statement not covered" >tack"i<span class="fstat-no" title="function not covered" >n </span>this||o(this<span class="cstat-no" title="statement not covered" >,this.constructor</span>)}<span class="cstat-no" title="statement not covered" ></span>var n=Object.hasOwnProper<span class="cstat-no" title="statement not covered" ></span>ty,i=Object.getPrototypeOf,o=Error.captureStackTrace;e.exports=r,r.prototype=Object.create(Error.prototype,{constructor:{value:r,configurable:!0,writ</span>able:!0<span class="cstat-no" title="statement not covered" >}}),r</span>.pr<span class="fstat-no" title="function not covered" >ot</span>otype.name="StandardError"},function(e,t<span class="fstat-no" title="function not covered" >){</span>e.exports=<span class="cstat-no" title="statement not covered" >{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset <span class="cstat-no" title="statement not covered" ></span>Content",206:"P</span>artial <span class="cstat-no" title="statement not covered" >Conten</span>t",2<span class="cstat-no" title="statement not covered" >07:"Multi-Sta</span>tus"<span class="cstat-no" title="statement not covered" >,208:"</span>Alre<span class="cstat-no" title="statement not covered" >ady Re<span class="cstat-no" title="statement not covered" ></span>ported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:<span class="fstat-no" title="function not covered" >"N</span>ot Modified",305:"Use P<span class="cstat-no" title="statement not covered" >roxy",307:"Temporary Redirect<span class="cstat-no" title="statement not covered" ></span>",308:"Permanent Redirect",400:"Bad Request",</span>401:"Un<span class="cstat-no" title="statement not covered" >authorized",402:"Payment Required",403:<span class="cstat-no" title="statement not covered" ></span>"Forbidden",404:"Not Found",405:"Method Not Allowed",406</span>:"Not Acc<span class="cstat-no" title="statement not covered" >eptable",407:"Proxy Authentication Required",408</span>:"Re<span class="cstat-no" title="statement not covered" >quest<span class="cstat-no" title="statement not covered" ></span> Timeout",<span class="fstat-no" title="function not covered" >40</span>9:"Conflict"<span class="cstat-no" title="statement not covered" >,410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsup</span>por</span>ted Media Type<span class="cstat-no" title="statement not covered" >",416:"Ran<span class="fstat-no" title="function not covered" >ge</span> Not Satisfi<span class="cstat-no" title="statement not covered" >able",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordere</span>d C</span>ollection",426:"Upgrade Req<span class="fstat-no" title="function not covered" >ui</span>red",428:"Precondition R<span class="cstat-no" title="statement not covered" >equ<span class="cstat-no" title="statement not covered" ></span>ired",429:"Too Many Request<span class="cstat-no" title="statement not covered" >s",431:"Request Header Fields Too Large",500:"Inte</span></span>rnal <span class="cstat-no" title="statement not covered" >Server Error",501:"Not Imp<span class="cstat-no" title="statement not covered" >lemented",502:"Bad Gateway",503:"Service Unavail<span class="cstat-no" title="statement not covered" >a</span></span>ble",504:</span>"Gateway Timeout",505:"HTTP Versi<span class="fstat-no" title="function not covered" >on</span> Not Supported",506:"Va<span class="cstat-no" title="statement not covered" >riant Also Negot<span class="cstat-no" title="statement not covered" ></span>iates",5<span class="cstat-no" title="statement not covered" >07:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceede</span></span>d",510:<span class="cstat-no" title="statement not covered" >"Not Extended",511:"Network Authentica<span class="cstat-no" title="statement not covered" ></span>tion Required"}},function(e,t,r){"use strict";func</span>tion n(e,t){this.webClient=e<span class="fstat-no" title="function not covered" >,t</span>his.config=<span class="cstat-no" title="statement not covered" >t||i}e.expo</span>rts=n;var i=r(75);n.prot<span class="fstat-no" title="function not covered" >ot</span>ype.current<span class="cstat-no" title="statement not covered" >User=function(){if("undefined"==typeof </span>wi</span>nd<span class="fstat-no" title="function not covered" >ow</span>)return null;var e=window.location.href;<span class="fstat-no" title="function not covered" >re</span>turn this.lo<span class="cstat-no" title="statement not covered" >gin(e).ca</span>tch(<span class="cstat-no" title="statement not covered" >function(e){return console.log("Detecting current user failed: %o",e),null})},n.prototype.listen=function(){var e=new Promise(function(e,t){var r=window.addEventListener?"addEventListener":"attachEvent",n=window[r],i="attachEvent"===r?"onmessage":"message";n(i,function(r){var n=r.data;if("User:"===n.slice(0,5)){var i=n.slice(5,n.length);return i&amp;&amp;i.length&gt;0&amp;&amp;"http"===i.slice(0,4)?e(i):t(i)}},!0)});return e},n.prototype.login=function(e,t){var r=this.config.authEndpoint;e=e||window.location.origin+window.location.pathname,t=t||r;var n=this.webClient;return n.head(e).then(function(e){return e.isLoggedIn()?e.user:n.head(t).then(function(e){return e.user})})},n.pro<span class="cstat-no" title="statement not covered" ></span>totype.sig<span class="cstat-no" title="statement not covered" ></span>nup=function(e)</span>{e<span class="fstat-no" title="function not covered" >=e</span>||this.config.signupEndpoint;var t=th<span class="fstat-no" title="function not covered" >is</span>.con<span class="cstat-no" title="statement not covered" >fig.signupWind</span>owWidth,r<span class="fstat-no" title="function not covered" >=t</span>his.<span class="cstat-no" title="statement not covered" >config.signupWind<span class="cstat-no" title="statement not covered" ></span>owHeight,n=window.screen.width/2-(<span class="fstat-no" title="function not covered" >t/</span>2+10),i=window.scree<span class="cstat-no" title="statement not covered" >n.hei<span class="cstat-no" title="statement not covered" ></span>ght/2-(<span class="fstat-no" title="function not covered" >r/</span>2+50),o="Sol<span class="cstat-no" title="statement not covered" >id signup",s=e+"?origin="+encodeURIComponent(wi</span>nd</span>ow</span>.l<span class="fstat-no" title="function not covered" >oc</span>ation.origin),a="resizable,scrollbars<span class="fstat-no" title="function not covered" >,s</span>tatus,w<span class="cstat-no" title="statement not covered" >idth="+t+",height="+r+",left="+n+",top="+i;<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
wi<span class="cstat-no" title="statement not covered" >ndow.open(s,o,a);var u</span>=this;r<span class="cstat-no" title="statement not covered" >eturn<span class="cstat-no" title="statement not covered" ></span> new Promise(functi<span class="fstat-no" title="function not covered" >on</span>(e){u.listen<span class="cstat-no" title="statement not covered" >().then(function<span class="fstat-no" title="function not covered" >(t</span>){return e(t<span class="cstat-no" title="statement not covered" >)})})}},funct</span>ion</span>(e,</span>t){"<span class="fstat-no" title="function not covered" >us</span>e strict";e.exports={authEnd<span class="cstat-no" title="statement not covered" >point:"https://databox.me/",signupEndpoint:"https://solid.github.io/solid-idps/",signupWindowHeight:600,signupWindowWidth:1024}},function(e,t,r){"use strict";</span>fu<span class="fstat-no" title="function not covered" >nc</span>tion n(e,t,r){return t.options(e).then(f<span class="fstat-no" title="function not covered" >un</span>ction(e){v<span class="cstat-no" title="statement not covered" >ar r=e.metaAbsoluteUrl();<span class="fstat-no" title="function not covered" >if</span>(!r)throw new Error(<span class="cstat-no" title="statement not covered" >"Could not find a me<span class="cstat-no" title="statement not covered" ></span>ta URL i<span class="cstat-no" title="statement not covered" >n the Link header");return t.get(r)}).then(function(t){var n=t.p<span class="cstat-no" title="statement not covered" >a</span></span>rsedGraph(),i=n.</span>any(voi<span class="fstat-no" title="function not covered" >d </span>0,r.solid("account")<span class="cstat-no" title="statement not covered" >);if(!i||!i.uri)</span>thro<span class="cstat-no" title="statement not covered" >w new Error("Could not find a WebI<span class="cstat-no" title="statement not covered" ></span>D matching the dom<span class="cstat-no" title="statement not covered" >ain "+e);return i})}function i(e,t,r,n){return t=t||{},t.headers=t.<span class="cstat-no" title="statement not covered" >h</span></span>eaders||{</span>Acc</span>ept:"text<span class="fstat-no" title="function not covered" >/t</span>urtle"},t.noC<span class="cstat-no" title="statement not covered" >redentials=!0,r.get(e,t).then(function(e){var i=e.parsedGraph(),a=new s(e.url,i,n,r,e);return a.isLoaded=!0,t.i<span class="fstat-no" title="function not covered" >gn</span>oreExtended?a:o(a,t,<span class="cstat-no" title="statement not covered" >r)})}function o(</span>e,t,<span class="cstat-no" title="statement not covered" >r){var n=e.relatedProfile<span class="cstat-no" title="statement not covered" ></span>sLinks();return r.loadParsedGraphs(n,t).then(function(t){re</span>tur</span>n t.forEa<span class="fstat-no" title="function not covered" >ch</span>(function(t){t&amp;&amp;t.<span class="cstat-no" title="statement not covered" >value&amp;&amp;e.appendFromGraph(<span class="cstat-no" title="statement not covered" ></span>t.value,t.uri)}),e})}e.exports.discov<span class="fstat-no" title="function not covered" >er</span>WebID=n,e.ex<span class="cstat-no" title="statement not covered" >ports.getProfile=<span class="fstat-no" title="function not covered" >i,</span>e.exports.lo<span class="cstat-no" title="statement not covered" >adExtendedProfile=o;var s=r(77)},function(e,t,r){"u</span>se str</span>ict<span class="cstat-no" title="statement not covered" ></span>";function n(e,t,r,n,i){this.appRegistryListed={uri:null,graph:null},this.appRegistryUnlis</span>ted={ur<span class="cstat-no" title="statement not covered" >i:null</span>,gr<span class="fstat-no" title="function not covered" >ap</span>h:null},this.inbox={uri:null,graph:null}<span class="fstat-no" title="function not covered" >,t</span>his.isLoaded=!1,<span class="cstat-no" title="statement not covered" >this.picture=null,this.name=null,this.rdf=r,this.storage=[],this.typeIndexListed={uri:null,graph:null},this.typeIndexUnlisted={uri:null,graph:null},this.parsedGraph=null,this.preferences={uri:null,graph:null},this.response=i,this.relatedProfiles={sameAs:[],seeAlso:[]},this.webId=null,this.webClient=n,e&amp;&amp;(this.baseProfileUrl=e.indexOf("#")&gt;=0?e.slice(0,e.indexOf("#")):e,t&amp;&amp;(this.initWebId(t),this.appendFromGraph(t,this.baseProfileUrl)))}function i(e,t,r){var n=a(r),i=r.namedNode(e),o=n.foaf("primaryTopic"),s=t.any(i,o);return s}function o(e,t,r,n,i){var o=e.any(t,r,n,i);return o?o.uri:null}e.exports=n;var s=r(78),a=r(82),u=r(83),c=r(86),l=r(84),f=l.parseLinks,p="/settings/pr</span>efs.ttl",<span class="fstat-no" title="function not covered" >h=</span>"/profile/";n.prot<span class="cstat-no" title="statement not covered" >otype</span>.app<span class="cstat-no" title="statement not covered" >endFromGraph=fu</span>ncti<span class="cstat-no" title="statement not covered" >on(e,t){if(e){var r=thi</span>s.rd<span class="cstat-no" title="statement not covered" >f,n=a(r);thi<span class="cstat-no" title="statement not covered" ></span>s.parsedGr</span>aph=this.<span class="fstat-no" title="function not covered" >pa</span>rsedGraph||r.graph(),l.a<span class="cstat-no" title="statement not covered" >ppendGraph(this.pa<span class="cstat-no" title="statement not covered" ></span>rsedGraph,e,t);var i,s=r.<span class="cstat-no" title="statement not covered" ></span>namedNode(this.</span>webId);<span class="cstat-no" title="statement not covered" >this.n</span>ame|<span class="cstat-no" title="statement not covered" >|(this</span>.nam<span class="cstat-no" title="statement not covered" >e=this</span>.fin<span class="cstat-no" title="statement not covered" >d(n.fo</span>af("<span class="cstat-no" title="statement not covered" >name")</span>)),t<span class="cstat-no" title="statement not covered" >his.picture||</span>(thi<span class="cstat-no" title="statement not covered" >s.picture=this.find(n.</span>foaf<span class="cstat-no" title="statement not covered" >("img"))),i=<span class="cstat-no" title="statement not covered" ></span>f(e,null,n.owl("sameAs")),this<span class="fstat-no" title="function not covered" >.r</span>elatedProfiles.<span class="cstat-no" title="statement not covered" >sameAs=this.rela<span class="cstat-no" title="statement not covered" >tedProfil</span>es.s<span class="cstat-no" title="statement not covered" >ameAs<span class="cstat-no" title="statement not covered" ></span>.concat(i),i=f(e,null,n.rdfs("seeAlso")),this.relatedProfiles.seeAlso=this.relatedProfile</span>s.seeAlso<span class="cstat-no" title="statement not covered" >.concat(i),this.preferen<span class="cstat-no" title="statement not covered" ></span>ces.uri||(this.preferences.uri=o(e,s,n.pim("preferencesFile"))),this.inbox.uri||(this.inbox.uri=o(e,s,n.solid("inbox"))),i=f(e,s,n.pim("storage")),this.storage=this.storage.concat(i),this.typeIndexListed.uri||(this.typeIndexListed.uri=o(e,s,n.solid("publicTypeIndex"))),this.typeIndexUnlisted.uri||(this.typeIndexUnlisted.uri=o(e,s,n.solid("privateTypeIndex"))),this.appRegistryListed.uri||(this.appRegistryListed.uri=o(e,s,n.solid("publicAppRegistry"))),this.appRegistryUnlisted.uri||(this.appRegistryUnlisted.uri=o(e,s,n.solid("privateAppRegistry")))}},n.prototype.appRegistryDefaultContainer=function(){var e,t=this.webId||this.baseProfileUrl;return e=t?t.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")+"/":h},n.prototype.appsForType=function(e){return s.appsForType(this,e,this.rdf)},n.prototype.find=function(e){if(!this.parsedGraph)throw new Error("Profile graph not yet loaded.");var t=this.rdf.namedNode(this.webId),r=this.parsedG</span>r</span>aph.any(t,e);return r?r.value||r.uri:r},n.pr<span class="fstat-no" title="function not covered" >ot</span>otype.findAll=functio<span class="cstat-no" title="statement not covered" >n(e){if(!this.parsedGraph)throw ne<span class="cstat-no" title="statement not covered" ></span>w Error("Profile graph not yet loaded.");var t=this.rdf.namedNode(this.webId</span>),r=this.parsedGraph.stateme<span class="fstat-no" title="function not covered" >nt</span>sMatching(t,<span class="cstat-no" title="statement not covered" >e);return r=r.map(function(e){return e.ob</span>ject.value||e.object.<span class="fstat-no" title="function not covered" >ur</span>i}),r.sort()<span class="cstat-no" title="statement not covered" >},n.prototype.initWebId<span class="cstat-no" title="statement not covered" >=function(e){if(e)try{this.webId=i(this.baseProfil</span></span>eUrl,e,<span class="cstat-no" title="statement not covered" >this.rdf).uri}catch(e){throw ne</span>w Er<span class="cstat-no" title="statement not covered" >ror("Unable to parse WebID <span class="cstat-no" title="statement not covered" ></span>from profile: "+e)}},n.prototype.</span>relatedProfilesLinks=fun<span class="fstat-no" title="function not covered" >ct</span>ion(){var e=<span class="cstat-no" title="statement not covered" >[];return e=e.concat(th<span class="cstat-no" title="statement not covered" >is.relatedProfiles.sameAs).concat(this.relatedProf</span></span>iles.se<span class="cstat-no" title="statement not covered" >eAlso),this.preferences.uri&amp;&amp;(e</span>=e.c<span class="cstat-no" title="statement not covered" >oncat(this.preferences.uri)),e},n.prototyp<span class="cstat-no" title="statement not covered" ></span>e.hasAppRegistryP<span class="fstat-no" title="function not covered" >ri</span>vate=functio<span class="cstat-no" title="statement not covered" >n(){if(!this.isLoaded)throw new Error("</span>Must load pro</span>file before checking if re<span class="fstat-no" title="function not covered" >gi</span>stry exists.<span class="cstat-no" title="statement not covered" >");retu<span class="cstat-no" title="statement not covered" >rn th<span class="cstat-no" title="statement not covered" >is.appRegistryUnlisted.uri},n.prototype.hasAppRegistry</span>Public=funct<span class="cstat-no" title="statement not covered" >ion(){if(!this.isLoaded)throw new Error("Must load profile be</span>f</span></span>ore checking if registry exists.");re<span class="fstat-no" title="function not covered" >tu</span>rn this.appRegistry<span class="cstat-no" title="statement not covered" >Lis<span class="cstat-no" title="statement not covered" ></span>ted.uri},n.prototype.hasStorage=function(){return this.storage&amp;&amp;this.storage.length&gt;0},n.prototype.hasTypeRegistryPrivate=function(){if(!this.isLoaded)t</span>hrow new Error("Must load profile befo<span class="fstat-no" title="function not covered" >re</span> checking i<span class="cstat-no" title="statement not covered" >f registry exists.")<span class="cstat-no" title="statement not covered" >;return this.typeIndexUnlisted.uri},n.prototype.hasTypeRegistryPublic=fun<span class="cstat-no" title="statement not covered" >c</span></span>tion(){if(!this.isLoaded)throw new E</span>rror("Must load profile before checki<span class="fstat-no" title="function not covered" >ng</span> if registr<span class="cstat-no" title="statement not covered" >y exists.");return t<span class="cstat-no" title="statement not covered" >his.typeIndexListed.uri},n.prototype.loadAppRegistry=function(e,t){return<span class="cstat-no" title="statement not covered" > </span></span>e=e||this.webClient,s.loadAppRegis</span>try(this,e,t)},n.prototype.<span class="fstat-no" title="function not covered" >lo</span>adTypeRegis<span class="cstat-no" title="statement not covered" >try=function(e,t){return e=e||this.webClient,c.l</span>oadTypeRegistry(this,e,t)},n.prototype.<span class="fstat-no" title="function not covered" >ad</span>dAppRegistr<span class="cstat-no" title="statement not covered" >y=function(e,t){if(u<span class="cstat-no" title="statement not covered" >.isListed(e,this.rdf))this.appRegistryListed.graph||(this.appRegistryList<span class="cstat-no" title="statement not covered" >e</span></span>d.uri=t,this.appRegistryListed.gra</span>ph=e);else{if(!u.isUnlisted(e,this.rdf<span class="fstat-no" title="function not covered" >))</span>throw conso<span class="cstat-no" title="statement not covered" >le.log(e),new Error(<span class="cstat-no" title="statement not covered" >"Attempting to add an invalid app registry resource");this.appRegistryUnl<span class="cstat-no" title="statement not covered" >i</span></span>sted.graph||(this.appRegistryUnl</span>isted.uri=t,this.appRegistryUnli<span class="fstat-no" title="function not covered" >st</span>ed.graph=e)}},n<span class="cstat-no" title="statement not covered" >.prototype.addTypeRegistry=function(e,t){if(u.isListed(e,this.r</span>df))this.typeIndexListed.graph||(<span class="fstat-no" title="function not covered" >th</span>is.typeIndexLis<span class="cstat-no" title="statement not covered" >ted.uri=t,this.typeIndexListed.graph=e);else{if(!u.isUnlisted(e,</span>this.rdf))throw new Error("Atte<span class="fstat-no" title="function not covered" >mp</span>ting to add an <span class="cstat-no" title="statement not covered" >invalid type registry index")<span class="cstat-no" title="statement not covered" >;this.typeIndexUnlisted.graph||(this.typeIndexUnlisted.uri=t,this.typeIndexUnlisted.graph=e)}},n.pro</span>totyp<span class="cstat-no" title="statement not covered" >e.reloadAppRegistry=function(e){<span class="cstat-no" title="statement not covered" >return this.resetAppRegistry(),this.loadAppRegistry(e)},n.prototype.reloadTypeRegistry<span class="cstat-no" title="statement not covered" >=</span></span>function(e){return this.resetTypeRegistry(),this.loadTypeRegistry(e)},n.prototype.resetAppRegistry=functi</span>o</span>n(){this.appRegistryListed.graph<span class="fstat-no" title="function not covered" >=n</span>ull,this.appReg<span class="cstat-no" title="statement not covered" >istryUnlisted.graph=null},n.p<span class="cstat-no" title="statement not covered" >rototype.resetTypeRegistry=function(){this.typeIndexListed.graph=null,this.typeIndexUnlisted.g</span>raph=<span class="cstat-no" title="statement not covered" >null},n.prototype.typeRegistryFo<span class="cstat-no" title="statement not covered" >rClass=function(e){return c.typeRegistryForClass(this,e,this.rdf)},n<span class="cstat-no" title="statement not covered" >.</span></span>prototype.typeRegistryDefaultContainer=function(){var e,t=this.webId||this.baseProfileUrl;return e=</span>t</span>?t.replace(/\\/g,"/").replace(/\/[<span class="fstat-no" title="function not covered" >^\</span>/]*\/?$/,"")<span class="cstat-no" title="statement not covered" >+"/":h},n.prototype.privateProfileUri=function(){return t</span>his.preferences&amp;&amp;this.preferences.u<span class="fstat-no" title="function not covered" >ri</span>?this.prefer<span class="cstat-no" title="statement not covered" >ences.uri:p},n.prototype.registerApp=function(e,t){return t</span>=t||this.webClient,s.registerApp(<span class="fstat-no" title="function not covered" >th</span>is,e,t)},n.<span class="cstat-no" title="statement not covered" >prototype.registerType=function(e,t,r,n){return c.registerType(this,e,t,r,n,</span>this.webClient)},n.prototype.unreg<span class="fstat-no" title="function not covered" >is</span>terType=fun<span class="cstat-no" title="statement not covered" >ction(e,t,r){return c.unregisterType(this,e,t,r,this.webClient)}},functi</span>on(e,t,r){"use strict";function n(e,t<span class="fstat-no" title="function not covered" >,r</span>){var n,i;if<span class="cstat-no" title="statement not covered" >(t.isListed?(n=e.appRegistryListed.uri,i=e.appRegi</span>stryListed.graph):(n=e.appRegistryUnlisted.ur<span class="fstat-no" title="function not covered" >i,</span>i=e.appRegistryUnlist<span class="cstat-no" title="statement not covered" >ed.graph),!n)throw new Error("Cann<span class="cstat-no" title="statement not covered" ></span>ot register app, registry URL missing");var o=e.rdf,s=[],a=t.rdfStatements(o</span>);return r.patch(n,s,a).then(funct<span class="fstat-no" title="function not covered" >io</span>n(r){var n=<span class="cstat-no" title="statement not covered" >h.graphFromStatements(a,o);return i?h.appendGraph(i,n):e[t.isListed?"appRegi</span>stryListed":"appRegistryUnli<span class="fstat-no" title="function not covered" >st</span>ed"].graph=n,e}<span class="cstat-no" title="statement not covered" >)}function i(e,t,r){var n=[];return n.concat(f(e.appRegistr</span>yListed.graph,t,r)).concat(f(<span class="fstat-no" title="function not covered" >e.</span>appRegistryUnlisted.g<span class="cstat-no" title="statement not covered" >raph,t,r))}function o(e){var t=y(e),r=e.namedNode(""),n=[</span>e.triple(r,t.rdf("type"),t.soli<span class="fstat-no" title="function not covered" >d(</span>"AppRegistry")),e.<span class="cstat-no" title="statement not covered" >triple(r,t.rdf("type"),t.solid("UnlistedDocument"))],i={</span>da</span>ta<span class="fstat-no" title="function not covered" >:h</span>.serializeStatements(n),graph:h.graphFro<span class="fstat-no" title="function not covered" >mS</span>tatements(n,e),slug<span class="cstat-no" title="statement not covered" >:"privateAppRegistry.ttl",uri:null};return i}function s(e){var t=y(e),r=e.namedNode(""),n=[e.triple(r,t.rdf("type"),t.solid("AppRegistry")),e.triple(r<span class="cstat-no" title="statement not covered" >,t.rdf("type"),t.solid("ListedDocument"))],i={data:h.serialize</span></span>Stateme<span class="cstat-no" title="statement not covered" >nts(n)</span>,gra<span class="cstat-no" title="statement not covered" >ph:</span>h.gr<span class="cstat-no" title="statement not covered" >aphFromStatements(n<span class="cstat-no" title="statement not covered" ></span>,e),slug:"publicAppRegistry.t<span class="fstat-no" title="function not covered" >tl</span>",uri:null};return i<span class="cstat-no" title="statement not covered" >}function a(e,t,r){r=r||{};v<span class="cstat-no" title="statement not covered" ></span>ar n=e.rdf,i=y(n),s=e.appRegistryDefaultContainer(),a=n.namedNode(e.webId),u=o(n);return t.post(s,u.data,u.</span>slu</span>g).catch(<span class="fstat-no" title="function not covered" >fu</span>nction(e){throw ne<span class="cstat-no" title="statement not covered" >w E<span class="cstat-no" title="statement not covered" ></span>rror("Could not create private registry document:",e)}).then(function(o){u.uri=d.absoluteUrl(g.hos</span>tname(s),<span class="fstat-no" title="function not covered" >o.</span>url);var c=[<span class="cstat-no" title="statement not covered" >n.tri</span>ple(<span class="cstat-no" title="statement not covered" >a,i.solid("priva</span>teAp<span class="cstat-no" title="statement not covered" >pRegistry"),n.namedNode(u.uri))],l=[];return t.patch(e.privateProfileUri(),l,c,r)}).catch(function(e){throw ne</span>w Er<span class="cstat-no" title="statement not covered" >ror("Could not update profile with private registry:"+e)}).then(function(t){return e.appRegistryUnlisted=u,e})}fun<span class="cstat-no" title="statement not covered" ></span>ction u(e,</span>t,r){r=r|<span class="fstat-no" title="function not covered" >|{</span>};var n=e.rd<span class="cstat-no" title="statement not covered" >f,i=y</span>(n),<span class="cstat-no" title="statement not covered" >o=e.appRegistryD</span>efau<span class="cstat-no" title="statement not covered" >ltContainer(),a=n.namedNode(e.webId),u=s(n);return t.post(o,u.data,u.slug).catch(function(e){throw new Error</span>("Co<span class="cstat-no" title="statement not covered" >uld not create public registry document:",e)}).then(function(s){u.uri=d.absoluteUrl(g.hostname(o),s.url);var c=[n<span class="cstat-no" title="statement not covered" ></span>.triple(a,</span>i.solid("<span class="fstat-no" title="function not covered" >pu</span>blicAppReg<span class="cstat-no" title="statement not covered" >istry"),n.nam</span>edNode(<span class="cstat-no" title="statement not covered" >u.uri)</span>)],l<span class="cstat-no" title="statement not covered" >=[];r</span>etur<span class="cstat-no" title="statement not covered" >n t.patch(e.webId,l,c,r)}).catch</span>(fun<span class="cstat-no" title="statement not covered" >ction(e){throw new Er</span>ror(<span class="cstat-no" title="statement not covered" >"Coul<span class="cstat-no" title="statement not covered" ></span>d not update profile with public regist<span class="fstat-no" title="function not covered" >ry</span>:",e)}).then<span class="cstat-no" title="statement not covered" >(function(t){return e.appRegistryListed=u,e})}function c(e,t,r){r=r</span>||{},r.<span class="fstat-no" title="function not covered" >he</span>aders=r.head<span class="cstat-no" title="statement not covered" >ers||{},r.headers.Accept||(r.headers.Accept="</span>text/tu<span class="cstat-no" title="statement not covered" >rtle");var n=[];return e.appRegistryListed.uri&amp;&amp;n.push(e.appRegis</span>tryL<span class="cstat-no" title="statement not covered" >ist<span class="cstat-no" title="statement not covered" ></span>ed.uri),e.appRegistryUnlisted.uri&amp;&amp;n.push(e.appR</span>egistryU<span class="fstat-no" title="function not covered" >nl</span>isted.uri),t<span class="cstat-no" title="statement not covered" >.loadParsedGraphs(n,r).then(function(t){return t.forEach(function(t){t&amp;&amp;</span>t.value<span class="fstat-no" title="function not covered" >&amp;&amp;</span>e.addAppRegi<span class="cstat-no" title="statement not covered" >stry(t.value,t.uri)}),e})}function l(</span>e,t</span>,r){if(!e<span class="fstat-no" title="function not covered" >)t</span>hrow new E<span class="cstat-no" title="statement not covered" >rror("No prof</span>ile pro<span class="cstat-no" title="statement not covered" >vided"</span>);if<span class="cstat-no" title="statement not covered" >(!e.i</span>sLoa<span class="cstat-no" title="statement not covered" >ded)throw new Error("Profile is </span>not <span class="cstat-no" title="statement not covered" >loaded");if(!t||!t.is</span>Vali<span class="cstat-no" title="statement not covered" >d())t<span class="cstat-no" title="statement not covered" ></span>hrow new Error("Invalid app registratio<span class="fstat-no" title="function not covered" >n"</span>);return c(e<span class="cstat-no" title="statement not covered" >,r).then(function(e){return t.isListed&amp;&amp;!e.hasAppRegistryPublic()?</span>u(e,r):<span class="fstat-no" title="function not covered" >t.</span>isListed||e.<span class="cstat-no" title="statement not covered" >hasAppRegistryPrivate()?e:a(e,r)}).then(funct</span>ion(e){<span class="cstat-no" title="statement not covered" >return n(e,t,r)})}function f(e,t,r){var n,i=y(r),o=[];return e?(</span>e.st<span class="cstat-no" title="statement not covered" >ate<span class="cstat-no" title="statement not covered" ></span>mentsMatching(null,i.app("commonTy</span>pe"),t).<span class="fstat-no" title="function not covered" >fo</span>rEach(functi<span class="cstat-no" title="statement not covered" >on(t){n=t.subject;var i=new p;i.initFromGraph(n,e,r),o.push(i)}),o):o}</span>e.expor<span class="fstat-no" title="function not covered" >ts</span>.addToAppReg<span class="cstat-no" title="statement not covered" >istry=n,e.exports.blankPrivateAppRe</span>gis</span>try=o,e.e<span class="fstat-no" title="function not covered" >xp</span>orts.blank<span class="cstat-no" title="statement not covered" >PublicAppRegistry=s,e.exports.initAppRegistryPrivate=a,e.exports.initAppRegistryPublic=u,e.exports</span>.loadAp<span class="cstat-no" title="statement not covered" >pRe<span class="cstat-no" title="statement not covered" ></span>gistry=c,e.exports.appsForType=i,e.exports.registerApp=l,e.exports.registrationsFromGraph=f;var p=r(79),h=r(84),d=r(85),y=r(82),g=r(85)},function(e,t,r){"use str<span class="fstat-no" title="function not covered" >ic</span>t";function <span class="cstat-no" title="statement not covered" >n(e,t,r){e=e||{},<span class="fstat-no" title="function not covered" >th</span>is.isListed=<span class="cstat-no" title="statement not covered" >r,this.name=e.name,this.redirectTemplateUri=e.redi</span>rectTe</span>mpl</span>ateUri,th<span class="fstat-no" title="function not covered" >is</span>.registrat<span class="cstat-no" title="statement not covered" >ionUri=n<span class="cstat-no" title="statement not covered" >ull,this.shortdesc=e.shortdesc,this.typ<span class="cstat-no" title="statement not covered" >e</span></span>s=t||[]}e.export<span class="cstat-no" title="statement not covered" >s=n;var i=r(80),o=r(82),s=r(83);n.prototy<span class="cstat-no" title="statement not covered" >p</span></span>e.hashFragment=function<span class="cstat-no" title="statement not covered" >(){var e=i.unique(this.redirectTemplateUri);<span class="cstat-no" title="statement not covered" >r</span></span>eturn e},n.prototyp<span class="fstat-no" title="function not covered" >e.</span>initFromGrap<span class="cstat-no" title="statement not covered" >h=function(e,t,r){this.registrationUri=e.uri,this.isListed=!!s.isListed(t,r),this.types=[];var n=this,i=o(r);t.sta</span>tements<span class="fstat-no" title="function not covered" >Ma</span>tching(e,i.a<span class="cstat-no" title="statement not covered" >pp("commonType")).f</span>orE</span>ach(funct<span class="fstat-no" title="function not covered" >io</span>n(e){n.types.push(e.<span class="cstat-no" title="statement not covered" >objec</span>t.ur<span class="cstat-no" title="statement not covered" >i)}<span class="cstat-no" title="statement not covered" ></span>);var a;a=t.any(e,i.app("name")),a&amp;&amp;(this.name=a.value),a=t.any(e,i.app<span class="fstat-no" title="function not covered" >("</span>shortdesc"))<span class="cstat-no" title="statement not covered" >,a&amp;&amp;(this.short</span>desc=a.<span class="cstat-no" title="statement not covered" >value),a<span class="cstat-no" title="statement not covered" ></span>=t.any(e,i.app("redirectTemplateUri")</span>),a&amp;&amp;(this.<span class="cstat-no" title="statement not covered" ></span>redirectTemplateUri=a.value)},n.prototype.isValid=function(){return this.name&amp;&amp;this.redirectTemplateUri&amp;&amp;this.types.length&gt;0},n.prototype.rdfStatements=function(e){var t=e.namedNode("#"+this.hashFragment()),r=[],n=o(e);return r.push(e.triple(t,n.rdf("type"),n.solid("AppRegistration")),e.triple(t,n.app("nam</span>e"),thi<span class="cstat-no" title="statement not covered" >s.name</span>),e.<span class="cstat-no" title="statement not covered" >triple</span>(t,n<span class="cstat-no" title="statement not covered" >.app("</span>shor<span class="cstat-no" title="statement not covered" >tdesc"</span>),th<span class="cstat-no" title="statement not covered" >is.sho</span>rtd<span class="fstat-no" title="function not covered" >es</span>c),e.triple(t,n.app("redirectTemplateUri<span class="fstat-no" title="function not covered" >")</span>,this.redi<span class="cstat-no" title="statement not covered" >rectTemplateUri)),this.types.forEach(function(i){r.push(e.triple(t,n.app("commonType"),i))}),r}},function(e,t,r){e.exports=r(81)},function(e,t){function r(e){var t=0;if(0==e.length)re<span class="cstat-no" title="statement not covered" ></span>turn t;for(var </span>r=0;r&lt;e<span class="cstat-no" title="statement not covered" >.lengt</span>h;r+<span class="cstat-no" title="statement not covered" >+){var</span> n=e<span class="cstat-no" title="statement not covered" >.charC<span class="cstat-no" title="statement not covered" ></span>odeAt(r);t=(t&lt;&lt;5)-t+n,t&amp;=t}<span class="fstat-no" title="function not covered" >re</span>turn t}function n(e<span class="cstat-no" title="statement not covered" >,t){function r(e){var t="0123456789<span class="cstat-no" title="statement not covered" ></span>abcdefghij</span>klmnopqrstuvwxyzABCDEFGHIJKLMN<span class="fstat-no" title="function not covered" >OP</span>QRSTUVWXYZ";return<span class="cstat-no" title="statement not covered" > t[e]}t=t||62;var n,i=[],o="",s=e&lt;0?"-":"";for(e=Math.abs(e);e&gt;=t;)n=e%t,e=Math.flo</span>or(e/t)<span class="cstat-no" title="statement not covered" >,i.pu</span>sh(r<span class="cstat-no" title="statement not covered" >(n));<span class="cstat-no" title="statement not covered" ></span>e&gt;0&amp;&amp;i.push(r(e));for(var a=i.length-1;a&gt;=0;a--)o+=i[<span class="fstat-no" title="function not covered" >a]</span>;return s+o}<span class="cstat-no" title="statement not covered" >function i(e){var t=n(r(e),6</span>1);</span>retur<span class="cstat-no" title="statement not covered" >n t.replace("-","Z")}function o(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",r="",n=e||8,i=0;i&lt;n;i++){var o=Math.floor(Math.random()*t.length);r+=t.substring(o,o+1)}return r}t.bit</span>wise=r,t.binaryTransfer=<span class="fstat-no" title="function not covered" >n,</span>t.unique=i,<span class="cstat-no" title="statement not covered" >t.random=o},function(e,t,r){"use strict";function n(e){var t=r(67)(e),n</span>={acl:t.base("http://www.w3.or<span class="fstat-no" title="function not covered" >g/</span>ns/auth/acl#"),app:t<span class="cstat-no" title="statement not covered" >.base("http://www.w3.org/ns/solid/app#"</span>),ce<span class="cstat-no" title="statement not covered" >rt:</span>t.ba<span class="cstat-no" title="statement not covered" >se("h<span class="cstat-no" title="statement not covered" ></span>ttp://www.w3.org/ns/auth/cert#"),dct:t.base("http://purl.org/dc/terms/"),foaf:t.base("http://xmlns.com/foaf/0.1/"),ldp:t.base("http://www.w3.org/ns/ldp#"),owl:t.base("http://www.w3.org/2002/07/owl#"),pim:t.base("http://www.w3.org/ns/pim/space#"),r<span class="fstat-no" title="function not covered" >df</span>:t.base("htt<span class="cstat-no" title="statement not covered" >p://www.w3.org/1999/02/22-rdf-syntax-ns#"),rd</span>fs:t.b</span>as</span>e(<span class="fstat-no" title="function not covered" >"h</span>ttp://www.w3.org/2<span class="cstat-no" title="statement not covered" >000/01/rdf-schema#"</span>),<span class="fstat-no" title="function not covered" >sc</span>hema:t.base("http://sche<span class="fstat-no" title="function not covered" >ma</span>.org/"),sioc<span class="cstat-no" title="statement not covered" >:t<span class="cstat-no" title="statement not covered" ></span>.base("http://rdfs.<span class="cstat-no" title="statement not covered" >org/sioc/<span class="cstat-no" title="statement not covered" >n</span></span>s#"),solid:t.base("http://www.w3.org/ns/sol<span class="cstat-no" title="statement not covered" >id/terms#"),stat<span class="cstat-no" title="statement not covered" ></span>:t.base("http://www.w3.org/ns/<span class="cstat-no" title="statement not covered" ></span>p</span>osix/stat</span>#"),vcard<span class="fstat-no" title="function not covered" >:t</span>.base("http://ww<span class="fstat-no" title="function not covered" >w.</span>w3.org/2006/<span class="cstat-no" title="statement not covered" >vcard/ns#"),xsd:t.base("http://www.w3.org/2001/XMLSchema#")};retu<span class="cstat-no" title="statement not covered" ></span>rn n}e.export<span class="cstat-no" title="statement not covered" ></span>s=n},function</span>(e,t,r){"<span class="cstat-no" title="statement not covered" >use</span> str<span class="cstat-no" title="statement not covered" >ict</span>";fu<span class="cstat-no" title="statement not covered" >nction n(e,t){var<span class="cstat-no" title="statement not covered" ></span> r=o(t);return e.any(null,null,<span class="cstat-no" title="statement not covered" >r.solid("UnlistedDocument"),e.uri)}function i(e<span class="cstat-no" title="statement not covered" >,</span></span>t){var r=o(t);return <span class="cstat-no" title="statement not covered" >e</span>.any(null,null,r.solid("ListedDocument"<span class="cstat-no" title="statement not covered" >),e.uri)}e<span class="cstat-no" title="statement not covered" >.</span></span>exports.isLis</span>ted=i,e.e<span class="fstat-no" title="function not covered" >xp</span>orts.isUnlis<span class="cstat-no" title="statement not covered" >ted=n;var o=<span class="cstat-no" title="statement not covered" ></span>r(82)},function(e,t){"use st</span>rict";fun<span class="fstat-no" title="function not covered" >ct</span>ion <span class="cstat-no" title="statement not covered" >r(e,t){t.statementsMatching(u).forEach(function(t){e.add(t.subject,t.predicate,t.object,t.why)})}function n(e,t){return"string<span class="cstat-no" title="statement not covered" >"!=typeof e&amp;&amp;(e=e.toNT()),t&amp;&amp;e.endsWi<span class="cstat-no" title="statement not covered" ></span>th(".")&amp;&amp;(e=e.slice(0,-1)),e<span class="cstat-no" title="statement not covered" ></span>}</span>function <span class="cstat-no" title="statement not covered" ></span>i(e,t){var r=t.graph();return e.forEach(function(e){r.add(e)}),r}</span>fu<span class="fstat-no" title="function not covered" >nc</span>tion o(e,t,r,n){var i=n.graph();return n<span class="fstat-no" title="function not covered" >.p</span>arse(t,i,e,r<span class="cstat-no" title="statement not covered" >),i}funct</span>ion <span class="cstat-no" title="statement not covered" >s(e,t,r,n,i){var o={},s=e.statementsMatching(t,r,n,i);return s.forEach(function(e){o[e.object.uri]=!0}),Object.keys(o)}function a(e){var t=e.map(function(e){return e.toNT()});return t=t.join("\n")}e.exports.appendGraph=r,e.exports.parseGraph=o,e.exports.parseLinks=s,e.exports.serializeStatements=a,e.exports.graphFromStatements=i,e.exports.statementToNT=n;var u=null},function(e,t,r){"use strict";function n(e,t){var r={};if(e){var n=e.split(",");n.forEach(function(t){t&amp;&amp;e.indexOf(t)&gt;=0&amp;&amp;(r[t.trim().toLowerCase()]=!0)})}return t&amp;&amp;t.indexOf("application/sparql-update")&gt;=0&amp;&amp;(r.patch=!0),r}function i(e){if(!e)return{};for(var t=/&lt;[^&gt;]*&gt;\s*(\s*;\s*[^\(\)&lt;&gt;@,;:"\/\[\]\?={} \t]+=(([^\(\)&lt;&gt;@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,r=/[^\(\)&lt;&gt;@,;:"\/\[\]\?={} \t]+=(([<span class="cstat-no" title="statement not covered" ></span>^\(\)&lt;&gt;@,;<span class="cstat-no" title="statement not covered" ></span>:"\/\[\]\?={} \</span>t]<span class="fstat-no" title="function not covered" >+)</span>|("[^"]*"))/g,n=e.match(t),i={},o=0;o&lt;n.<span class="fstat-no" title="function not covered" >le</span>ngth;o++)for(va<span class="cstat-no" title="statement not covered" >r s=n<span class="cstat-no" title="statement not covered" ></span>[o].split("&gt;"),a=s[0].substring(1),u=s[1],c=u.match(r),l=0;l&lt;c</span>.length;l<span class="fstat-no" title="function not covered" >++</span>){var f=c[l],p=<span class="cstat-no" title="statement not covered" >f.spl<span class="cstat-no" title="statement not covered" ></span>it("="),h=p[1].replace(/["']/g,"");i[h]||(i[h]=[]),i[h].push<span class="cstat-no" title="statement not covered" ></span>(a),i[h].length&gt;1&amp;&amp;i[h].sort()}return i}function o</span>(e){var<span class="cstat-no" title="statement not covered" > t,r,n</span>,i,<span class="fstat-no" title="function not covered" >o=</span>e.split("//");return 2===o.length?(t=<span class="fstat-no" title="function not covered" >o[</span>0],r=o[<span class="cstat-no" title="statement not covered" >1]):r=e,i=r.split("/"),n=t?t+"//<span class="fstat-no" title="function not covered" >"+</span>i[0]:i[0],e.<span class="cstat-no" title="statement not covered" >startsWith("//")&amp;&amp;(n="//"+n),n}function s(e,t){r</span>etu</span>rn t&amp;&amp;"ht<span class="fstat-no" title="function not covered" >tp</span>"!==t.s<span class="cstat-no" title="statement not covered" >lice(0,4)?[e,t].map(function(e){return"/"===e[0]&amp;&amp;(e=e.slice(1)),"/"===e[e.length-1]&amp;&amp;(e=e.slice</span>(0,e.leng<span class="fstat-no" title="function not covered" >th</span>-1)),e}).join("<span class="cstat-no" title="statement not covered" >/"):t}func<span class="cstat-no" title="statement not covered" ></span>tion a(e,t){var r<span class="fstat-no" title="function not covered" >="</span>",n=!0;retur<span class="cstat-no" title="statement not covered" >n e&amp;&amp;e.len</span>gth&gt;0&amp;</span>&amp;(e=e.map<span class="fstat-no" title="function not covered" >(f</span>unction(e){return u.s<span class="cstat-no" title="statement not covered" >tatementTo<span class="cstat-no" title="statement not covered" ></span>NT(e,n)}),r+="DELETE DATA { "+e</span>.join(" .<span class="fstat-no" title="function not covered" > "</span>)+" };\n"),t&amp;&amp;t.length&gt;0<span class="cstat-no" title="statement not covered" >&amp;&amp;(</span>t=t.<span class="cstat-no" title="statement not covered" >map(function(e){return u.statemen<span class="cstat-no" title="statement not covered" ></span>tToNT(e,n)}),r+="<span class="fstat-no" title="function not covered" >IN</span>SERT DATA { <span class="cstat-no" title="statement not covered" >"+t.join(" . ")+" };\n</span>"),r}e.exports.comp</span>osePatchQ<span class="fstat-no" title="function not covered" >ue</span>ry=a,e.expor<span class="cstat-no" title="statement not covered" >ts.par<span class="fstat-no" title="function not covered" >se</span>AllowedMetho<span class="cstat-no" title="statement not covered" >ds=n,e.exports.pa</span>rs<span class="cstat-no" title="statement not covered" ></span>eLinkHeader=i,e.exports.a<span class="cstat-no" title="statement not covered" ></span>bsoluteUrl=s,e.exports.hostname=o;var u=r(84)},function(e,t,r){"use strict";function n(e){var t=e.namedNode(""),r=m(e),n=[e.triple(t,r.rdf("type"),r.solid("TypeIndex")),e.triple(</span>t,r.rdf<span class="cstat-no" title="statement not covered" >("typ</span>e")<span class="fstat-no" title="function not covered" >,r</span>.solid("UnlistedDocument"))],i={data:g.s<span class="fstat-no" title="function not covered" >er</span>ializeStatement<span class="cstat-no" title="statement not covered" >s(n<span class="cstat-no" title="statement not covered" ></span>),graph:g.graphF<span class="cstat-no" title="statement not covered" >romStatements<span class="cstat-no" title="statement not covered" ></span>(n,e),slug<span class="fstat-no" title="function not covered" >:"</span>privateTypeI<span class="cstat-no" title="statement not covered" >ndex.ttl",uri:null};return i}function i(e){var t=e.namedNode</span>(""<span class="cstat-no" title="statement not covered" ></span>)</span>,r=m(e),n=[e.triple(t,r.rdf("type"),r.solid("TypeIndex")),e.triple(t,r.rdf("t</span>ype"),r.s<span class="fstat-no" title="function not covered" >ol</span>id("<span class="cstat-no" title="statement not covered" >ListedDo<span class="cstat-no" title="statement not covered" >cument"))]<span class="cstat-no" title="statement not covered" >,</span></span>i={data:g.serializeStatements(n),graph:g.graphFromStatements(n,e),slug:"publicTypeIndex.ttl",uri:null};return i}function o(e,t,r){r=r||{};var i=t.rdf,o=m(i),s=e.typeRegistryDefaultContainer(),a=i.namedNode(e.webId),u=n(i);return t.post(s,u.data,u.<span class="cstat-no" title="statement not covered" >slug).catch(function(e){throw new Error("Could not create privateIndex document:",e)}).then(function(n){u.uri=y.ab<span class="cstat-no" title="statement not covered" >solut</span>eUrl<span class="cstat-no" title="statement not covered" >(v.hostname(s</span>),n.<span class="cstat-no" title="statement not covered" >url);var c=[i.triple(a,o.s<span class="cstat-no" title="statement not covered" ></span>olid("privateTypeIndex"),i.namedNode(u.uri))],l=[];return t.patch(e<span class="cstat-no" title="statement not covered" ></span>.</span></span>privatePr</span>ofileUri(<span class="fstat-no" title="function not covered" >),</span>l,c,r)}).catch(funct<span class="cstat-no" title="statement not covered" >ion(e){throw n<span class="cstat-no" title="statement not covered" ></span>ew Error("Could not update profile with private index:"+e)}).then(function(t){return e.typeIndexUnlisted=u,e})}function s(e,t,r){r=r||{};var n=t.</span>rdf,o=m(n<span class="fstat-no" title="function not covered" >),</span>s=e.typ<span class="cstat-no" title="statement not covered" >eRegistryDefaultContainer(),a=n.namedNode(e.webId)<span class="fstat-no" title="function not covered" >,u</span>=i(n);return<span class="cstat-no" title="statement not covered" > t.post(s,u.data,u.slug).catch(function(e){throw new Error("Could not create publicIndex document:",e)}</span>).then(function(i</span>){u.uri=y<span class="fstat-no" title="function not covered" >.a</span>bsoluteUrl(v.ho<span class="cstat-no" title="statement not covered" >stn</span>ame(<span class="cstat-no" title="statement not covered" >s),<span class="cstat-no" title="statement not covered" ></span>i.url);var c=[n.triple(a,o.solid("publi<span class="fstat-no" title="function not covered" >cT</span>ypeIndex"),n<span class="cstat-no" title="statement not covered" >.namedNode(u.uri))],l=[];retur</span>n t.patch(e.webId,l,c,r)}).catch(function(e){throw console.log(e),new Error("Could no<span class="fstat-no" title="function not covered" >t </span>update profi<span class="cstat-no" title="statement not covered" >le with public index:",e)}).th</span>en(function(t){return e.typeIndexListed=u,e})}function a<span class="cstat-no" title="statement not covered" ></span>(e,t,n,i,o,s){var a,u,c=r(80),l=i.rdf,f=m(l),p=c.unique(t.uri);if(s?(a=e.typeIndexListed.uri,u=e.typeIndexListed.graph):(a=e.typeIndexUnlisted.uri,u=e</span>.typeIn<span class="cstat-no" title="statement not covered" >dexUnl</span>ist<span class="fstat-no" title="function not covered" >ed</span>.graph),!a)throw new Error("Cannot regis<span class="fstat-no" title="function not covered" >te</span>r type, regi<span class="cstat-no" title="statement not covered" >stry URL missing</span>");v<span class="cstat-no" title="statement not covered" >ar h,</span>d=l.<span class="cstat-no" title="statement not covered" >namedNode(a+"#"+p);"instance"===o?h=f.solid("instance"):(h=f.solid("instanceContainer"),n.lastIndexOf("/")!=</span>=n.l<span class="cstat-no" title="statement not covered" >ength-1&amp;&amp;(n+="/"));var y=[],v=[l.triple(d,f.rdf("type"),f.solid("TypeRegistration")),l.triple(d,f.solid("forClas<span class="cstat-no" title="statement not covered" ></span>s"),t),l.t</span>riple(d,h<span class="fstat-no" title="function not covered" >,l</span>.namedNode(n<span class="cstat-no" title="statement not covered" >))];return i.pat</span>ch(a<span class="cstat-no" title="statement not covered" >,y,v)</span>.the<span class="cstat-no" title="statement not covered" >n(function(t){var r=g.graphFromStatements(v,l);return u?g.appendGraph(u,r):e[s?"typeIndexListed":"typeInde</span>xUnl<span class="cstat-no" title="statement not covered" >isted"].graph=r,e})}function u(e,t,r){r=r||{},r.headers=r.headers||{},r.headers.Accept||(r.headers.Accept="text<span class="cstat-no" title="statement not covered" ></span>/turtle");</span>var n=[];<span class="fstat-no" title="function not covered" >re</span>turn e.typ<span class="cstat-no" title="statement not covered" >eIndexListed.</span>uri&amp;&amp;n.<span class="cstat-no" title="statement not covered" >push(e</span>.typ<span class="cstat-no" title="statement not covered" >eInde</span>xLis<span class="cstat-no" title="statement not covered" >ted.uri),e.typeIndexUnlisted.uri&amp;</span>&amp;n.p<span class="cstat-no" title="statement not covered" >ush(e.typeIndexUnlist</span>ed.u<span class="cstat-no" title="statement not covered" >ri),t<span class="cstat-no" title="statement not covered" ></span>.loadParsedGraphs(n,r).then(function(t)<span class="fstat-no" title="function not covered" >{v</span>ar r=t.lengt<span class="cstat-no" title="statement not covered" >h&amp;&amp;t.reduce(function(e,t){return e&amp;&amp;!t.value},!0);if(r)throw ne</span>w Error<span class="fstat-no" title="function not covered" >("</span>Could not lo<span class="cstat-no" title="statement not covered" >ad any type index");return t.forEach(function</span>(t){t&amp;&amp;<span class="cstat-no" title="statement not covered" >t.value&amp;&amp;e.addTypeRegistry(t.value,t.uri)}),e})}function c(e,t,</span>r,n,<span class="cstat-no" title="statement not covered" >i,c<span class="cstat-no" title="statement not covered" ></span>){if(!e)throw new Error("No profile provided");i</span>f(!e.isL<span class="fstat-no" title="function not covered" >oa</span>ded)throw ne<span class="cstat-no" title="statement not covered" >w Error("Profile is not loaded");if(!t||!r)throw new Error("Type regi</span>stratio<span class="fstat-no" title="function not covered" >n </span>requires typ<span class="cstat-no" title="statement not covered" >e class and location");if(n=n||"con</span>tai</span>ner","con<span class="fstat-no" title="function not covered" >ta</span>iner"!==n&amp;<span class="cstat-no" title="statement not covered" >&amp;"instance"!=</span>=n)thro<span class="cstat-no" title="statement not covered" >w new </span>Erro<span class="cstat-no" title="statement not covered" >r("In</span>vali<span class="cstat-no" title="statement not covered" >d location type");return u(e,c).t</span>hen(<span class="cstat-no" title="statement not covered" >function(e){return i&amp;</span>&amp;!e.<span class="cstat-no" title="statement not covered" >hasTy<span class="cstat-no" title="statement not covered" ></span>peRegistryPublic()?s(e,c):i||e.hasTypeR<span class="fstat-no" title="function not covered" >eg</span>istryPrivate<span class="cstat-no" title="statement not covered" >()?e:o(e,c)}).then(function(e){return a(e,t,r,c,n,i)})}functio</span>n l(e,t<span class="fstat-no" title="function not covered" >,r</span>){var n=[],i<span class="cstat-no" title="statement not covered" >=!0;return n.concat(f(e.typeIndexListed.graph</span>,t,i,r)<span class="cstat-no" title="statement not covered" >).concat(f(e.typeIndexUnlisted.graph,t,!i,r))}function f(e,t,r</span>,n){<span class="cstat-no" title="statement not covered" >var<span class="cstat-no" title="statement not covered" ></span> i,o,s,a=m(n),u=[];if(!e)return u;</span>var c=e.<span class="fstat-no" title="function not covered" >st</span>atementsMatc<span class="cstat-no" title="statement not covered" >hing(null,null,t);return c.forEach(function(n){i=n.subject,o=e.statementsMatching(i</span>,a.soli<span class="fstat-no" title="function not covered" >d(</span>"instance"))<span class="cstat-no" title="statement not covered" >,o.forEach(function(e){u.push(new</span> d(</span>i.uri,t,"<span class="fstat-no" title="function not covered" >in</span>stance",e.object.uri,r))}),s=e.<span class="cstat-no" title="statement not covered" >statem</span>ents<span class="cstat-no" title="statement not covered" >Matchi</span>ng(i<span class="cstat-no" title="statement not covered" >,a.so</span>lid(<span class="cstat-no" title="statement not covered" >"instanceContain<span class="cstat-no" title="statement not covered" ></span>er")),s.forEach(function(e){u.push(new d(i.uri,t,"container",e.object.uri,r))})}),u}function p(e,t,r,n,i){var o,s,a=r.rdf;if(n?(o=e.t<span class="cstat-no" title="statement not covered" >ypeIndexListed.uri,s=e.typeIndexListed.graph):(o=e.typeIndexUnl</span></span>isted.uri<span class="cstat-no" title="statement not covered" >,s=e.typeIndexUnlisted.gr<span class="cstat-no" title="statement not covered" ></span>aph),!o)throw new Error("Cannot unregister type, registry URL missing");var u=f(s,t,n,a);if(0===u.length)return Promise.resolve(e);i</span>&amp;&amp;(u=u.<span class="cstat-no" title="statement not covered" >fil</span>ter(<span class="cstat-no" title="statement not covered" >function(e){return e.locationUri===i}));var c=[];u.forEach(function(e){s.statementsMatching(a.namedNode(e.registrationUri)).for<span class="cstat-no" title="statement not covered" ></span>Each(function(e){c.push(e)})}<span class="fstat-no" title="function not covered" >);</span>var l=[];return r.pa<span class="cstat-no" title="statement not covered" >tch(o,c,l).then(function(t){<span class="cstat-no" title="statement not covered" ></span>return e.reloadTypeRegistry(r)})}function h(e,t,r,n,i){if(!e)throw new Error("No profile provi</span>ded</span>");if(!e.<span class="fstat-no" title="function not covered" >is</span>Loaded)thr<span class="cstat-no" title="statement not covered" >ow new Error("Profile is not loaded");if(!t)throw new Error("Unregistering a type requires type cl</span>ass");r<span class="cstat-no" title="statement not covered" >etu<span class="cstat-no" title="statement not covered" ></span>rn u(e,i).then(function(e){if(r&amp;&amp;!e.typeIndexListed.graph)throw new Error("Profile has no Listed type index");if(!r&amp;&amp;!e.typeIndexUnlisted.graph)throw new<span class="fstat-no" title="function not covered" > E</span>rror("Profile has no<span class="cstat-no" title="statement not covered" > Unlisted type index"<span class="fstat-no" title="function not covered" >);</span>return p(e,t,i,<span class="cstat-no" title="statement not covered" >r,n)})}e.exports.addTo</span>TypeIn<span class="cstat-no" title="statement not covered" ></span>dex=a,e<span class="cstat-no" title="statement not covered" >.exports.blankPrivateTypeIndex=n,e.exports.blankP<span class="cstat-no" title="statement not covered" >u</span></span>blicTypeIndex=i,<span class="fstat-no" title="function not covered" >e.</span>exports.init<span class="cstat-no" title="statement not covered" >TypeRegistryPrivate=o,e.exports.initTypeRegistryPub</span>lic=s,</span>e.e</span>xports.lo<span class="fstat-no" title="function not covered" >ad</span>TypeRegistry=u,e.ex<span class="cstat-no" title="statement not covered" >ports.re<span class="cstat-no" title="statement not covered" >gisterType=c,e.exports.typeRegistryForC<span class="cstat-no" title="statement not covered" >l</span></span>ass=l,e.exports.<span class="cstat-no" title="statement not covered" >unregisterType=h;var d=r(87),y=r(85),g=r(<span class="cstat-no" title="statement not covered" >8</span></span>4),v=r(85),m=<span class="cstat-no" title="statement not covered" >r(82)},function(e,t){"use strict";function r(e,t,r,n,i){this.isListed=<span class="cstat-no" title="statement not covered" >i</span></span>,this.locationType=r,this.locationUri=n,this.rdfClass=t,this.reg<span class="cstat-no" title="statement not covered" >istrationUri=e}e.exports=r,r.prototype.is<span class="cstat-no" title="statement not covered" >C</span></span>ontainer=function()<span class="fstat-no" title="function not covered" >{r</span>eturn"contai<span class="cstat-no" title="statement not covered" >ner"===this.locationType},r.prototype.isInstance=function(){return"instance"===this.locationType}}</span>,functi<span class="fstat-no" title="function not covered" >on</span>(e,t,r){"use<span class="cstat-no" title="statement not covered" > strict";function n(e,t){var</span> r;</span>return t.<span class="fstat-no" title="function not covered" >he</span>ad(e).then(functio<span class="cstat-no" title="statement not covered" >n(e</span>){if<span class="cstat-no" title="statement not covered" >(r=<span class="cstat-no" title="statement not covered" ></span>e.aclAbsoluteUrl(),!r)throw new Error("ACL URL not found for resource.");return t.del(r)})}function i</span>(e,t,r){v<span class="fstat-no" title="function not covered" >ar</span> n,i;return t.head(e).then(<span class="cstat-no" title="statement not covered" >funct</span>ion(<span class="cstat-no" title="statement not covered" >s){<span class="cstat-no" title="statement not covered" ></span>if(n=s.a<span class="cstat-no" title="statement not covered" >clAbsolute</span></span>Url(),!<span class="cstat-no" title="statement not covered" >n)throw new Error("ACL URL not found<span class="cstat-no" title="statement not covered" ></span> for resource.");<span class="fstat-no" title="function not covered" >re</span>turn i=new o<span class="cstat-no" title="statement not covered" >(e,n,s.isContainer(),{rdf:r,webClient:t}),t.get(n).then(function(e){return <span class="fstat-no" title="function not covered" >e.</span>parsedGraph(<span class="cstat-no" title="statement not covered" >)})}).then(function(e){return i.initFromGraph(e),i})}v</span>ar o=r(89),s=r(90),a=r(91);e.exports.clearPermissions=n,e.exports.getPer<span class="fstat-no" title="function not covered" >mi</span>ssions=i,e.e<span class="cstat-no" title="statement not covered" >xports.PermissionSet=o,e.exports.Authorization=s,Object</span>.as</span>sign(e</span>.exports,<span class="fstat-no" title="function not covered" >a.</span>acl)},function(e,t,r){"use s<span class="cstat-no" title="statement not covered" >trict"<span class="cstat-no" title="statement not covered" ></span>;function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return o(e)?e:e+p}functi<span class="cstat-no" title="statement not covered" >on o(e){return e.endsWith(p)}function s(e){return"string"==typeof</span></span> e?e.st<span class="cstat-no" title="statement not covered" >artsWith("mail<span class="cstat-no" title="statement not covered" ></span>to:"):e.object.value<span class="cstat-no" title="statement not covered" >.startsWith("mailto:")}var<span class="cstat-no" title="statement not covered" > </span></span>a=function(){funct<span class="fstat-no" title="function not covered" >io</span>n e(e,t){for<span class="cstat-no" title="statement not covered" >(var r=0;r&lt;t.length;r++){var</span> n=t</span>[r];n.e<span class="cstat-no" title="statement not covered" >num<span class="cstat-no" title="statement not covered" ></span>erable=n.e<span class="fstat-no" title="function not covered" >nu</span>merable||!1,<span class="cstat-no" title="statement not covered" >n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineP<span class="fstat-no" title="function not covered" >ro</span>perty(e,n.ke<span class="cstat-no" title="statement not covered" >y,n)}}retur</span>n f</span>unc</span>tion(t,<span class="cstat-no" title="statement not covered" >r,n<span class="cstat-no" title="statement not covered" ></span>){return r&amp;&amp;e(t.prototype,r),<span class="fstat-no" title="function not covered" >n&amp;</span>&amp;e(t,n),t}}(<span class="cstat-no" title="statement not covered" >),u=r(90),c=r(91),l=c.acl,f=r(82</span>),p</span>=".acl",h<span class="fstat-no" title="function not covered" >="</span>text/turtle",d="<span class="cstat-no" title="statement not covered" >resource<span class="cstat-no" title="statement not covered" >",y="container",g="agents",v="groups",m<span class="cstat-no" title="statement not covered" >=</span></span>function(){funct<span class="cstat-no" title="statement not covered" >ion e(t,r,s){var a=arguments.length&lt;=3||v<span class="cstat-no" title="statement not covered" >o</span></span>id 0===<span class="cstat-no" title="statement not covered" >arguments[3]?{}:arguments[3];n(this,e),this.authorizations={<span class="cstat-no" title="statement not covered" >}</span></span>,this.aclUrl=r,this<span class="fstat-no" title="function not covered" >.h</span>ost=a.host,t<span class="cstat-no" title="statement not covered" >his.index={agents:{},groups:{}},thi<span class="cstat-no" title="statement not covered" >s.rdf=a.rdf,this.resourceType=s?y:d,this.resourceUrl<span class="cstat-no" title="statement not covered" >=</span></span>t,this.strictOrigin=a.strictOrigin,th<span class="cstat-no" title="statement not covered" >is.origin=a.origin,this.webClient=a.webClient,this.acl<span class="cstat-no" title="statement not covered" >U</span></span>rlFor=a.aclUrlFor?a.aclU</span>rlF<span class="cstat-no" title="statement not covered" ></span>or:i,this.aclUrlFor.bind(this),this.isAcl=a.isAcl?a.isAcl:o,this.isAcl.bind(this),a.graph&amp;&amp;this.initFromGraph(a.graph)}return a(e,[{key:"addAuthorization",value:function(e){var t=e.hashFragment();return t in this.authorizations?this.authorizations[t].mergeWith(e):this.authorizations[t]=e,!e.virtual&amp;&amp;e.all</span>owsCont<span class="cstat-no" title="statement not covered" >rol()&amp;</span>&amp;thi<span class="cstat-no" title="statement not covered" >s.addC</span>ontr<span class="cstat-no" title="statement not covered" >olPerm</span>issi<span class="cstat-no" title="statement not covered" >onsFor</span>(e),<span class="cstat-no" title="statement not covered" >this.a</span>ddT<span class="fstat-no" title="function not covered" >oA</span>gentIndex(e.webId(),e.accessType,e.re<span class="fstat-no" title="function not covered" >so</span>urceUrl,e),e.isP<span class="cstat-no" title="statement not covered" >ublic()&amp;&amp;this.addToPublicIndex(e.resourceUrl,e.accessType,e),this}},{key:"addAuthorizationFor",value:function<span class="cstat-no" title="statement not covered" ></span>(e,t,r,n){var i=arguments.length&lt;=4||void<span class="fstat-no" title="function not covered" > 0</span>===argument<span class="cstat-no" title="statement not covered" >s[4]?[]:arguments[4],o=arguments.length&lt;=5</span>||void 0===arguments[5]?[]:<span class="fstat-no" title="function not covered" >ar</span>guments[5],<span class="cstat-no" title="statement not covered" >s=new u(e,t);return s.setAgent(r),s.addMo</span>de</span>(n<span class="fstat-no" title="function not covered" >),</span>s.addOrigin(i),o.forEach(function(e){s.a<span class="fstat-no" title="function not covered" >dd</span>MailTo(e)}),t<span class="cstat-no" title="statement not covered" >his.addAuthorization(s<span class="fstat-no" title="function not covered" >),</span>s}},{key:"ad<span class="cstat-no" title="statement not covered" >dControlPermissionsFor",value:fu<span class="cstat-no" title="statement not covered" >nction(e){var t=e.clone();t.resourceUrl=this.aclUrl<span class="cstat-no" title="statement not covered" >F</span></span>or(e.resourceUrl</span>),t</span>.virtual=<span class="fstat-no" title="function not covered" >!0</span>,t.addMode(l.ALL_MO<span class="cstat-no" title="statement not covered" >DES),this.addAuthoriza<span class="fstat-no" title="function not covered" >ti</span>on(t)}},{key<span class="cstat-no" title="statement not covered" >:"addGroupPermission",value:func<span class="cstat-no" title="statement not covered" >tion(e,t){var r=new u(this.resourceUrl,this.isAuthI<span class="cstat-no" title="statement not covered" >n</span></span>herited());return r.setGroup(e),r.addMode(t),this.addAuthorization(r),this}},{ke<span class="fstat-no" title="function not covered" >y:</span>"addPermissi<span class="cstat-no" title="statement not covered" >on",value:function(e,t,r</span>){i</span>f(!e)th<span class="fstat-no" title="function not covered" >ro</span>w new Error(<span class="cstat-no" title="statement not covered" >"addPermission() requires a va</span>lid</span> webId")<span class="cstat-no" title="statement not covered" >;if(!t</span>)thr<span class="cstat-no" title="statement not covered" >ow new</span> Err<span class="cstat-no" title="statement not covered" >or("ad<span class="cstat-no" title="statement not covered" ></span>dPermission() requires a valid accessMode");var n=new u(this.resourceUrl,this.isAuthInherited());return n.setAgent(e),n.addMode(t),r&amp;&amp;n.addOrigin(r),this</span>.a<span class="fstat-no" title="function not covered" >dd</span>Authorization(n),this}},{key:"addToAgent<span class="fstat-no" title="function not covered" >In</span>dex",va<span class="cstat-no" title="statement not covered" >lue:function(e,t,r,n){v<span class="cstat-no" title="statement not covered" >ar i=this.index.agents;i[e]||(i[e]={}),i[e][t]||(i[e][t]={</span></span>}),i[e][t<span class="fstat-no" title="function not covered" >][</span>r]?i<span class="cstat-no" title="statement not covered" >[e][t][r].mergeWith(n):i[</span>e][t][r]=<span class="fstat-no" title="function not covered" >n}</span>},{k<span class="cstat-no" title="statement not covered" >ey:"addToGroupIndex",v</span>alue:func<span class="fstat-no" title="function not covered" >ti</span>on(e<span class="cstat-no" title="statement not covered" >,t,r,n){var i=this.index.groups;i[e]||(i[e]={}),i[e][t]||(i[e][t]={}),i[e][t][r]?i[e][t][r].me</span>rgeWith(<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >n)</span>:i[e][t][r]=n}},{key<span class="fstat-no" title="function not covered" >:"</span>addToPu<span class="cstat-no" title="statement not covered" >blicIndex",value:function(e,t,r){this.addToG<span class="cstat-no" title="statement not covered" >roupI<span class="cstat-no" title="statement not covered" ></span>ndex(l.EVERYONE,t,e,r)}},{key:"allAuthorizations",value:function(){var e,t=this,r=[];return Object.keys(this.authorizations).fo</span>r<span class="cstat-no" title="statement not covered" ></span>Each(fu<span class="fstat-no" title="function not covered" >nc</span>tion(n){e=t.author<span class="cstat-no" title="statement not covered" >izations[n],r.push(e)}),r}},{key:"allowsPublic",</span>va</span>lue</span>:fun<span class="cstat-no" title="statement not covered" >ction(</span>e,t)<span class="cstat-no" title="statement not covered" >{t=t||</span>this<span class="cstat-no" title="statement not covered" >.resou</span>rceU<span class="cstat-no" title="statement not covered" >rl;var</span> r=t<span class="cstat-no" title="statement not covered" >his.fin</span>dPub<span class="cstat-no" title="statement not covered" >licAuth(t);ret</span>urn!<span class="cstat-no" title="statement not covered" >!r&amp;&amp;(this.c</span>heck<span class="cstat-no" title="statement not covered" >Origin(r)&amp;&amp;r</span>.all<span class="cstat-no" title="statement not covered" >owsMode(e</span>))}}<span class="cstat-no" title="statement not covered" >,{key:"bu</span>ildG<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >ra</span>ph",value:function(e<span class="fstat-no" title="function not covered" >){</span>var t=e.graph();re<span class="cstat-no" title="statement not covered" >turn this.allAuthorizations().forEach(function(r){t.add(r.rdfStatemen<span class="cstat-no" title="statement not covered" ></span>ts(e))}),t}},{key:"checkAccess",value:function(e,t,r){var n=void 0;if(this.allowsPublic(r,e))n=!0;else{var i=this.findAuthByAgent(t,e);n=i&amp;&amp;this.checkOrigin(i)&amp;&amp;i.allowsMode(r)}return Promise.resolve(n)}},{key:"checkOrigin",value:function(e){return!this.strictOrigin||!this.origin||this.origin===this.host||e.allowsOrigin(this.origin)}},{key:"clear",value:function(e){if(e=e||this.webClient,!e)return Promise.reject(new Error("Cannot clear - no web cl<span class="cstat-no" title="statement not covered" ></span>ient"));var t=this.aclUrl;return t?e.del(t):Promise.reject(new Error("Cannot clear<span class="fstat-no" title="function not covered" > - unk</span>nown target <span class="cstat-no" title="statement not covered" >url"))}},{key:"eq<span class="cstat-no" title="statement not covered" ></span>uals",value:function(e){var t=this,r=this.resourceUrl===e.resourceUrl,n=this.aclUrl===e.aclUrl,i=this.resourceType===e.resourceType,o=Object.keys(this.authorizations),s=Object.keys(e.authorizations);if(o.length!==s.length)return!1;var a,u,c=!0;return o.forEach(function(r){a=t.authorizations[r],u=e.authorizatio</span>ns[r],u||(c=!1),a.equals(u)||(c=!1)}),r&amp;&amp;n&amp;&amp;i&amp;&amp;c}},{key:"findAuthByAgent",va<span class="fstat-no" title="function not covered" >lue:fu</span>nction(e,t){var r=arg<span class="cstat-no" title="statement not covered" >uments.length&lt;=2||void 0===arguments[2]?g:arguments[2],n=this.index[r</span>];if<span class="cstat-no" title="statement not covered" >(!n[e])return!1;var i=n[e][l.ACCESS_TO],o=void 0;if(i&amp;&amp;(o=i[t]),o)ret</span>urn <span class="cstat-no" title="statement not covered" >o;var s=n[e]<span class="cstat-no" title="statement not covered" ></span>[l.DEFAULT],a=void 0;if(s&amp;&amp;(a=s[t],!a)){var u=Object.keys(s).s<span class="fstat-no" title="function not covered" >or</span>t().reverse(<span class="cstat-no" title="statement not covered" >),c=!0,f=!1,p=vo</span>id 0;try{for(var h,d=u[Symbol.it</span>erator]();!(c=(h=d.next()).done);c=!0){var y=h.value;if(t.startsWith(y)){a=s[y];b<span class="fstat-no" title="function not covered" >reak}}</span>}catch(e){f=<span class="cstat-no" title="statement not covered" >!0,p=e}fin<span class="cstat-no" title="statement not covered" ></span>ally{try{!c&amp;&amp;d.return&amp;&amp;d.return()}finally{if(f)throw p}}}return a}},{key:"findPublicAuth",value:function(e){retur</span>n this.findAuthByAgent(l.EVERYONE,e,v)}},{key:"forEach",value:function(e){v<span class="fstat-no" title="function not covered" >ar t=t</span>his;this.allAut<span class="cstat-no" title="statement not covered" >horizations().forEach(function(r){e.call(t,r)})}<span class="cstat-no" title="statement not covered" ></span>},{key:"initFromGraph",value:function(e){var t=this,r=f(this.rdf),n=</span>e.match(null,null,r.acl("Authorization"));n.length?n=n.map(function(e)<span class="fstat-no" title="function not covered" >{retur</span>n e.subjec<span class="cstat-no" title="statement not covered" >t}):!fun<span class="cstat-no" title="statement not covered" >ction(){var t={};n=e.match(null,r.acl("mode")),n.forEach(f<span class="cstat-no" title="statement not covered" >u</span></span>nction(<span class="cstat-no" title="statement not covered" >e){t[e.subject.value]=e.subject}),n=Object.keys(t).map(function(</span></span>e){retu<span class="cstat-no" title="statement not covered" >rn t[e]})}(),n.forEach(function(n){var i=e.match<span class="cstat-no" title="statement not covered" ></span>(n,r.acl("mode")),o=e.match(n,r.acl("origin")),a=e.match(n,r.acl("agent")),u=a.filter(s);</span>a=a.filter(function(e){return!s(e)});var c=e.match(n,r.acl("agentClass")<span class="fstat-no" title="function not covered" >,r.foa</span>f("Agent")),f=e.match<span class="cstat-no" title="statement not covered" >(n,r.acl("agentGro<span class="cstat-no" title="statement not covered" ></span>up")),p=a.concat(c).concat(f);p.forEach(function(s){var a=e.match(n,r.acl("accessTo"));a.forEach(functi</span>on(e){var r=e.object.value;t.addAuthorizationFor(r,l.NOT_INHERIT,s,i,o,u<span class="fstat-no" title="function not covered" >)});va</span>r c=e.match(n,r.acl("<span class="cstat-no" title="statement not covered" >default")).concat(<span class="cstat-no" title="statement not covered" ></span>e.match(n,r.acl("defaultForNew")));c.forEach(function(e){var r=e.object.value;t.addAuthorizationFor(r,l</span>.INHERIT,s,i,o,u)})})})}},{key:"isAuthInherited",value:function(){return <span class="fstat-no" title="function not covered" >this.r</span>esourceTyp<span class="cstat-no" title="statement not covered" >e===y}},{key:"isEmpty",value:function(){ret</span>urn 0===this.count}},{key:"permissionFor",value:function(e,t){if(!e)return<span class="fstat-no" title="function not covered" > null;</span>t=t||this.res<span class="cstat-no" title="statement not covered" >ource</span>Url;<span class="cstat-no" title="statement not covered" >var<span class="cstat-no" title="statement not covered" ></span> r=u.hashFragmentFor(e,t);return this.authorizat<span class="fstat-no" title="function not covered" >io</span>ns[r]}},{key<span class="cstat-no" title="statement not covered" >:"removeAuthorization",value:functio</span>n(e){v</span>ar t=e.hashFragment();return delete this.authorizations[t],this}},{ke<span class="fstat-no" title="function not covered" >y:"rem</span>ovePerm<span class="cstat-no" title="statement not covered" >ission",value:function(e,t)</span>{var r=<span class="cstat-no" title="statement not covered" >this.permissionFor(e,th<span class="cstat-no" title="statement not covered" ></span>is.resourceUrl);return r?(r.removeMode(t),r.isEmpty()&amp;</span>&amp;this.removeAuthorization(r),this):this}},{key:"save",value:functio<span class="fstat-no" title="function not covered" >n(){va</span>r e=this,t=a<span class="cstat-no" title="statement not covered" >rguments.l<span class="cstat-no" title="statement not covered" ></span>ength&lt;=0||void 0===arguments[0]?{}:argum<span class="fstat-no" title="function not covered" >en</span>ts[0],r=t.ac<span class="cstat-no" title="statement not covered" >lUrl||this.aclUrl,n=t.conte</span>ntType</span>||h;return r?this.webClient?this.serialize({contentType:n}).then(fun<span class="fstat-no" title="function not covered" >ction(</span>t){return e.webCli<span class="cstat-no" title="statement not covered" >ent.put<span class="cstat-no" title="statement not covered" ></span>(r,t,n)}):Promise.reject(new <span class="cstat-no" title="statement not covered" >Error("C</span>annot save - <span class="cstat-no" title="statement not covered" >no web client")):Promise.re<span class="cstat-no" title="statement not covered" ></span>ject(new Error("Cannot save - unknown target url"<span class="cstat-no" title="statement not covered" ></span>)</span>)}},{key:"serialize",value</span>:function(){var e=arguments.length&lt;=0||void 0===arguments[0]?{}:argu<span class="fstat-no" title="function not covered" >ments[</span>0],t<span class="cstat-no" title="statement not covered" >=e.contentType||h,r=e.rdf||this.rdf;if(!r)return Promise.reject(new Error("Cannot save - no rdf library</span>"));var n=this.buildGraph(r),i=null,o=null;return new Promise(<span class="fstat-no" title="function not covered" >functi</span>on(e<span class="cstat-no" title="statement not covered" >,s){r.serialize(i,n,o,t,function(<span class="cstat-no" title="statement not covered" >r,n){return r?s(r):n?void e(n):s(new Error("Error serializing the </span></span>graph t<span class="cstat-no" title="statement not covered" >o "+t))})})}<span class="cstat-no" title="statement not covered" ></span>},{key:"count",get:function(){return Object.keys(this.authorizations).length}}]),e}();</span>m.RESOURCE=d,m.CONTAINER=y,e.exports=m},function(e,t,r){"use st<span class="fstat-no" title="function not covered" >rict";</span>function n(e<span class="cstat-no" title="statement not covered" >,t){i</span>f(!(<span class="cstat-no" title="statement not covered" >e instanceof t))throw new TypeError</span>("Ca<span class="cstat-no" title="statement not covered" >nnot call a class as a fu</span>ncti<span class="cstat-no" title="statement not covered" >on")}function i(e,t){var r=arguments.</span>leng<span class="cstat-no" title="statement not covered" >th&lt;=2||void 0===arguments[2]?u.AC</span>CESS<span class="cstat-no" title="statement not covered" >_TO:arguments[2],n=e+"-"+t+"-"<span class="cstat-no" title="statement not covered" ></span>+r;return n}var o=function(<span class="cstat-no" title="statement not covered" >){function </span></span>e(e,t){for(<span class="cstat-no" title="statement not covered" >var<span class="cstat-no" title="statement not covered" ></span> r=0;r&lt;t.length;r<span class="fstat-no" title="function not covered" >++</span>){var n=t[r]<span class="cstat-no" title="statement not covered" >;n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defin</span>eProperty(e,n.key,n)}</span>}return function(t,r,n){return r&amp;&amp;e(t.prototype,r),n&amp;&amp;e(t,n),t}}(),s=r(8<span class="fstat-no" title="function not covered" >2),a=r</span>(91),u=a.acl,c=<span class="cstat-no" title="statement not covered" >function(){function e(t,r){n(this,e),this.accessModes={},this.access</span>Type<span class="cstat-no" title="statement not covered" >=r?u.DEFAULT:u<span class="cstat-no" title="statement not covered" ></span>.ACCESS_TO,<span class="cstat-no" title="statement not covered" >this.agent=</span></span>null,th<span class="cstat-no" title="statement not covered" >is.group=null,this</span>.inh<span class="cstat-no" title="statement not covered" >erited=<span class="cstat-no" title="statement not covered" ></span>r,this.mailTo=[],this.or<span class="cstat-no" title="statement not covered" >iginsAllow</span></span>ed={},t<span class="cstat-no" title="statement not covered" >his.resourceUrl=</span>t,th<span class="cstat-no" title="statement not covered" >is.virt<span class="cstat-no" title="statement not covered" ></span>ual=!1}return o(e,[{key:"addMailTo<span class="cstat-no" title="statement not covered" >",value:function(e){"string"!=ty</span>peof<span class="cstat-no" title="statement not covered" > e&amp;</span>&amp;(e=<span class="cstat-no" title="statement not covered" >e.o</span>bjec<span class="cstat-no" title="statement not covered" >t.value<span class="cstat-no" title="statement not covered" ></span>),e.s<span class="cstat-no" title="statement not covered" >tartsWith("mailto:")&amp;&amp;(e=e.split(":")[1]),this.mailTo.push(e),this.mailTo.sort()}},<span class="cstat-no" title="statement not covered" >{key:"ad<span class="cstat-no" title="statement not covered" ></span>dMode",value:function(<span class="cstat-no" title="statement not covered" >e){var t=<span class="cstat-no" title="statement not covered" >t</span>his;re</span>t</span>u</span>rn Array.isA<span class="cstat-no" title="statement not covered" >rray(e)?e.forEa</span>ch(functio<span class="cstat-no" title="statement not covered" >n(e){<span class="cstat-no" title="statement not covered" >t.addModeSingle(e)}):this.addM</span>odeSingle(<span class="cstat-no" title="statement not covered" >e),this<span class="cstat-no" title="statement not covered" >}},{key:"</span></span>a</span>d<span class="cstat-no" title="statement not covered" ></span>d</span>ModeSingl</span>e",value:function(e){return"string"!=typeof e&amp;&amp;(e=e.object.value),this.<span class="fstat-no" title="function not covered" >access</span>Mode<span class="cstat-no" title="statement not covered" >s[e]=!0,this}},{key:"addOrigin",value:function(</span>e){var t=this;return Array.isArray(e)?e.forEach(function(e){t.ad<span class="fstat-no" title="function not covered" >dOrigi</span>nSingle(e)})<span class="cstat-no" title="statement not covered" >:this<span class="cstat-no" title="statement not covered" ></span>.addOriginSingle(e),this}},{key:"<span class="fstat-no" title="function not covered" >ad</span>dOriginSingl<span class="cstat-no" title="statement not covered" >e",value:funct</span>ion</span>(e){return"string"!=typeof e&amp;&amp;(e=e.object.value),this.originsAllowed[e<span class="fstat-no" title="function not covered" >]=!0,t</span>his}},{key:"<span class="cstat-no" title="statement not covered" >allMo</span>des"<span class="cstat-no" title="statement not covered" >,value:funct</span>ion(<span class="cstat-no" title="statement not covered" >){return Object.keys(this.accessModes)}},{ke<span class="cstat-no" title="statement not covered" ></span>y:"allOrigins",value:<span class="fstat-no" title="function not covered" >fu</span>nction(){ret<span class="cstat-no" title="statement not covered" >urn Object.keys(th</span>is.or<span class="fstat-no" title="function not covered" >ig</span>insAllowed)}},{key:<span class="cstat-no" title="statement not covered" >"al<span class="cstat-no" title="statement not covered" ></span>lowsMode",value:function(e){return e=u[e.toU<span class="fstat-no" title="function not covered" >pp</span>erCase()]||e<span class="cstat-no" title="statement not covered" >,e===u.APPEND?this.allowsAppend(</span>):this.accessModes[e]}},{k<span class="fstat-no" title="function not covered" >ey</span>:"allowsOrig<span class="cstat-no" title="statement not covered" >in",value:fun</span>cti</span>on(e){return e<span class="fstat-no" title="function not covered" > i</span>n this.originsAllowe<span class="cstat-no" title="statement not covered" >d}},{key:"allowsRead",valu</span>e:fu<span class="cstat-no" title="statement not covered" >nction(){return this.accessM</span>odes<span class="cstat-no" title="statement not covered" >[u.READ]}},{key:"allowsWrit</span>e",v<span class="cstat-no" title="statement not covered" >alue:functio<span class="cstat-no" title="statement not covered" ></span>n(){return th<span class="fstat-no" title="function not covered" >is</span>.accessModes<span class="cstat-no" title="statement not covered" >[u.WRITE]}},{k</span>ey:</span>"allows<span class="cstat-no" title="statement not covered" >Append",value:function(){return this.accessModes[</span>u.AP<span class="cstat-no" title="statement not covered" >PEND]||this.accessModes[u.WRITE]</span>}},{<span class="cstat-no" title="statement not covered" >key:"allowsControl",va<span class="cstat-no" title="statement not covered" ></span>lue:functi<span class="fstat-no" title="function not covered" >on</span>(){return this.acces<span class="cstat-no" title="statement not covered" >sModes[u.CONTROL]}},{key:"clon<span class="cstat-no" title="statement not covered" ></span>e",value:f<span class="fstat-no" title="function not covered" >un</span>ction(){var t=new e;<span class="cstat-no" title="statement not covered" >return Object.a<span class="cstat-no" title="statement not covered" ></span>ssign(t,JSON.parse(JSON.stringify(this))),t}},{key:"e</span>qua</span>ls",val<span class="cstat-no" title="statement not covered" >ue:function(e){var t=this.agent===e.agent,r=this.group===e.group,n=this.<span class="cstat-no" title="statement not covered" ></span>resourceUr<span class="fstat-no" title="function not covered" >l=</span>==e.resourceUrl,i=Ob<span class="cstat-no" title="statement not covered" >ject.keys(this.<span class="cstat-no" title="statement not covered" ></span>accessModes),o=Object.keys(e.accessModes),s=i.len</span>gth</span>===</span>o.l</span>ength,a=JSON.stringify(this.inherited)===JSON.stringify(e.inherited),u=!<span class="fstat-no" title="function not covered" >0;i.fo</span>rEa<span class="cstat-no" title="statement not covered" >ch(function(t){e.accessModes[t]|</span>|(u=!1)});var c=JSON.stringify(this.mailTo)===JSON.stringify(e.m<span class="fstat-no" title="function not covered" >ailTo)</span>,l=<span class="cstat-no" title="statement not covered" >JSON.stringify(this.origi</span>nsAllowed)===JSON.stringify(e.originsAllowed);return t&amp;&amp;r&amp;&amp;n&amp;&amp;s&amp;&amp;u&amp;&amp;a&amp;<span class="fstat-no" title="function not covered" >&amp;c&amp;&amp;l}</span>},{key:<span class="cstat-no" title="statement not covered" >"hashFra<span class="cstat-no" title="statement not covered" >gment",value<span class="cstat-no" title="statement not covered" >:</span></span>function e(){if(!this.webI</span>d||!thi<span class="cstat-no" title="statement not covered" >s.resourceUrl)throw new <span class="cstat-no" title="statement not covered" ></span>Error("Cannot call hashFragment</span>() on an incomplete authorization");var e=i(this.webId(),this.resourceUrl,th<span class="fstat-no" title="function not covered" >is.acc</span>essType);ret<span class="cstat-no" title="statement not covered" >urn e}},{key:"isA<span class="cstat-no" title="statement not covered" ></span>gent",value:function(){return this.agent}},{</span>key:"isEmpty",value:function(){return 0===Object.keys(this.accessModes).l<span class="fstat-no" title="function not covered" >ength}</span>},{key:"isPubli<span class="cstat-no" title="statement not covered" >c",value:function(){return this.group===<span class="cstat-no" title="statement not covered" ></span>u.EVERYONE}},{key:"isGroup",value:function(){return this.group}},{key:"isInherited",val</span>ue:function(){return this.inherited}},{key:"isValid",value:fu<span class="fstat-no" title="function not covered" >nction</span>(){return t<span class="cstat-no" title="statement not covered" >his.w</span>ebId<span class="cstat-no" title="statement not covered" >()&amp;&amp;this.resourceUrl&amp;&amp;!this.isEmpty()}},{key:"mergeWith",value:functi</span>on(e<span class="cstat-no" title="statement not covered" >){if(this.hashFragment()</span>!==e<span class="cstat-no" title="statement not covered" >.hashFragment())thr<span class="cstat-no" title="statement not covered" ></span>ow new Error("Cannot merge authorizations with different agent id or<span class="fstat-no" title="function not covered" > r</span>esource url <span class="cstat-no" title="statement not covered" >(accessTo)");<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
for(<span class="cstat-no" title="statement not covered" >var t in e.accessModes)this.a<span class="cstat-no" title="statement not covered" >ddMode(t)}},{key:</span></span>"rdfStatements",value:function(e){if(!this.webId()||!this.resourceUrl)<span class="fstat-no" title="function not covered" >return</span>[];i<span class="cstat-no" title="statement not covered" >f(this.virtual)return[];var t,r=e.namedN<span class="cstat-no" title="statement not covered" >ode("#"+th<span class="cstat-no" title="statement not covered" >i</span></span>s.hashFragment())<span class="cstat-no" title="statement not covered" >,n=s(e),i=[</span></span>e.triple(<span class="cstat-no" title="statement not covered" >r,n.rdf("type"),n.acl("Authorization"))</span>];th<span class="cstat-no" title="statement not covered" >is.ag</span>ent&amp;<span class="cstat-no" title="statement not covered" >&amp;(t=e.triple(r,n.acl("agent"),e.namedNode(this.agent)<span class="cstat-no" title="statement not covered" ></span>),i.push(t)),this.mailTo.length&gt;0&amp;&amp;this.mailTo.forEach(function(o){t=e.triple(r,n.acl("agent"),e.namedNode("mailto:"+o)),i.push(t)}<span class="fstat-no" title="function not covered" >),</span>this.group&amp;&amp;<span class="cstat-no" title="statement not covered" >(t=e.triple(r,n.acl("agentClass"),e.namedNode(this.group)),i.push(t)),t=</span>e.triple(r,n.acl("accessTo"),e.namedNode(this.resourceUrl)),i.push(t);var o=Object.keys(this.accessModes);return o.forEach(function(o){t=e.triple(r,n.acl("mode"),e.namedNo</span>de(o)),<span class="cstat-no" title="statement not covered" >i.push(t)}),this.inherited&amp;&amp;(t<span class="cstat-no" title="statement not covered" ></span>=e.triple(r,n.acl<span class="fstat-no" title="function not covered" >("</span>defaultForNe<span class="cstat-no" title="statement not covered" >w"),e.namedNode(this.resourceUrl)),i.push(t)),this.allOrigi</span>ns().forEach(function(o){t=e.triple(r,n.acl("origin"),e.namedNode(o)),i.push(t)}),i}},{key:"removeMode",value:function(e){var t=this<span class="fstat-no" title="function not covered" >;r</span>eturn Array.<span class="cstat-no" title="statement not covered" >isArray(e)?e.forEach(function(e){t.removeModeSingle(e)}):this</span>.remov</span>eModeSingle(e),this}},{key:"removeModeSingle",value:function(e){"st<span class="fstat-no" title="function not covered" >ring"!</span>=typeof e&amp;&amp;(<span class="cstat-no" title="statement not covered" >e=e.o<span class="cstat-no" title="statement not covered" ></span>bject.value),delete this.accessModes<span class="fstat-no" title="function not covered" >[e</span>]}},{key:"re<span class="cstat-no" title="statement not covered" >moveOrigin",value:funct</span>ion(e){var t=this;return Array.isArr</span>ay(e)?e.forEach(function(e){t.removeOriginSingle(e)}):this.removeOriginSi<span class="fstat-no" title="function not covered" >ngle(e</span>),th<span class="cstat-no" title="statement not covered" >is}},{key:"removeOriginSingle",value:function(e){"string"!=typeof e&amp;&amp;(e=e.</span>object.value),delete this.originsAllowed[e]}},{key:"setAgent",value:f<span class="fstat-no" title="function not covered" >unctio</span>n(e){if("str<span class="cstat-no" title="statement not covered" >ing"!<span class="cstat-no" title="statement not covered" ></span>=typeof e&amp;&amp;(e=e.object.value),e===u.<span class="fstat-no" title="function not covered" >EV</span>ERYONE)this.<span class="cstat-no" title="statement not covered" >setPublic();else if(this.</span>group)throw new Error("Cannot set agen</span>t, authorization already has a group set");e.startsWith("mailto:")?this.add<span class="fstat-no" title="function not covered" >MailTo</span>(e):<span class="cstat-no" title="statement not covered" >this.agent=e}},{key:"setGroup",value:function(e){if("string"!=typeof e&amp;&amp;(e=e.</span>object.value),this.agent)throw new Error("Cannot set group, autho<span class="fstat-no" title="function not covered" >rizati</span>on a<span class="cstat-no" title="statement not covered" >lready has an agent set");this.group=e}},{key:"setPublic",value:func<span class="cstat-no" title="statement not covered" >tion(){this.setGro</span>up(u<span class="cstat-no" title="statement not covered" >.EVERYONE)}},{ke<span class="cstat-no" title="statement not covered" >y:"webId",value:function(){return this.agent||this.group}}]),e}();c.hashFra<span class="cstat-no" title="statement not covered" >g</span></span></span>mentFor=i,e.exports=c},function(e,t,r){"use strict";var n=r(8</span>2),i=n(),o=i.acl("Read"),s=i.acl("Write"),a=i.acl("Append"),u=i.a<span class="fstat-no" title="function not covered" >cl("Co</span>ntro<span class="cstat-no" title="statement not covered" >l"),c=i.foaf("Agent"),l=[o,s,u],f=!0,p=!f,h="accessTo",d="defa<span class="cstat-no" title="statement not covered" >ult";e.exports.acl={ALL_MODES:l,READ:o,WRITE:s,APPEND:a,CONTROL:u,EVERYONE:c<span class="cstat-no" title="statement not covered" >,</span></span>INHERIT:f,NOT_I</span>NHERIT:p,ACCESS_TO:h,DEFAULT:d}},function(e,t){"use strict";e.expo<span class="fstat-no" title="function not covered" >rts={a</span>uth<span class="cstat-no" title="statement not covered" >Endpoint:"https://yodata.me</span>",signupEndpoint:"https://yodata.me/signup",signupWindowHeight<span class="fstat-no" title="function not covered" >:600,s</span>ign<span class="cstat-no" title="statement not covered" >upWindowWidth:1024}},function(e,t</span>,r){"use str<span class="cstat-no" title="statement not covered" >ict";var n=r(94);e.exports.version=fun</span>ct<span class="fstat-no" title="function not covered" >io</span>n(){return n.version}},function(e,t){e.<span class="cstat-no" title="statement not covered" >export</span>s={n<span class="cstat-no" title="statement not covered" >ame:</span>"sol<span class="cstat-no" title="statement not covered" >id-client",ver</span>sion<span class="cstat-no" title="statement not covered" >:"0.23.6",descr</span>ipti<span class="cstat-no" title="statement not covered" >on:"Common libra</span>ry f<span class="cstat-no" title="statement not covered" >or writing Solid </span>read<span class="cstat-no" title="statement not covered" >-write-web appli</span>cati<span class="cstat-no" title="statement not covered" >ons",main:</span>"./l<span class="cstat-no" title="statement not covered" >ib/</span>inde<span class="cstat-no" title="statement not covered" >x.j</span>s",f<span class="cstat-no" title="statement not covered" >iles:["conf</span>ig.j<span class="cstat-no" title="statement not covered" >s","lib","<span class="cstat-no" title="statement not covered" ></span>dist"],scripts:{"build-lib":"babel src -d lib","build-full":"webpack --progress --config webpack.config.js --output-filename solid-client-full.</span>js<span class="fstat-no" title="function not covered" >",</span>"build-with-rdflib":"webpack<span class="cstat-no" title="statement not covered" > --progress --colors --optimize-minimize --optimize-occurrence-order --optimize-dedupe --config webpack.config.js","build-without-rdflib":"webpac</span>k <span class="fstat-no" title="function not covered" >--</span>progress --colors --optimize-minimize -<span class="cstat-no" title="statement not covered" >-optim<span class="cstat-no" title="statement not covered" ></span>ize-occurrence-order<span class="fstat-no" title="function not covered" > -</span>-optimize-d<span class="cstat-no" title="statement not covered" >edupe --config web</span>pa</span>ck<span class="fstat-no" title="function not covered" >-n</span>o-rdflib.config<span class="cstat-no" title="statement not covered" >.js","build-qunit-resources":"npm run clean &amp;&amp; mkdir -p dist/resources &amp;&amp; npm run build-full &amp;&amp; browserify -r ./test/resources/profile-minimal.js:test-minimal-profile -o dist/resources/test-minimal-profile.js &amp;&amp; browserify -r ./test/resources/profile-private.js:test-minimal-prefs -o dist/resources/test-minimal-prefs.js",build:"npm run clean &amp;&amp; mkdir dist &amp;&amp; npm run build-lib &amp;&amp; npm run build-with-rdflib &amp;&amp; npm run build-without-rdflib",clean:"rm -rf dist/",standard:"standard src/*",tape:"tape test/unit/*.js",test:"npm run standard &amp;&amp; npm run tape",qunit:"npm run build-qunit-resources &amp;&amp; open test/integration/index.html",preversion:"npm test",postversion:"git push --follow-tags",prepublish:"npm run test &amp;&amp; npm run build"},babel:{presets:["es2015"]},repository:{type:"git",url:"https://github.com/solid/solid-client"},keywords:["solid","decentralized","web","rdf","ldp","linked","data"],author:"Andrei Sambra &lt;andrei@fcns.eu&gt;",maintainers:[{name:"Dmitri Zagidulin",url:"https://github.com/dmitrizagidulin/"}],license:"MIT",bugs:{url:"https://github.com/solid/solid-client/issues"},homepage:"https://github.com/solid/solid-client",dependencies:{rdflib:"^0.13.0",shorthash:"0.0.2","solid-auth-oidc":"0.0.2","solid-auth-tls":"0.0.4","solid-namespace":"^0.1.0","solid-permissions":"^0.5.1","solid-web-client":"git://github.com/solid/solid-web-client.git#dz_oidc"},devDependencies:{"babel-cli":"^6.18.0","babel-loader":"^6.2.10","babel-preset-es2015":"^6.18.0","json-loader":"^0.5.4",nock:"^9.0.2",qunit:"^0.9.0",sinon:"^1.17.6",standard:"^5.4.1",tape:"^4.4.0",webpack:"^1.13.1"},standard:{globals:["$rdf","SolidClient","tabulator","QUnit"]}}},function(e,t){"use strict";function r(){return window.navigator.onLine}function n(e){window.addEventListener("offline",e,!1)}function i(e){window.addEventListener("online",e,!1)}e.exports.isOnline=r,e.exports.onOffline=n,e.exports.onOnline=i}]);<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span>
//# sourceMappingURL=solid-client-lite.min.js.map</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Sat May 27 2017 11:22:52 GMT-0700 (PDT)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
